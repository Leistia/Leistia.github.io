<!DOCTYPE HTML>
<html lang="zh-CN">




<head>
    <meta charset="utf-8">
    <meta name="keywords" content="IO流详解, 嘟噜嘟~">
    <meta name="description" content="嘟噜噜~">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>IO流详解 | 嘟噜嘟~</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>
 
<meta name="generator" content="Hexo 7.1.1">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>








<body>
   

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">嘟噜嘟~</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/categories/develop">
          
          <i class="fas fa-tags" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>开发技术</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/dailyLife">
          
          <i class="fas fa-tags" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>日常</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/galleries" class="waves-effect waves-light">
      
      <i class="fas fa-image" style="zoom: 0.6;"></i>
      
      <span>相册</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>Medias</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/Medias/music">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Music</span>
        </a>
      </li>
      
      <li>
        <a href="/Medias/movies">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Movies</span>
        </a>
      </li>
      
      <li>
        <a href="/Medias/books">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Books</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">嘟噜嘟~</div>
        <div class="logo-desc">
            
            嘟噜噜~
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-bookmark"></i>
			
			分类
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a href="/categories/develop " style="margin-left:75px">
				  
				   <i class="fa fas fa-tags" style="position: absolute;left:50px" ></i>
			      
		          <span>开发技术</span>
                  </a>
                </li>
              
                <li>

                  <a href="/categories/dailyLife " style="margin-left:75px">
				  
				   <i class="fa fas fa-tags" style="position: absolute;left:50px" ></i>
			      
		          <span>日常</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/galleries" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-image"></i>
			
			相册
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			Medias
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a href="/Medias/music " style="margin-left:75px">
				  
				   <i class="fa fas fa-music" style="position: absolute;left:50px" ></i>
			      
		          <span>Music</span>
                  </a>
                </li>
              
                <li>

                  <a href="/Medias/movies " style="margin-left:75px">
				  
				   <i class="fa fas fa-film" style="position: absolute;left:50px" ></i>
			      
		          <span>Movies</span>
                  </a>
                </li>
              
                <li>

                  <a href="/Medias/books " style="margin-left:75px">
				  
				   <i class="fa fas fa-book" style="position: absolute;left:50px" ></i>
			      
		          <span>Books</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    
  
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">IO流详解</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/">
                                <span class="chip bg-color"></span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/" class="post-category">
                                
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-09-16
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2024-03-14
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    147.3k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    577 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="day01-——Java基础入门"><a href="#day01-——Java基础入门" class="headerlink" title="day01 ——Java基础入门"></a>day01 ——Java基础入门</h1><p>Hello，各位小伙伴大家好，欢迎来到Java的世界，咱们正式开干！！！</p>
<h2 id="一、-Java背景知识"><a href="#一、-Java背景知识" class="headerlink" title="一、 Java背景知识"></a>一、 Java背景知识</h2><p>在正式开干之前，我们先了解一下Java的背景知识，方便以后你在和大家聊Java的时候可以说到一块去。</p>
<h3 id="1-1-Java语言的历史"><a href="#1-1-Java语言的历史" class="headerlink" title="1.1 Java语言的历史"></a>1.1 Java语言的历史</h3><ul>
<li><strong>Java是哪家公司的产品？</strong><br>Java是美国Sun（Stanford University Network，斯坦福大学网络公司）公司在1995年推出的一门计算机<strong>高级编程语言</strong>。但是在2009年是Sun公司被Oracle（甲骨文）公司给收购了，所以目前Java语言是Oracle公司所有产品。 </li>
<li><strong>Java名称的来历？</strong><br>早期这门语言的名字其实不叫Java，当时称为Oak（橡树的意思），为什么叫橡树呢？原因是因为Sun公司的门口种了很多橡树，但是后来由于商标注册时，Oak商标已经其他公司注册了，所以后面改名为Java了。那么有人好奇为什么叫Java呢？Java是印度的一个岛屿，上面盛产咖啡，可能是因为他们公司的程序员喜欢喝咖啡，所以就改名为Java了。 </li>
<li><strong>Java的创始人是谁？</strong> </li>
<li>说完Java名称的来历之后，接下来我们聊聊Java的祖师爷是谁？ Java的联合创始人有很多，但是行业普遍认可的Java的创始人 是<strong>詹姆斯●高斯林</strong>，被称为Java之父</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057527802-f3db1730-4dc1-4f21-ae40-fa2ae2cea4f7.png#averageHue=%23e2d8d5&amp;id=i6oFX&amp;originHeight=993&amp;originWidth=1739&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-2-Java能做什么"><a href="#1-2-Java能做什么" class="headerlink" title="1.2 Java能做什么"></a>1.2 Java能做什么</h3><p>了解了Java语言的历史之后，接下来，大家比较关心的问题可能是Java到底能做什么了？</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057528138-f943459d-f277-4034-ac8c-cd1e7e206795.png#averageHue=%23f6f0f0&amp;id=MIOee&amp;originHeight=932&amp;originWidth=2480&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>其实Java能做的事情非常多，它可以做桌面应用的开发、企业互联网应用开发、移动应用开发、服务器系统开发、大数据开发、游戏开发等等。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>桌面应用开发：能够在电脑桌面运行的软件</span><br><span class="line">	举例：财务管理软件、编写程序用的IDEA开发工具等，可以用Java语言开发</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>企业级应用开发：大型的互联网应用程序</span><br><span class="line">	举例：淘宝、京东、大家每天都用的tlias教学管理系统等</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>移动应用开发：运行的Android手机端的软件</span><br><span class="line">	举例：QQ客户端、抖音APP等</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>服务器系统：应用程序的后台（为客户端程序提供数据）</span><br><span class="line">	举例：服务器系统为用户推荐那你喜爱的视频</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>大数据开发：大数据是一个互联网开发方向</span><br><span class="line">	举例：目前最火的大数据开发平台是Hadoop，就是用Java语言开发的</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>游戏开发：游戏本质上是给用户提供娱乐的软件，有良好的交互感受</span><br><span class="line">	举例：我的世界MineCraft就是用Java语言开发的</span><br></pre></td></tr></tbody></table></figure>

<p>虽然Java能做的事情非常多，但并不是每一个方向都被市场认可（比如桌面应用使用Java语言开发就不太方便，而使用C#语言是比较推荐的）。<strong>目前Java的主流开发方向是使用Java开发企业级互联网应用程序</strong>（很多公司的OA系统，客户关系管理系统，包括传智播客使用教学实施管理系统都是用Java语言开发的）</p>
<h3 id="1-3-Java的技术体系"><a href="#1-3-Java的技术体系" class="headerlink" title="1.3 Java的技术体系"></a>1.3 Java的技术体系</h3><p>说完Java语言能做什么之后，接下来我们再给同学们介绍一下Java的技术体系。所谓技术体系，就是Java为了满足不同的应用场景提供了不同的技术版本，主要有三个版本。</p>
<ul>
<li>Java SE（Java Standard Edition）：叫做标准版，它是后面两个版本的基础，也就是学习后面两个版本必须先学习JavaSE。<strong>我们基础班现阶段学习的就是这个版本中的技术</strong>。 </li>
<li>Java EE（Java Enterprise Edition）: 叫做企业版，它是为企业级应用开发提供的一套解决方案。<strong>在后面就业班课程中主要学习这个版本中的技术</strong>。 </li>
<li>Java ME（Java Micro Edition）：叫做小型版，它为开发移动设备的应用提供了一套解决方案。<strong>目前已经不被市场认可（淘汰），取而代之的是基于Android系统的应用开发</strong>。</li>
</ul>
<hr>
<p>Java语言的相关背景就给大家介绍到这里了，这些内容小伙伴们也不用刻意去记，简单了解一下就可以了。下面我们在简要回顾一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>Java是什么？</span><br><span class="line">	答：Java是一门高级编程语言</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>Java是哪家公司的产品？</span><br><span class="line">	答：Java以前是Sun公司的产品，现在Java是属于Oracle公司的产品</span><br><span class="line">	</span><br><span class="line"><span class="number">3.</span>Java之父是谁？</span><br><span class="line">	答：詹姆斯●高斯林</span><br><span class="line">	</span><br><span class="line"><span class="number">4.</span>Java主流的开发方向是什么？</span><br><span class="line">	答：企业级互联网应用开发</span><br><span class="line">	</span><br><span class="line"><span class="number">5.</span>Java技术平台有哪些？</span><br><span class="line">	答：JavaSE（标准版）、JavaEE（企业版）、JavaME（小型版）</span><br></pre></td></tr></tbody></table></figure>

<h2 id="二、-Java快速入门"><a href="#二、-Java快速入门" class="headerlink" title="二、 Java快速入门"></a>二、 Java快速入门</h2><p>上一章我们给小伙伴们介绍了Java的相关背景，你们现在是不是就想马上用一下Java呀？先不着急，我们得先得安装Java的开发环境，才能使用Java语言开发程序（ps: 就像你先需要安装微信，才能使用微信和朋友聊天是一样的）。</p>
<p>这里所说的Java开发环境，实际上就是Java官方提供的一个软件，叫做JDK（全称是Java Develop Kit），翻译过来意思就是Java开发工具包。<strong>我们先要到官网上去下载JDK，然后安装在自己的电脑上，才可以在自己的电脑上使用JDK来开发Java程序</strong></p>
<p>JDK的版本有很多，下图是JDK版本更新的历程图，有LTS标识的是长期支持版本（意思就是Oracle会不定期更新）。目前公司中用得最多的版本是JDK8版本，在目前这套课程中我们为了将一些新特性会使用JDK17版本。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057528247-642afc38-c644-4697-b0c2-00897913f8ae.png#averageHue=%23fcfbfa&amp;id=PRB3Z&amp;originHeight=736&amp;originWidth=2035&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面已经给小伙伴们提供了详细的JDK下载和安装过程的截图，大家只需要按照步骤操作就行。</p>
<h3 id="2-1-JDK下载和安装"><a href="#2-1-JDK下载和安装" class="headerlink" title="2.1 JDK下载和安装"></a>2.1 JDK下载和安装</h3><ul>
<li><strong>JDK的下载</strong></li>
</ul>
<p>这是JDK下载的官方网址 <a target="_blank" rel="noopener" href="https://www.oracle.com/java/technologies/downloads/%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E6%8A%8A%E8%AF%A5%E7%BD%91%E5%9D%80%E5%A4%8D%E5%88%B6%E5%88%B0%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%9C%B0%E5%9D%80%E6%A0%8F%EF%BC%8C%E6%95%B2%E5%9B%9E%E8%BD%A6">https://www.oracle.com/java/technologies/downloads/，你需要把该网址复制到浏览器的地址栏，敲回车</a></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057528360-9ae4ffe0-04a4-4bdf-988a-60c3036da1cf.png#id=lxhmB&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>进入网址后，选择JDK17版本，找到Windows标签，选择x64 Installer版本。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057528450-ece014de-e704-4ce6-b55b-59d45c110426.png#id=TtOHE&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下载完成之后，在你下载的目录下会出现一个JDK的安装包，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057528582-7174a13c-9154-4d8a-927e-878d76e62592.png#averageHue=%23fcfcfc&amp;id=wgpod&amp;originHeight=213&amp;originWidth=1166&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>到这JDK的下载就完成了，接下来就需要按照下面的步骤完成JDK安装.</p>
<ul>
<li><strong>JDK的安装</strong></li>
</ul>
<p>双击安装包，按照下图引导，点击下一步即可安装。<strong>需要注意的是安装JDK后不像你安装QQ一样会在桌面上显示一个图标，JDK安装后桌面上没有图标！！！</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057528664-86890245-07b4-4baa-ad72-e71c37a91dda.png#averageHue=%23efedec&amp;id=Yrgra&amp;originHeight=1542&amp;originWidth=2029&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>如何验证安装成功了呢？</strong></p>
<p>刚才不是让你记住安装目录吗？你记住了吗？如果你自己修改过目录，就打开你自己修改的目录（呀！！忘记了o(╥﹏╥)o，那我帮不了你了，谁让你不认真听讲的）；如果没有修改安装目录，默认在<code>C:\Program Files\Java\jdk-17.0.3</code>目录下。</p>
<p>在文件资源管理器打开JDK的安装目录的bin目录，会发现有两个命令工具 <code>javac.exe</code> <code>java.exe</code> ，这就是JDK提供给我们使用的<strong>编译工具和运行工具</strong>，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057528810-460612c4-454e-4885-a79d-2519e8a4a713.png#averageHue=%23faf7f7&amp;id=ulbiy&amp;originHeight=614&amp;originWidth=2256&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们现在就使用一下 <code>javac.exe</code> <code>java.exe</code> 这两个工具，测试一下JDK是否可用</p>
<ol>
<li>第一步：在JDK的bin目录，地址栏输入cmd，回车</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057528898-190c450b-1a83-480a-a399-557631d9bff5.png#averageHue=%23eccb91&amp;id=nts4C&amp;originHeight=622&amp;originWidth=1611&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>输入完cmd回车后，会出现一个黑窗口，专业说法叫<strong>命令行窗口</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057529025-4f54a4b7-07ff-4b71-bb61-c7eb66f80108.png#averageHue=%23131312&amp;id=uJnjq&amp;originHeight=318&amp;originWidth=1316&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ol start="2">
<li>第二步：在命令行窗口中输入 <code>javac -version</code>回车，然后输入<code>java -version</code>回车<br>如果出现下面红色框框的提示正确版本号，和我们安装的JDK版本号一致，就说明JDK安装成功</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057529113-26d3823c-0685-4e2d-ab1d-d4465664b497.png#averageHue=%23161413&amp;id=wnaLV&amp;originHeight=353&amp;originWidth=1804&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>做完以上步骤之后，恭喜小伙伴_，你的电脑上就已经有Java的开发环境了，接下来可以开发Java程序了。</p>
<h3 id="2-2-cmd常见命令"><a href="#2-2-cmd常见命令" class="headerlink" title="2.2 cmd常见命令"></a>2.2 cmd常见命令</h3><p>前面测试JDK是否安装成功，需要在黑窗口中输入<code>javac -version</code>和<code>java -version</code> 这其实就是JDK查看编译工具和运行工具版本号的命令。</p>
<p>这种输入命令的和电脑交互的方式，称之为命令行交互。也就是说，可以使用命令指挥电脑做事情。接下来我们了解几种Windows系统常见的命令，后面可能会用到。</p>
<p>下面是Windows系统常见的命令以及作用，小伙伴们可以自己试一试。需要注意的是，每敲完一条命令之后，马上敲回车就表示执行这条命名。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">E:  <span class="comment">//切换到E盘</span></span><br><span class="line">cd [目录]        <span class="comment">//进入指定的目录</span></span><br><span class="line">cd ..         <span class="comment">//退回到上一级目录</span></span><br><span class="line">cd /         <span class="comment">//退回到根目录</span></span><br><span class="line">dir             <span class="comment">//显示当前目录下所有的内容</span></span><br><span class="line">cls             <span class="comment">//清空屏幕</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-3-Java入门程序"><a href="#2-3-Java入门程序" class="headerlink" title="2.3 Java入门程序"></a>2.3 Java入门程序</h3><p>上一节我们已经安装好了JDK，接下来，我们就正式开始开发第一个入门Java程序。按照国际惯例，学习任何一本编程语言第一个案例都叫做 <strong>Hello World</strong>，意思是向世界问好，从此开用程序和世界沟通的大门。</p>
<blockquote>
<p><strong>编写Java程序的步骤</strong></p>
</blockquote>
<p>编写一个Java程序需要经过3个步骤：<strong>编写代码，编译代码，运行代码</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057529231-5e8558dc-741e-45e2-a4fe-7ae6fd5fe771.png#averageHue=%23f8f7f7&amp;id=QBYrZ&amp;originHeight=524&amp;originWidth=2523&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><input checked="" disabled="" type="checkbox"> 编写代码：任何一个文本编辑器都可以些代码，如Windows系统自带的记事本</li>
<li><input checked="" disabled="" type="checkbox"> 编译代码：将人能看懂的源代码（.java文件）转换为Java虚拟机能够执行的字节码文件（.class文件）</li>
<li><input checked="" disabled="" type="checkbox"> 运行代码：将字节码文件交给Java虚拟机执行</li>
</ul>
<hr>
<blockquote>
<p><strong>编写第一个Java入门程序</strong></p>
</blockquote>
<p>按照下面提供的步骤，一步一步的完成第一个Java入门程序的编写、编译和执行。</p>
<p><strong>第一步</strong>：新建一个后缀为.java的文本文件<code>HelloWorld.java</code>，用记事本编写代码如下。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> {</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">     System.out.println(<span class="string">" HelloWorld "</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>第二步</strong>：进入<code>HelloWorld.java</code>文件所在目录，在地址栏输入cmd回车，即可在此处打开命令行窗口。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057529329-2f684e7e-763a-47de-bb22-a56abab24d38.png#id=wkz82&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>编译：在命令行窗口输入编译命令<code>javac HelloWorld</code>完成编译，编译后会生成一个<code>HelloWorld.class</code>文件。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057529423-dbda1cc4-a155-4313-ba3a-244501571acd.png#id=Ab61E&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>第三步</strong>：再接着输入<code>java HelloWorld</code>就可以运行了，运行结果如下。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057529517-c947db5c-ff2c-49e5-a8e3-0535ea3b77e8.png#id=xDRNK&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-4-Java程序中常见的问题"><a href="#2-4-Java程序中常见的问题" class="headerlink" title="2.4 Java程序中常见的问题"></a>2.4 Java程序中常见的问题</h3><p>刚才小伙伴们在编写第一个HelloWorld程序的时候，是不是很容易报错啊？ 我观察过第一次写代码，90%的同学都会有些小问题的，比如单词写错了！ 括号少写一个！等等！ &nbsp;我想给大家说的是，写错代码都是很正常的，<strong>一个什么错都犯过的程序员，才是真正的程序员</strong>。</p>
<p>下面我们把程序中常见的问题，总结一下。大家在写代码时注意一下这些问题就可以了</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> Windows的文件扩展名没有勾选</li>
<li><input checked="" disabled="" type="checkbox"> 代码写了，但是忘记保存了</li>
<li><input checked="" disabled="" type="checkbox"> 文件名和类名不一致。</li>
<li><input checked="" disabled="" type="checkbox"> 英文大小写错误，单词拼写错误，存在中文符号，找不到main方法。</li>
<li><input checked="" disabled="" type="checkbox"> 括号不配对。</li>
<li><input checked="" disabled="" type="checkbox"> 编译或执行工具使用不当。</li>
</ul>
<hr>
<blockquote>
<ul>
<li><strong>文件扩展名没有打开</strong></li>
</ul>
</blockquote>
<p>下图中文件扩展名的勾勾没有勾选，就会导致你创建的文件是普通的文本文件（.txt）文件，而不是java文件。</p>
<p><strong>正确做法是把文件扩展名的勾选上</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057529606-b3c3be51-cc3e-4dd9-85c7-1eccbbbc5e5a.png#id=ucJYY&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<ul>
<li><strong>文件名和类名不一致</strong></li>
</ul>
</blockquote>
<p>你看下图中，文件名是<code>HelloWorld</code>，但是类名是<code>Helloworld</code>看出区别了吗？一个是大写的W，一个是小写的w。 不仔细看还真看不出来。</p>
<p>**正确写法是文件名叫<code>HelloWorld</code>，类名也叫<code>HelloWorld**</code></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057529692-749c5b98-df9b-4103-a9bd-bd57431db391.png#id=NnxZW&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<ul>
<li><strong>单词大小写错吴</strong></li>
</ul>
</blockquote>
<p>下图中不是string和system这两个单词都写错了， 这里是严格区分大小写的</p>
<p><strong>正确写法是String和System</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057529843-6a459d47-ef72-4b55-b595-b3691feeb231.png#id=tIMFf&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<ul>
<li><strong>主方法写错了</strong></li>
</ul>
</blockquote>
<p>下图所示，主方法的名称写成了<code>mian</code>，这是错误的。</p>
<p>主方法正确写法：必须是<code>public static void main(String[] args){}</code>，一个字母都不能错。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057529980-71bd3a2a-03ea-48f3-bbbd-8a4ed03cd3af.png#id=m51Fq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<ul>
<li><strong>标点符号写错了</strong></li>
</ul>
</blockquote>
<p>下图中打印语句最后的分号，写成功中文分号<code>；</code></p>
<p><strong>正确写法应该是英文分号</strong> <code>;</code> &nbsp;不仔细看还真看不出区别，要小心</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057530080-79f03904-df79-4134-acc8-321299121321.png#id=FWOUT&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-5-JDK的组成"><a href="#2-5-JDK的组成" class="headerlink" title="2.5 JDK的组成"></a>2.5 JDK的组成</h3><p>在前几节课中我们已经安装了JDK，并且开发了一个Java入门程序，用javac命令编译，用Java命令运行，但是对于Java程序的执行原理并没有过多的介绍。</p>
<p>下面我们把JDK的组成，以及跨平台原理给大家介绍一下，有利于同学们理解Java程序的执行过程。</p>
<p>JDK由JVM、核心类库、开发工具组成，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057530196-fa6295c2-3663-468c-b9a9-fe154a25552d.png#id=stbRx&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面分别介绍一下JDK中每一个部分是用来干什么的</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- 什么是JVM?</span><br><span class="line">    答：JDK最核心的组成部分是JVM（Java Virtual Machine），它是Java虚拟机，真正运行Java程序的地方。</span><br><span class="line">    </span><br><span class="line">- 什么是核心类库？</span><br><span class="line">	答：它是Java本身写好的一些程序，给程序员调用的。 Java程序员并不是凭空开始写代码，是要基于核心类库提供的一些基础代码，进行编程。</span><br><span class="line">	</span><br><span class="line">- 什么是JRE?</span><br><span class="line">    答：JRE（Java Runtime Enviroment），意思是Java的运行环境；它是由JVM和核心类库组成的；如果你不是开发人员，只需要在电脑上安装JRE就可以运行Java程序。</span><br><span class="line">    </span><br><span class="line">- 什么是开发工具呢？</span><br><span class="line">	答：Java程序员写好源代码之后，需要编译成字节码，这里会提供一个编译工具叫做javac.exe，编写好源代码之后，想要把class文件加载到内存中运行，这里需要用到运行工具java.exe。 </span><br><span class="line">	除了编译工具和运行工具，还有一些其他的反编译工具、文档工具等待...</span><br></pre></td></tr></tbody></table></figure>

<p>JDK、JRE的关系用一句话总结就是：用JDK开发程序，交给JRE运行</p>
<h3 id="2-6-Java的跨平台原理"><a href="#2-6-Java的跨平台原理" class="headerlink" title="2.6 Java的跨平台原理"></a>2.6 Java的跨平台原理</h3><p>学完JDK的组成后，我们知道Java程序的执行是依赖于Java虚拟机的。就是因为有了Java虚拟机所以Java程序有一个重要的特性叫做跨平台性。</p>
<ul>
<li><strong>什么是跨平台行呢？</strong><br>所谓跨平台指的是用Java语言开发的程序可以在多种操作系统上运行，常见的操作系统有Windows、Linux、MacOS系统。<br>如果没有跨平台性，同一个应用程序，想要在多种操作系统上运行，需要针对各个操作系统单独开发应用。比如微信有Windows版本、MacOS版本、Android版本、IOS版本 </li>
<li><strong>为什么Java程序可以跨平台呢？</strong><br>跨平台性的原理是因为在<strong>不同版本的操作系统</strong>中安装有<strong>不同版本的Java虚拟机</strong>，Java程序的运行只依赖于Java虚拟机，和操作系统并没有直接关系。<strong>从而做到一处编译，处处运行</strong>。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057530287-394a1c9c-54ba-467a-b67c-75ea0cb4fcbf.png#id=n2F5J&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-7-JDK环境变量配置"><a href="#2-7-JDK环境变量配置" class="headerlink" title="2.7 JDK环境变量配置"></a>2.7 JDK环境变量配置</h3><p>JDK安装后，接下我们来学习一个补充知识，叫做Path环境变量</p>
<ul>
<li><strong>什么是Path环境变量？</strong><br>Path环境变量是让系统程序的路径，方便程序员在命令行窗口的任意目录下启动程序； </li>
<li><strong>如何配置环境变量呢？</strong><br>比如把QQ的启动程序，配置到Path环境变量下就可以在任意目录下启动QQ，按照一下步骤操作。<br><strong>第一步：</strong>先找到QQ启动程序所在的目录<code>C:\Program Files (x86)\Tencent\QQ\Bin</code>，复制这个路径<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057530375-3379f276-6f95-4412-bce2-6ba109af8755.png#id=sM7re&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="><br><strong>第二步：</strong>按照下面的步骤，找到Path环境变量。<br>首先找到此电脑，右键点击属性，可以按照下面的界面；点击【高级系统设置】，再点击【环境变量】<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057530469-afb01a82-ca88-4021-a84e-0dda159dffa6.png#id=YEpG4&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="><br>双击Path后，点击新建，把QQ启动目录粘贴进来，不要忘记点确定哦_<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057530570-8dd3544d-4a18-407f-8698-1e9acccb8b40.png#id=pBvQj&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="><br><strong>第三步：</strong>配置好之后，检查是否配置成功 <figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>Win+R 输入cmd回车，打开命令行窗口</span><br><span class="line"><span class="number">2.</span>输入QQScLanucher，可以看到QQ启动了</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057530681-33591135-29a3-46be-94a2-3ed7b591614d.png#id=NgeCy&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<hr>
<ul>
<li><strong>将JDK配置到Path路径下</strong><br>上面我们配置了QQ的启动目录到Path环境变量位置，那么接下来，我们把JDK的bin目录配置到Path环境变量下，这样就可以在任意目录下启动javac和java命令来完成编译和运行了。<br><strong>第一步：</strong>找到JDK的bin目录<code>C:\Program Files\Java\jdk-17.0.3\bin</code>，复制一下<br><strong>第二步：</strong>将JDK的bin目录粘贴在Path环境变量后面<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057530769-3de84245-914d-4355-86ea-2b618e1a8b61.png#id=MjQ6t&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="><br><strong>第三步：检测否配置成功</strong> <figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>按住Win+R输入cmd 回车，打开命令行创建</span><br><span class="line"><span class="number">2.</span>输入javac -version 看提示信息是否显示你安装JDK的版本号</span><br><span class="line">  输入java -version 看提示信息是否显示你安装JDK的版本号</span><br><span class="line">【如果显示版本号都是JDK17就表示配置安装成功】</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057530861-340f1c29-6b99-4a72-b45f-26e97fb36449.png#id=PaQvd&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="> </p>
<p>你如果按照前面的操作到这里，就说明JDK环境变量已经配置好了，后面使用JDK命令可以在任意目录下运行。</p>
<h2 id="三、Java开发工具"><a href="#三、Java开发工具" class="headerlink" title="三、Java开发工具"></a>三、Java开发工具</h2><p>大家刚才写代码的时候都是用记事本写的，但是有没有觉得记事本写代码不太方便啊！记事本写代码单词写错了没有提示，格式也不好调整，写代码之后还需要我们到命令行使用javac命令手动编译，然后运行。</p>
<p>有没有一种软件能够将写代码、编译、运行等工具集成到一起呢？ 有，这就是集成开发环境（Integrated Development Environment ，简称IDE）。除此之外，IDEA还有代码提示、检查代码错误等功能，从而提高程序员的开发效率。</p>
<p>IDE有很多种，常见的Eclipse、MyEclipse、Intellij IDEA、JBuilder、NetBeans等。但是这些IDE中目前比较火的是Intellij IDEA（以下简称IDEA），被众多Java程序员视为最好用的Java集成开发环境，所以我们课程中就以IDEA为开发工具来编写代码，以后大家去公司也建议用IDEA作为开发环境。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057530951-b0366783-7d13-448a-9e7d-14221490bc7d.png#averageHue=%232f452e&amp;id=vCy4R&amp;originHeight=458&amp;originWidth=1226&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="3-1-IDEA下载和安装"><a href="#3-1-IDEA下载和安装" class="headerlink" title="3.1 IDEA下载和安装"></a>3.1 IDEA下载和安装</h3><p>为了引导大家正确的完成IDEA的下载和安装，给小伙伴们单独提供了一个文档《IDEA安装、使用、配置.pdf》，文档中提供了IDEA详细的安装和使用步骤，大家只需要按照文档的步骤一步一步操作就行。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057531053-ea9d3a7c-7261-4455-9cb4-85de242f5417.png#averageHue=%23f2f1f1&amp;id=mnija&amp;originHeight=1012&amp;originWidth=2560&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="3-2-IDEA编写Java程序"><a href="#3-2-IDEA编写Java程序" class="headerlink" title="3.2 IDEA编写Java程序"></a>3.2 IDEA编写Java程序</h3><p>上一节我们安装好了IDEA之后，接下来我们就可以使用IDEA开发一个HelloWorld程序玩一玩！目的是让大家知道在IDEA中开发Java程序的步骤。</p>
<p>想要在IDEA正确的写一个Java程序，必须先认识一下IDEA的管理Java程序的工程结构。</p>
<ul>
<li>第一步：首先得在IDEA中创建一个Project（工程、也叫项目），后面统称为工程。</li>
<li>第二步：需要在Project中创建Module（模块），一个工程中可以包含多个模块</li>
<li>第三步：需要在Module中新建Package（包），一个模块中可以有多个包</li>
<li>第四步：需要在Package中新建Class（类），一个包中可以包含多个类</li>
</ul>
<p>软件工程其实类似于建筑工程，我们对比建筑工程来理解。</p>
<ul>
<li>Project（工程）：你可以理解成小区的院子</li>
<li>Module（模块）：你可以理解成小区院子里面的每一栋楼</li>
<li>Package（包）：你可以理解成每一栋楼的一层</li>
<li>Class（类）：你可以理解成每一层的住户</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057531155-2609bcc6-834f-4ee4-8936-8a613f2c6d47.png#averageHue=%23eeece8&amp;id=zwlLq&amp;originHeight=923&amp;originWidth=1236&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>在实际开发中比如淘宝网站这样的工程，但是由于功能很多，所以就把淘宝网站分为不同的模块，首页是一个模块、购物车是一个模块、订单也是一个模块；</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057531272-65a89e02-f962-4e4d-aa3c-94bdf1fbf005.png#averageHue=%239ab85c&amp;id=wk4MC&amp;originHeight=694&amp;originWidth=1295&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057531369-e9ed5e85-7cda-48fa-a9c9-6883d38e035a.png#averageHue=%23ffffff&amp;id=yQGVq&amp;originHeight=101&amp;originWidth=1360&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>创建工程Project</strong><br>创建工程的步骤比较多，在《IDEA安装、使用、配置.pdf》中提供的详细的引导步骤，照着一步一步的操作就行。<br>用浏览器打开《IDEA安装、使用、配置.pdf》点击左侧的导航栏可以定位到对应的位置，每一个部分都有截图步骤<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057531445-313544f0-7547-40db-9231-e1e44308149e.png#averageHue=%23d4c6a1&amp;id=rHvCZ&amp;originHeight=1300&amp;originWidth=2001&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></li>
</ul>
<h3 id="3-4-IDEA各种配置"><a href="#3-4-IDEA各种配置" class="headerlink" title="3.4 IDEA各种配置"></a>3.4 IDEA各种配置</h3><p>刚才有同学在使用IDEA编写程序时，可能会觉得字体比较小，背景色是黑色的，注释是灰色的，看不清，长时间可能对眼睛不好。我们可以通过IDEA相关的设置，把字体调大一点，背景色调为护眼色，注释也调为绿色。</p>
<ul>
<li><strong>主题配置</strong></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057531537-4b71793e-cbcf-431e-9d8d-bbff52c8edc1.png#averageHue=%23404852&amp;id=obLUP&amp;originHeight=620&amp;originWidth=2236&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>字体配置</strong></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057531692-f6d0eb20-7715-455a-85ef-57da97e6b69d.png#averageHue=%23cebda6&amp;id=noHGM&amp;originHeight=435&amp;originWidth=1716&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>背景色配置</strong></li>
</ul>
<p>把背景色的颜色值，调为204、238、200；就是豆沙绿的护眼色了</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057531794-51f5ec83-6250-4a41-b128-4ea152977e86.png#averageHue=%23a8cda0&amp;id=ZCY8o&amp;originHeight=1050&amp;originWidth=1351&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>更多配置，大家可以参考《IDEA安装、使用、配置.pdf》</p>
<h3 id="3-5-常用快捷键"><a href="#3-5-常用快捷键" class="headerlink" title="3.5 常用快捷键"></a>3.5 常用快捷键</h3><p>讲完IDEA相关配置之后，接下来给大家讲一个很重要的IDEA的使用技巧，这就是IDEA的快捷键，所谓快捷键就是通过键盘上的按键组合起来，就可以帮我们生成代码。使用快捷键可以大大提高我们的开发效率。</p>
<p>下面是几种常见的快捷键，以及他们的作用，大家可以自己试试</p>
<table>
<thead>
<tr>
<th><strong>快捷键</strong></th>
<th><strong>功能效果</strong></th>
</tr>
</thead>
<tbody><tr>
<td>main/psvm、sout、…</td>
<td>快速键入相关代码</td>
</tr>
<tr>
<td>Ctrl + D</td>
<td>复制当前行数据到下一行</td>
</tr>
<tr>
<td>Ctrl + Y</td>
<td>删除所在行，建议用Ctrl + X</td>
</tr>
<tr>
<td>Ctrl + ALT + L</td>
<td>格式化代码</td>
</tr>
<tr>
<td>ALT + SHIFT + ↑ , ALT + SHIFT + ↓</td>
<td>上下移动当前代码</td>
</tr>
<tr>
<td>Ctrl + / , Ctrl + Shift + /</td>
<td>对代码进行注释(讲注释的时候再说)</td>
</tr>
</tbody></table>
<p>快捷键其实有很多，这里列举的是现阶段我们用得比较多的，现在记住不也不要紧，以后经常用，用着用着就记住了。</p>
<p>在后面的课程中讲到一些新的知识点时，还有会继续给大家讲一些新的快捷键。</p>
<h2 id="四-Java基础语法"><a href="#四-Java基础语法" class="headerlink" title="四. Java基础语法"></a>四. Java基础语法</h2><p>前面讲到的所有内容，都是为Java程序开发做一些准备工作，我们还没有正式教大家如何编写代码。</p>
<p>想要编写Java代码，就必须学习Java的语法，学习语法最主要做到下面两点就可以了</p>
<ul>
<li>记住语法格式</li>
<li>明确这种语法格式能达到什么效果</li>
</ul>
<p>这里需要给大家说明一点：语法格式是Java语言的设计者规定好的，我们不用关心它为什么这么写，因为它造出来就是这么写的。</p>
<h3 id="4-1-注释"><a href="#4-1-注释" class="headerlink" title="4.1 注释"></a>4.1 注释</h3><p>我们先从最简单的语法开始学习，先来学习注释！</p>
<ul>
<li><p>什么是注释？<br>注释是解释说明程序的问题，方便自己和别人阅读代码 </p>
</li>
<li><p>注释有哪几种？格式怎样？ </p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>单行注释：</span><br><span class="line">	<span class="comment">//后面根解释文字</span></span><br><span class="line"><span class="number">2.</span>多行注释</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    这里写注释文字</span></span><br><span class="line"><span class="comment">    可以写多行</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="number">3.</span>文档注释</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    这里写文档注释</span></span><br><span class="line"><span class="comment">    也可以写多行，文档注释可以利用JDK的工具生成帮助文档</span></span><br><span class="line"><span class="comment">    */</span></span><br></pre></td></tr></tbody></table></figure>

</li>
<li><p>下面用注释解释一段代码 </p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">目标：学会使用注释</span></span><br><span class="line"><span class="comment">     这是程序的讲解注释</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NoteDemo</span>{</span><br><span class="line">    <span class="comment">//这是程序的主方法，是程序的入口</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        System.out.println(<span class="string">"我开始学习Java程序，好嗨皮~~"</span>);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        窗前明月光</span></span><br><span class="line"><span class="comment">        疑是地上霜</span></span><br><span class="line"><span class="comment">        举头望明月</span></span><br><span class="line"><span class="comment">        低头思故乡</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        System.out.println(<span class="string">"播仔"</span>);</span><br><span class="line">        System.out.println(<span class="string">"deli"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p>再多学一招：每次手动加注释比较麻烦，也可以使用快捷键加注释</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ctrl + / 	单行注释（对当前行进行注释）</span><br><span class="line">Ctrl + Shift + / 	对选中的代码进行多行注释。</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057531888-1fb02475-e1b6-4964-9342-e67df6143269.png#id=Vsk5b&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-2-字面量"><a href="#4-2-字面量" class="headerlink" title="4.2 字面量"></a>4.2 字面量</h3><p>学习完注释之后，我们来学习一个全新的知识点叫字面量。</p>
<ul>
<li>什么是字面量？<br>大家不要被这个词搞晕了，它其实很简单，我们知道计算机是来处理数据的，字面量其实就是告诉程序员数据在程序中的书写格式。下面是常用的数据在程序中的书写格式</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057531997-c7dbe40e-dc3a-4f29-8c9d-9292ab8fb58e.png#id=Msgd3&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>编写程序，在命令行打印输出各种类型的字面值</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">目标：需要同学们掌握常见数据在程序中的书写格式</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LiteralDemo</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//1.整数</span></span><br><span class="line">        System.out.println(<span class="number">666</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.小数</span></span><br><span class="line">        System.out.println(<span class="number">3.66</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.字符: 字符必须用单引号引起来</span></span><br><span class="line">        System.out.println(<span class="string">'a'</span>);</span><br><span class="line">        System.out.println(<span class="string">'0'</span>);</span><br><span class="line">        System.out.println(<span class="string">'中'</span>);</span><br><span class="line">        System.out.println(<span class="string">' '</span>); <span class="comment">//空格也算字符</span></span><br><span class="line">        <span class="comment">//特殊字符：\t表示制表符 \n表示换行</span></span><br><span class="line">        System.out.println(<span class="string">'\t'</span>); <span class="comment">//这相当于一个tab键，专业叫做制表符</span></span><br><span class="line">        System.out.println(<span class="string">'\n'</span>); <span class="comment">//这是换行的意思</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.字符串：字符串是双引号引起来的</span></span><br><span class="line">        System.out.println(<span class="string">"我爱你中国abc"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//5.布尔值：只有两个值true和false</span></span><br><span class="line">        System.out.println(<span class="literal">true</span>);</span><br><span class="line">        System.out.println(<span class="literal">false</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>总结一下：对于字面量，大家只要能够正确写出各种数据就可以了</p>
<h3 id="4-3-变量"><a href="#4-3-变量" class="headerlink" title="4.3 变量"></a>4.3 变量</h3><p>学习完字面量之后，接下来我们再来学习变量。对于变量的学习路径如下所示</p>
<ol>
<li>先认识什么是变量？ </li>
<li>学习为什么要用变量？ </li>
<li>学习变量有啥应用场景？</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057532090-0e541b61-0c6c-466d-ba05-028f08408eae.png#id=InUAz&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>什么是变量？</strong></li>
</ul>
<p>变量是用来记录程序中的数据的。其本质上是内存中的一块区域，你可以把这块区域理解成一个小盒子。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057532195-7e57162f-4604-4255-88fd-24f2b0c3acd4.png#id=cuy2o&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们通过先通过一段代码演示一下，并解释变量的含义</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057532304-7a22013a-7635-42eb-acc5-e1e2b4c6003f.png#id=vjLy1&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">18</span>;</span><br><span class="line">System.out.println(a);</span><br></pre></td></tr></tbody></table></figure>

<p>当执行<code>int age = 18;</code> 这句代码时，JVM会在内存中申请一块区域，在这个区域中存储了一个整数18，给这个区域取的名字叫age； 相当于在盒子中存了一个数据18，这个盒子的名字是age，当我们打印age时，就是从盒子中把盒子中的数据取出来再打印。</p>
<ul>
<li><strong>为什么要用变量呢？</strong></li>
</ul>
<p>使用变量来记录数据，对于数据的管理更为灵活。比如我们有多个地方用到一个整数10,</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.假设4多个地方用到整数10; 现在我想把10改为20，这时你得一条语句一条语句的修改</span></span><br><span class="line">System.out.println(<span class="number">10</span>);</span><br><span class="line">System.out.println(<span class="number">10</span>);</span><br><span class="line">System.out.println(<span class="number">10</span>);</span><br><span class="line">System.out.println(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.同样这里还是在多个地方用到整数10，你可以先用一个变量记录这个整数10</span></span><br><span class="line"><span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="comment">//然后在需要用到整数10的地方，用x代替就行；</span></span><br><span class="line"><span class="comment">//如果我们把x值改了，那么后面用到x的值的地方就都一起改变了</span></span><br><span class="line">System.out.println(x);</span><br><span class="line">System.out.println(x);</span><br><span class="line">System.out.println(x);</span><br><span class="line">System.out.println(x);</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>变量有应用场景?</strong></li>
</ul>
<p>变量的应用场景无处不在，只要是程序中能发生变化的数据，都可以用变量存储。比如：你微信钱包中的余额，你微信的昵称，你微信的个性签名； 余额随着你花钱是不是在变少，昵称和个性签名也可以经常修改。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//比如：你现在有188.8元，一会要发100元，再收20元。</span></span><br><span class="line"><span class="type">double</span> <span class="variable">money</span> <span class="operator">=</span> <span class="number">188.8</span>;</span><br><span class="line"><span class="comment">//发100元</span></span><br><span class="line">money = money - <span class="number">100</span>;</span><br><span class="line"><span class="comment">//再收20元</span></span><br><span class="line">money = money + <span class="number">20</span>;</span><br><span class="line"><span class="comment">//再打印money记录的值是多少</span></span><br><span class="line">System.out.println(money);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//再比如：公交车大人2元，小孩一元，公交车经过2站</span></span><br><span class="line"><span class="comment">//第一站：3个大人1个小孩上车</span></span><br><span class="line"><span class="comment">//第二站：1个大人1个小孩上车，请问一共上了多少人，一共收入多少钱？</span></span><br><span class="line"><span class="comment">//刚开始公交车箱子里没有钱，用money2表示箱子里的钱</span></span><br><span class="line"><span class="type">int</span> <span class="variable">money2</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">//刚开始公交车上也没有人，用count变量表示上车的人数</span></span><br><span class="line"><span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//经过两站的人数：第一站3人，第二站1人，总的人数是3+1</span></span><br><span class="line">count = <span class="number">3</span>+<span class="number">1</span>;</span><br><span class="line"><span class="comment">//经过两站的钱数：</span></span><br><span class="line">money2 = money2+<span class="number">3</span>*<span class="number">2</span>+<span class="number">1</span>; <span class="comment">//经过第一站后</span></span><br><span class="line">money2 = money2+<span class="number">2</span>+<span class="number">1</span>; <span class="comment">//经过第二站后</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//打印人数和钱数</span></span><br><span class="line">System.out.println(count);</span><br><span class="line">System.out.println(money);</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>变量的注意事项</strong></li>
</ul>
<p>在上节课已经给大家讲了变量的基本使用，变量在实际开发中用得特别多，关于变量使用注意事项需要给大家交代一下。</p>
<p>讲这些注意事项目的是让大家知道，有哪些写法是允许，有哪些写法是不允许的，能分辨对错，并知道为什么错。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>变量定义在哪个{}范围内，就只在哪个大括号内有效。变量的有效范围称之为变量的作用域</span><br><span class="line">	{</span><br><span class="line">		<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">		System.out.println(a); <span class="comment">//这是是对的</span></span><br><span class="line">	}</span><br><span class="line">	System.out.println(a); <span class="comment">//这里会出错</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>在同一个作用域内，不能有两个同名的变量</span><br><span class="line">	{</span><br><span class="line">		<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">		<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">20</span>; <span class="comment">//这里会出错</span></span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line"><span class="number">3.</span>变量没有初始化只，不能直接使用</span><br><span class="line">	<span class="type">int</span> a; <span class="comment">//仅仅定义了变量，但是没有初始值</span></span><br><span class="line">	System.out.println(a); <span class="comment">//这里会出错</span></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>变量可以定义在同一行</span><br><span class="line">	如：<span class="type">int</span> a=<span class="number">10</span>, b=<span class="number">20</span>; <span class="comment">//a和b都是int类型</span></span><br></pre></td></tr></tbody></table></figure>

<p>到此有关变量的所有使用方式，以及变量需要注意的问题，就学习完了。</p>
<p>我们再总结一下几点</p>
<ul>
<li>变量是用来记录程序中的数据的，可以把变量理解成内存中的小盒子，盒子里放的东西就是变量记录的数据</li>
<li>变量的定义格式： <code>数据类型 变量名 = 初始值;</code></li>
<li>变量记录的数据程序运行过程中是可以发生改变的：<code>变量名 = 值;</code></li>
</ul>
<hr>
<h3 id="4-4-关键字"><a href="#4-4-关键字" class="headerlink" title="4.4 关键字"></a>4.4 关键字</h3><p>学完变量之后，我们再来认识一下Java的关键字。</p>
<ul>
<li><p><strong>什么是关键字？</strong><br>关键字是java语言中有特殊含义的单词。比如用int表示整数，用double表示小数，等等！ </p>
</li>
<li><p><strong>关键字有哪些？</strong><br>我们学习Java的语法其本质就是学习这些关键字的含义，一共有50多个关键字，我们不是一次性把这些关键字学完，会在后续的课程中每天学一点，慢慢得你就都学会了。 </p>
<table>
<thead>
<tr>
<th><strong>abstract</strong></th>
<th><strong>assert</strong></th>
<th><strong>boolean</strong></th>
<th><strong>break</strong></th>
<th><strong>byte</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>case</strong></td>
<td><strong>catch</strong></td>
<td><strong>char</strong></td>
<td><strong>class</strong></td>
<td><strong>const</strong></td>
</tr>
<tr>
<td><strong>continue</strong></td>
<td><strong>default</strong></td>
<td><strong>do</strong></td>
<td><strong>double</strong></td>
<td><strong>else</strong></td>
</tr>
<tr>
<td><strong>enum</strong></td>
<td><strong>extends</strong></td>
<td><strong>final</strong></td>
<td><strong>finally</strong></td>
<td><strong>float</strong></td>
</tr>
<tr>
<td><strong>for</strong></td>
<td><strong>goto</strong></td>
<td><strong>if</strong></td>
<td><strong>implements</strong></td>
<td><strong>import</strong></td>
</tr>
<tr>
<td><strong>instanceof</strong></td>
<td><strong>int</strong></td>
<td><strong>interface</strong></td>
<td><strong>long</strong></td>
<td><strong>native</strong></td>
</tr>
<tr>
<td><strong>new</strong></td>
<td><strong>package</strong></td>
<td><strong>private</strong></td>
<td><strong>protected</strong></td>
<td><strong>public</strong></td>
</tr>
<tr>
<td><strong>return</strong></td>
<td><strong>strictfp</strong></td>
<td><strong>short</strong></td>
<td><strong>static</strong></td>
<td><strong>super</strong></td>
</tr>
<tr>
<td><strong>switch</strong></td>
<td><strong>synchronized</strong></td>
<td><strong>this</strong></td>
<td><strong>throw</strong></td>
<td><strong>throws</strong></td>
</tr>
<tr>
<td><strong>transient</strong></td>
<td><strong>try</strong></td>
<td><strong>void</strong></td>
<td><strong>volatile</strong></td>
<td><strong>while</strong></td>
</tr>
</tbody></table>
</li>
<li><p><strong>如何识别那些单词是关键字？</strong></p>
</li>
</ul>
<p>现在我们不用知道这些关键字是什么意思，主要能够根据特点识别那些是关键字就可以了</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">关键字的特点：</span><br><span class="line">	<span class="number">1.</span>关键字都是小写的</span><br><span class="line">	<span class="number">2.</span>关键字在idea中有特殊颜色标记（如果你没有修改关键字的颜色，默认是蓝色的）</span><br></pre></td></tr></tbody></table></figure>

<p>下图中红色框住的单词都是关键字；没有框住的单词都不是关键字</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057532397-41ee74d7-8db5-435d-b980-69905e98ef00.png#averageHue=%23cbedc7&amp;id=AJkMU&amp;originHeight=390&amp;originWidth=976&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-5-标志符"><a href="#4-5-标志符" class="headerlink" title="4.5 标志符"></a>4.5 标志符</h3><p>接下来我们学习一下标志符，所谓标志符其实就是我们自己取的名字。像前面我们取的类名，变量名其实都是标志符。</p>
<p>讲标志符的目的，是让大家知道取名字的规则，不能让我们随即便瞎取。有些规则是强制要求的，不遵守就会报错。还有一些规则是我们建议大家遵守的，这样取名字显得我们更加专业_。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">强制要求：必须遵守，不遵守就会报错</span><br><span class="line">	<span class="number">1.</span>最好是字母、数字、下划线、$组成</span><br><span class="line">	<span class="number">2.</span>不能以数字开头</span><br><span class="line">	<span class="number">3.</span>不能是Java的关键字</span><br><span class="line"></span><br><span class="line">建议遵守：按照下面的方式取名字会显得更加专业</span><br><span class="line">	<span class="number">1.</span>所有的名字要见名知意，便于自己和别人阅读</span><br><span class="line">		举例： <span class="keyword">class</span> <span class="title class_">Student</span>{} <span class="comment">//一看这个类就知道表示一个学生</span></span><br><span class="line">			  <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span><span class="number">10</span>;    <span class="comment">//一看这个变量就知道表示年龄</span></span><br><span class="line">		</span><br><span class="line">	<span class="number">2.</span>类名：首字母大写（大驼峰命名）</span><br><span class="line">		举例： <span class="keyword">class</span> <span class="title class_">Student</span>{}</span><br><span class="line">		</span><br><span class="line">	<span class="number">3.</span>变量名：第二个单词开始首字母大写（小驼峰命名）</span><br><span class="line">		举例： <span class="type">double</span> <span class="variable">money</span> <span class="operator">=</span> <span class="number">6.88</span>;  </span><br><span class="line">			  <span class="type">double</span> <span class="variable">applePrice</span> <span class="operator">=</span> <span class="number">7.5</span>;</span><br></pre></td></tr></tbody></table></figure>

<hr>
<p>到此，恭喜小伙伴们，今天所有的内容就学习完了，加油奥利给！！！</p>
<h1 id="day02——数据类型、运算符"><a href="#day02——数据类型、运算符" class="headerlink" title="day02——数据类型、运算符"></a>day02——数据类型、运算符</h1><p>小伙伴们，又是元气满满的一天，今天继续开干！！！</p>
<h2 id="一、数据的表示详解"><a href="#一、数据的表示详解" class="headerlink" title="一、数据的表示详解"></a>一、数据的表示详解</h2><p>昨天我们学习了变量，我们知道变量可以用来记录数据的。那么数据在计算机底层是以什么形式表示的呢？下面我们就学习一下数据在计算机中的底层原理。</p>
<h3 id="1-1-整数在计算机中的存储原理"><a href="#1-1-整数在计算机中的存储原理" class="headerlink" title="1.1 整数在计算机中的存储原理"></a>1.1 整数在计算机中的存储原理</h3><p>其实任何数据在计算机中都是以<strong>二进制</strong>表示的。那这里肯定有人问，什么是二进制啊？所谓二进制其实就是一种数据的表示形式，它的特点是逢2进1。</p>
<p>数据的表示形式除了二进制（逢2进1），八进制（逢8进1）、还有十进制（逢10进1）、十六进制（逢10进1）等。</p>
<p>对于二进制绝大多数同学，应该是非常陌生的。 没关系！来，大家跟着我的思路，你就知道二进制是怎么表示数据的了。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>二进制中只有<span class="number">0</span>和<span class="number">1</span>两个数</span><br><span class="line">	首先十进制的<span class="number">0</span>和二进制的<span class="number">0</span>是一样的，十进制的<span class="number">1</span>和二进制的<span class="number">1</span>也是 一样的。但是十进制中	  有<span class="number">2</span>，但是二进制中就没有<span class="number">2</span>了</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>那么二进制是如何表示十进制的<span class="number">2</span>呢？</span><br><span class="line">	<span class="number">1</span></span><br><span class="line">+	<span class="number">1</span>		</span><br><span class="line">——————————	</span><br><span class="line">   <span class="number">10</span>	  这里两个<span class="number">1</span>相加，结果为<span class="number">2</span>，由于二进制满<span class="number">2</span>进<span class="number">1</span>，所以最终结果<span class="number">10</span></span><br><span class="line">   </span><br><span class="line"><span class="number">3.</span>那么二进制是如何表示十进制的<span class="number">3</span>呢？</span><br><span class="line">	前面我们已经知道二进制<span class="number">10</span>表示十进制的<span class="number">2</span>，那么二进制<span class="number">10</span>+<span class="number">1</span>就表示十进制的<span class="number">3</span>啊！</span><br><span class="line">	<span class="number">10</span></span><br><span class="line">+    <span class="number">1</span></span><br><span class="line">—————————</span><br><span class="line">    <span class="number">11</span>	 十进制的<span class="number">3</span>对应的二进制是<span class="number">11</span></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>那么二进制是如何表示十进制<span class="number">4</span>的呢？</span><br><span class="line">	前面我们已经知道二进制<span class="number">11</span>表示十进制的<span class="number">4</span>，那么<span class="number">11</span>+<span class="number">1</span>就表示十进制的<span class="number">5</span>啊</span><br><span class="line">	<span class="number">11</span></span><br><span class="line">+    <span class="number">1</span></span><br><span class="line">—————————</span><br><span class="line">   <span class="number">100</span>   十进制的<span class="number">5</span>对应的二进制是<span class="number">100</span></span><br><span class="line"></span><br><span class="line">你找到规律了吗？ 你能不能依次写出<span class="number">5</span>的二进制、<span class="number">6</span>的二进制？</span><br></pre></td></tr></tbody></table></figure>

<p>前面每算一个二进制数据都是采用+1的方式，逢2进1，一个一个算出来的。有没有更快的算出十进制对应二进制的方法呢？ 这里学习一种方式：叫做除2取余法。</p>
<ul>
<li><strong>除2取余法</strong></li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>怎么做呢？</span><br><span class="line">	答：让十进制数据连续除以<span class="number">2</span>，直到商为<span class="number">0</span>，余数反转</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>举例<span class="number">1</span>：把十进制<span class="number">6</span>转换为二进制	</span><br><span class="line">			商	余数</span><br><span class="line">	<span class="number">6</span>/<span class="number">2</span>     <span class="number">3</span>    <span class="number">0</span></span><br><span class="line">    <span class="number">3</span>/<span class="number">2</span>		<span class="number">1</span>	 <span class="number">1</span></span><br><span class="line">    <span class="number">1</span>/<span class="number">2</span>		<span class="number">0</span>	 <span class="number">1</span></span><br><span class="line">    然后把余数反转：<span class="number">6</span>对应的二进制是<span class="number">110</span></span><br><span class="line">    </span><br><span class="line"><span class="number">3.</span>举例<span class="number">2</span>： 把十进制<span class="number">13</span>转换为二进制</span><br><span class="line">			商	余数</span><br><span class="line">	<span class="number">13</span>/<span class="number">2</span>	<span class="number">6</span>	 <span class="number">1</span></span><br><span class="line">    <span class="number">6</span>/<span class="number">2</span>		<span class="number">3</span>	 <span class="number">0</span></span><br><span class="line">    <span class="number">3</span>/<span class="number">2</span>	 	<span class="number">1</span> 	 <span class="number">1</span></span><br><span class="line">    <span class="number">1</span>/<span class="number">2</span>		<span class="number">0</span>	 <span class="number">1</span></span><br><span class="line">    然后把余数反转：<span class="number">10</span>对应的二进制是<span class="number">1101</span></span><br><span class="line">    </span><br><span class="line"><span class="number">4.</span>练习<span class="number">1</span>：你能把十进制<span class="number">7</span>转换为二进制吗？</span><br><span class="line">	自己试试吧！</span><br></pre></td></tr></tbody></table></figure>

<p>关于变量记录的数据在计算机中如何表示我们就先学习到这里。</p>
<ul>
<li><strong>计算机的最小存储单位</strong></li>
</ul>
<p>前面我们已经知道计算机表示数据是用二进制来的， 这里我又要抛出一个问题来了！ 我现在想要在计算机中存储一个整数6，转换为二进制是110，那么计算机中只是存110吗三位数字吗？ 其实不是的，<strong>计算机中最小的存储单位是字节（Byte），一个字节占8位（bit）</strong>，也就是说即使这个数据不足8位也需要用8位来存储。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057532484-e3386445-1cf3-419e-8173-78e232164fa4.png#averageHue=%23fcfcfc&amp;id=VYwbD&amp;originHeight=238&amp;originWidth=1303&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们随便找到一个文件，看文件的属性，可以看到文件的大小都是以字节为单位的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057532624-a22591b3-2ef6-431b-8067-f6ba2e4381e4.png#averageHue=%23f7f6f5&amp;id=PUVXg&amp;originHeight=465&amp;originWidth=660&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-2-字符在计算机中的存储原理"><a href="#1-2-字符在计算机中的存储原理" class="headerlink" title="1.2 字符在计算机中的存储原理"></a>1.2 字符在计算机中的存储原理</h3><p>通过上一节的学习，我们知道了整数是如何在计算机中如何存储的？那么字符在计算机中是如何存储的呢？</p>
<p>其实字符并不是直接存储的，而是把每一个字符编为一个整数，存储的是字符对应整数的二进制形式。美国人搞了一套字符和整数的对应关系表，叫做ASCII编码表。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ASCII编码表中字符编码的规律：</span><br><span class="line">	<span class="number">1.</span>字符<span class="number">0</span>对应<span class="number">48</span>，后面的<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4.</span>.<span class="number">.9</span> 对应的十进制整数依次往后顺延</span><br><span class="line">	<span class="number">2.</span>字符a对应<span class="number">97</span>，后面的b,c,d,e...z 对应的十进制整数依次往后顺延</span><br><span class="line">	<span class="number">3.</span>字符A对应<span class="number">65</span>，后面的B,C,D,E...Z 对应的十进制整数依次往后顺延</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057532722-906b6b3b-6440-46c7-a9b4-dde9bb3e5705.png#id=s2tPA&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>需要注意的是，在ASCII编码表中是不包含汉字的。汉字在其他编码表中，后面我们会单独介绍。关于字符在计算机中的存储学到这就可以了。</p>
<h3 id="1-3-图片视频声音的存储原理"><a href="#1-3-图片视频声音的存储原理" class="headerlink" title="1.3 图片视频声音的存储原理"></a>1.3 图片视频声音的存储原理</h3><ul>
<li><strong>图片的存储</strong></li>
</ul>
<p>通过上面的学习我们已经知道整数和字符是如何存储的，最终都是要转换为二进制数据的，对吧！ 那图片、声音、视频又是如何存储的呢？我们也来了解一下</p>
<p>我们从图片开始，如果你把一张图片不断的放大，你会看到有马赛克的效果。你会发现图片中的每一个细节是由一个一个的小方格组成的，每一个小方格中其实就是一种颜色。任何一种颜色可以使用三原色来表示，简称RGB，其中R（红色），G（绿色），B（蓝色），而RGB中每一种颜色又用一个字节的整数来表示，最小值是0最大值是255</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057532844-243fda95-eec3-4418-b17c-a35ff34aa571.png#id=sybf8&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">RGB（<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>）表示黑色</span><br><span class="line">RGB（<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>）表示白色</span><br><span class="line">RGB（<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>） 表示红色</span><br><span class="line">RGB（<span class="number">255</span>,<span class="number">255</span>,<span class="number">0</span>） 表示红色和绿色混合为黄色</span><br><span class="line">RGB（<span class="number">255</span>,<span class="number">0</span>,<span class="number">255</span>） 表示红色和蓝色混合为紫色</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>

<p>你在画图板的颜色编辑器中可以通过指定RGB的值，来调整得到任意的颜色。一张图片实际上就是有很多个小方块的颜色组成的，而每一种颜色又是由RGB三原色的整数表示的，整数最终会转换为二进制进行存储。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057532999-52d43e22-e1d8-4b49-8f1c-e4065e91f036.png#id=HPmqW&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>视频的存储</strong></li>
</ul>
<p>实际上视频和图片是一样的，把多张图片连续播放，在一秒钟内连续播放24张以上，由于人眼存在视觉暂留现象，人眼感受不到画面切换的时间间隔，就认为是连续的视频了。</p>
<ul>
<li><strong>声音的存储</strong></li>
</ul>
<p>了解过物理的同学肯定知道，声音是以波的形式传播的。我们可以把声波在表示在一个坐标系上，然后在坐标系上取一些点，把这些点的坐标值以二进制的形式存储到计算机中，这就是声音的存储原理。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057533085-f8a553cd-6a15-4f70-8bba-588278701719.png#id=suMEB&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-4-数据的其他表示形式"><a href="#1-4-数据的其他表示形式" class="headerlink" title="1.4 数据的其他表示形式"></a>1.4 数据的其他表示形式</h3><ul>
<li><strong>二进制到十进制的转换</strong></li>
</ul>
<p>前面我们学习了十进制可以转二进制，采用的是除2取余法，那么我们反过来能不能把二进制转换为十进制呢？</p>
<p>这里给大家介绍一种计算方式叫做：<strong>8421码</strong></p>
<p>为了便于理解，我们先在看一下十进制怎么转十进制，主要是为了让大家看到演化过程。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>十进制转十进制</span><br><span class="line">	比如我们把<span class="number">12345</span>进行分解：</span><br><span class="line">        <span class="number">12345</span> = <span class="number">10000</span> + <span class="number">2000</span> + <span class="number">300</span> + <span class="number">40</span> + <span class="number">5</span></span><br><span class="line">              = <span class="number">1</span>*<span class="number">10</span>^<span class="number">4</span> + <span class="number">2</span>*<span class="number">10</span>^<span class="number">3</span> + <span class="number">3</span>*<span class="number">10</span>^<span class="number">2</span> + <span class="number">5</span>*<span class="number">10</span>^<span class="number">0</span></span><br><span class="line">	我们发现：</span><br><span class="line">		在十进制中如果把十进制的每一位从右往左从<span class="number">0</span>开始编一个号，假设这一位数字是a,			那么这一位数表示的值就是：a*<span class="number">10</span>^n；</span><br><span class="line">	</span><br><span class="line">----------------------------------------------------------------------二<span class="number">2.</span>二进制转十进制：</span><br><span class="line">	类比十进制：</span><br><span class="line">		如果把二进制的每一位从从右往左<span class="number">0</span>开始编一个号用n表示，假设二进制的每一位是a，</span><br><span class="line">		那么这一位表示的十进制值是：a*<span class="number">2</span>^n</span><br><span class="line">		</span><br><span class="line">	<span class="number">1</span>)假设二进制的每一位都是<span class="number">1</span>：</span><br><span class="line">		<span class="number">128</span>	<span class="number">64</span>	<span class="number">32</span>	<span class="number">16</span>	<span class="number">8</span>	<span class="number">4</span>	<span class="number">2</span>	<span class="number">1</span>	每一位表示的十进制：a*<span class="number">2</span>^n</span><br><span class="line">		<span class="number">7</span>	<span class="number">6</span>	<span class="number">5</span>	<span class="number">4</span>	<span class="number">3</span>	<span class="number">2</span>	<span class="number">1</span>	<span class="number">0</span>	编号：n</span><br><span class="line">		<span class="number">1</span>	<span class="number">1</span>	<span class="number">1</span>	<span class="number">1</span>	<span class="number">1</span>	<span class="number">1</span>	<span class="number">1</span>	<span class="number">1</span>   二进制的每一位：a</span><br><span class="line">	</span><br><span class="line">        二进制		 十进制</span><br><span class="line">        <span class="number">11111111</span> = <span class="number">1</span>*<span class="number">2</span>^<span class="number">7</span>  + <span class="number">1</span>*<span class="number">2</span>^<span class="number">6</span> + <span class="number">1</span>*<span class="number">2</span>^<span class="number">5</span> + ... + <span class="number">1</span>*<span class="number">2</span>^<span class="number">0</span></span><br><span class="line">                 = <span class="number">128</span>    + <span class="number">64</span>    + <span class="number">32</span>    + ... + <span class="number">1</span></span><br><span class="line">                 = <span class="number">255</span></span><br><span class="line">    </span><br><span class="line">    <span class="number">2</span>)假设二进制的为<span class="number">0010001</span></span><br><span class="line">    	<span class="number">128</span>	<span class="number">64</span>	<span class="number">32</span>	<span class="number">16</span>	<span class="number">8</span>	<span class="number">4</span>	<span class="number">2</span>	<span class="number">1</span>	每一位表示的十进制：a*<span class="number">2</span>^n</span><br><span class="line">    	<span class="number">7</span>	<span class="number">6</span>	<span class="number">5</span>	<span class="number">4</span>	<span class="number">3</span>	<span class="number">2</span>	<span class="number">1</span>	<span class="number">0</span>	编号：n</span><br><span class="line">    	<span class="number">0</span>	<span class="number">0</span>	<span class="number">1</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">1</span>	二进制的每一位：a</span><br><span class="line">    </span><br><span class="line">    	二进制				十进制</span><br><span class="line">    	<span class="number">00001101</span> = <span class="number">0</span>*<span class="number">2</span>^<span class="number">7</span> + <span class="number">0</span>*<span class="number">2</span>^<span class="number">6</span> + <span class="number">1</span>*<span class="number">2</span>^<span class="number">5</span> + ... + <span class="number">1</span>*<span class="number">2</span>^<span class="number">0</span></span><br><span class="line">    			 = <span class="number">0</span>     + <span class="number">0</span>     + <span class="number">32</span> 	 + ... + <span class="number">1</span></span><br><span class="line">    			 = <span class="number">33</span></span><br><span class="line"></span><br><span class="line">    <span class="number">3</span>)<span class="number">8421</span>码：从右往左给二进制的每一位数依次按照<span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">8.</span>..标记</span><br><span class="line">    	<span class="number">128</span>	<span class="number">64</span>	<span class="number">32</span>	<span class="number">16</span>	<span class="number">8</span>	<span class="number">4</span>	<span class="number">2</span>	<span class="number">1</span></span><br><span class="line">    	<span class="number">0</span>	<span class="number">0</span>	<span class="number">1</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">0</span>	<span class="number">1</span></span><br><span class="line">    	-----------------------------</span><br><span class="line">    	只需要将<span class="number">1</span>位上的数字加起来，就是二进制对应的十进制</span><br><span class="line">    	</span><br><span class="line">    	二进制			  十进制</span><br><span class="line">    	<span class="number">00001101</span> = 		<span class="number">8</span>+<span class="number">4</span>+<span class="number">1</span></span><br><span class="line">    			 = 		<span class="number">13</span></span><br><span class="line">    	</span><br><span class="line">    	<span class="number">0000111</span>	 =      <span class="number">4</span>+<span class="number">2</span>+<span class="number">1</span></span><br><span class="line">    			 = 		<span class="number">7</span></span><br><span class="line">    	</span><br><span class="line">    	<span class="number">0001111</span>  =      <span class="number">8</span>+<span class="number">4</span>+<span class="number">2</span>+<span class="number">1</span></span><br><span class="line">    			 =      <span class="number">25</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>二进制转八进制</strong></li>
</ul>
<p>前面我们说计算机中数据都是采用二进制来存储的，但是二进制阅读和编写起来都不太方便。为了便于阅读和书写，又推出了八进制、十六进制。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>运算规则：</span><br><span class="line">	把二进制的每三位一组合，然后对每三位用<span class="number">8421</span>码进行计算，最后拼接到一起</span><br><span class="line">	原因：因为<span class="number">111</span>，的值是<span class="number">7</span>, 再大满<span class="number">7</span>就需要往进位了。 </span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>把二进制<span class="number">11001110</span>转换为八进制数据</span><br><span class="line">	<span class="number">01</span>	<span class="number">100</span> <span class="number">001</span>		二进制每三位一组合</span><br><span class="line">    <span class="number">1</span>	<span class="number">4</span>	<span class="number">1</span>		每一组进行<span class="number">8421</span>码运算</span><br><span class="line">    ----------</span><br><span class="line">    八进制：<span class="number">141</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>二进制转十六进制</strong></li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>运算规则：</span><br><span class="line">	把二进制的每四位一组合，然后对每四位用<span class="number">8421</span>码进行计算，最后拼接到一起</span><br><span class="line">	原因：因为<span class="number">1111</span>，的值是<span class="number">15</span>, 再大<span class="number">1</span>满<span class="number">16</span>了就需要往进位了。 </span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>举例：把二进制<span class="number">11001110</span>转换为十六进制数据</span><br><span class="line">	<span class="number">0110</span> <span class="number">0001</span>		二进制每四位一组合</span><br><span class="line">    <span class="number">6</span>	 <span class="number">1</span>			每一组进行<span class="number">8421</span>码运算</span><br><span class="line">    ----------</span><br><span class="line">    十六进制：<span class="number">61</span></span><br><span class="line">    </span><br><span class="line"><span class="number">3.</span>练习：把<span class="number">111100</span>转换为十六进制</span><br><span class="line">	<span class="number">0011</span> <span class="number">1100</span></span><br><span class="line">    <span class="number">3</span>	 <span class="number">12</span>		由于十六进制中有a,b,c,d,e,f分别表示<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span></span><br><span class="line">    -----------</span><br><span class="line">    十六进制：3c</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-5-不同进制在Java程序中的书写格式"><a href="#1-5-不同进制在Java程序中的书写格式" class="headerlink" title="1.5 不同进制在Java程序中的书写格式"></a>1.5 不同进制在Java程序中的书写格式</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">System.out.pirntln(<span class="string">'a'</span>+<span class="number">1</span>); <span class="comment">//98</span></span><br><span class="line">System.out.pirntln(<span class="number">0b01100001</span>); <span class="comment">//97</span></span><br><span class="line">System.out.pirntln(<span class="number">0141</span>); <span class="comment">//97</span></span><br><span class="line">System.out.pirntln(<span class="number">0x61</span>); <span class="comment">//97</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="二、数据类型详解"><a href="#二、数据类型详解" class="headerlink" title="二、数据类型详解"></a>二、数据类型详解</h2><p>在前面的课程中，我们学过了变量的定义，在定义变量时我们是要声明数据类型的，这里的<strong>数据类型是用来规定变量存储什么类型的数据</strong>。</p>
<p>比如<code>int a = 10;</code> 这里的<code>int</code>就是限制变量只能存储整数； 除了int这种数据类型Java还提供了很多其他的数据类型。Java的数据类型整体上来说分为两大类： <strong>基本数据类型</strong>、<strong>引用数据类型</strong>。</p>
<p>我们今天主要学习基本数据类型，基本数据类型一共有4类8种，每一种数据类型占用的内存空间不一样，能够表示的数据范围也不一样。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057533187-8ef75a37-8b6b-445c-b534-634a7a813d8f.png#averageHue=%23d9c6c3&amp;id=NkpeV&amp;originHeight=538&amp;originWidth=1359&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>需要我们注意的是，随便写一个整数或者小数的字面量，它也是有默认数据类型的</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 比如23，它默认就为int类型；如果加上后缀L，则为long类型；</span><br><span class="line">- 比如23.8，它默认为double类型；如果加上后缀F，则为float类型;</span><br></pre></td></tr></tbody></table></figure>

<p>下面定义各种类型的变量，将这8种基本数据类型都用一下。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TypeDemo1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握8种基本数据类型，用来定义变量。</span></span><br><span class="line">        <span class="comment">// 1、整型</span></span><br><span class="line">        <span class="type">byte</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">98</span>;</span><br><span class="line">        System.out.println(number);</span><br><span class="line"></span><br><span class="line">        <span class="type">short</span> <span class="variable">number2</span> <span class="operator">=</span> <span class="number">9000</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">number3</span> <span class="operator">=</span> <span class="number">12323232</span>; <span class="comment">// 默认</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 注意：随便写一个整型字面量，默认是int类型的，73642422442424虽然没有超过long的范围，但是它超过了本身int的范围了。</span></span><br><span class="line">        <span class="comment">// 如果希望随便写一个整型字面量是long类型的，需要在其后面加上L/l</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">number4</span> <span class="operator">=</span> <span class="number">73642422442424L</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、浮点型</span></span><br><span class="line">        <span class="comment">//注意:</span></span><br><span class="line">        <span class="comment">//随便写一个小数字面量，默认当成double类型对待的，</span></span><br><span class="line">        <span class="comment">//如果希望这个小数是float类型的，需要在后面加上：F/f</span></span><br><span class="line">        <span class="type">float</span> <span class="variable">score1</span> <span class="operator">=</span> <span class="number">99.5F</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">score2</span> <span class="operator">=</span> <span class="number">99.8</span>; <span class="comment">// 默认定义方案。</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、字符型</span></span><br><span class="line">        <span class="type">char</span> <span class="variable">ch1</span> <span class="operator">=</span> <span class="string">'a'</span>;</span><br><span class="line">        <span class="type">char</span> <span class="variable">ch2</span> <span class="operator">=</span> <span class="string">'中'</span>;</span><br><span class="line">        <span class="type">char</span> <span class="variable">ch3</span> <span class="operator">=</span> <span class="string">'国'</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、布尔型</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 引用数据类型：String.</span></span><br><span class="line">        <span class="comment">// String代表的是字符串类型，定义的变量可以用来记住字符串。</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">"黑马"</span>;</span><br><span class="line">        System.out.println(name);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="三、数据类型转换"><a href="#三、数据类型转换" class="headerlink" title="三、数据类型转换"></a>三、数据类型转换</h2><h3 id="3-1-自动类型转换"><a href="#3-1-自动类型转换" class="headerlink" title="3.1 自动类型转换"></a>3.1 自动类型转换</h3><p>各位同学，接下来我们来学习类型转换的知识。为什么要学习类型转换呢？因为在我们实际开发中可能存在将某种类型变量的值，赋值给另一个类型的变量；也可能存在多种数据类型的数据一起运算的情况。</p>
<p>在以上情况中，其实都会涉及到类型转换。类型转换的形式总体分为2种，一种是<strong>自动类型转换</strong>，一种是<strong>强制类型转换</strong>。 这里先学习自动类型转换</p>
<ul>
<li><strong>什么是自动类型转换呢？</strong></li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">答：自动类型转换指的是，数据范围小的变量可以直接赋值给数据范围大的变量</span><br><span class="line">	<span class="type">byte</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">12</span>; </span><br><span class="line">	<span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> a; <span class="comment">//这里就发生了自动类型转换(把byte类型转换int类型)</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>自动类型转换的原理是怎样的？</strong></li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答：自动类型转换其本质就是在较小数据类型数据前面，补了若干个字节</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057533299-6fc46b9e-bacf-4b50-b0f4-bf26aab2357e.png#averageHue=%23f8f4ef&amp;id=dwNkZ&amp;originHeight=290&amp;originWidth=1296&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>除了byte和int之间的转换之外，其他类型也可以转换，转换顺序如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057533390-8c9d1798-1a2c-4be0-9371-b70caca425b8.png#averageHue=%23f8f5dc&amp;id=I3OhW&amp;originHeight=139&amp;originWidth=991&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面我们通过代码演示一下，自动类型转换的各种形式。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TypeConversionDemo1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：理解自动类型转换机制。</span></span><br><span class="line">        <span class="type">byte</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> a; <span class="comment">// 发生了自动类型转换了</span></span><br><span class="line">        System.out.println(a);</span><br><span class="line">        System.out.println(b);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">100</span>; <span class="comment">// 4</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> c;<span class="comment">// 8 发生了自动类型转换了</span></span><br><span class="line">        System.out.println(d);</span><br><span class="line"></span><br><span class="line">        <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> <span class="string">'a'</span>; <span class="comment">// 'a' 97 =&gt; 00000000 01100001</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> ch; <span class="comment">// 发生了自动类型转换了 =&gt;  00000000 00000000  00000000 01100001</span></span><br><span class="line">        System.out.println(i);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>表达式的自动类型转换</strong></li>
</ul>
<p>自动类型转换还有另外一种形式，就是表达式的自动类型转换。所谓表达式指的是几个变量或者几个数据一起参与运算的式子。</p>
<p>如果同一个表达式中，出现不同类型的变量或者数据一起运算，这种情况下运算结果是一个什么数据类型呢？需要遵守下面的两条运算规则：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>多种数据类型参与运算，其结果以大的数据类型为准</span><br><span class="line"><span class="number">2.</span><span class="type">byte</span>,<span class="type">short</span>,<span class="type">char</span> 三种类型数据在和其他类型数据运算时，都会转换为<span class="type">int</span>类型再运算</span><br></pre></td></tr></tbody></table></figure>

<p>接下来我们来看代码演示，自己试一试</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TypeConversionDemo2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握表达式的自动类型转换机制。</span></span><br><span class="line">        <span class="type">byte</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">rs</span> <span class="operator">=</span> a + b + c;</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> <span class="variable">rs2</span> <span class="operator">=</span> a + b + <span class="number">1.0</span>;</span><br><span class="line">        System.out.println(rs2);</span><br><span class="line">		</span><br><span class="line">        <span class="type">byte</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">short</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rs3</span> <span class="operator">=</span> i + j;</span><br><span class="line">        System.out.println(rs3);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 面试笔试题： 即使两个byte运算，结果也会提升为int</span></span><br><span class="line">        <span class="type">byte</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="number">110</span>;</span><br><span class="line">        <span class="type">byte</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="number">80</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b3</span> <span class="operator">=</span> b1 + b2;</span><br><span class="line">        System.out.println(b3);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-2-强制类型转换"><a href="#3-2-强制类型转换" class="headerlink" title="3.2 强制类型转换"></a>3.2 强制类型转换</h3><p>前面我们学习了自动类型转换，我们知道可以将数据类型小的数据可以直接赋值给数据范围大的变量。 那反过来，能不能将数据范围大的数据直接赋值给数据范围小的变量呢？ <strong>答案是会报错。</strong></p>
<p>因为数据范围大的数据，赋值给数据范围小的变量，它有可能装不下；就像把一个大桶的水倒入一个小桶中，有溢出的风险。</p>
<ul>
<li><strong>什么是强制类型转换</strong></li>
</ul>
<p>但是你强行将范围大的数据，赋值给范围小的变量也是可以的，这里就需要用到强制类型转换。下面是强制类型转换的格式</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">目标数据类型  变量名  =  (目标数据类型)被转换的数据;</span><br></pre></td></tr></tbody></table></figure>

<p>下面是强制类型转换的代码演示</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TypeConversionDemo3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握强制类型转换。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">        <span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> (<span class="type">byte</span>) a;  <span class="comment">// ALT + ENTER 强制类型转换。</span></span><br><span class="line">        System.out.println(a);</span><br><span class="line">        System.out.println(b);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1500</span>;</span><br><span class="line">        <span class="type">byte</span> <span class="variable">j</span> <span class="operator">=</span> (<span class="type">byte</span>) i;</span><br><span class="line">        System.out.println(j);</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">99.5</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (<span class="type">int</span>) d; <span class="comment">// 强制类型转换</span></span><br><span class="line">        System.out.println(m); <span class="comment">// 丢掉小数部分，保留整数部分</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>强制类型转换的原理</strong><br>强制类型转换的原理，其实就是<strong>强行把前面几个字节砍掉，但是有数据丢失的风险</strong>。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057533478-06d4c007-67b0-462e-b430-b76643fd96c9.png#id=wByuW&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>到这有关数据类型和数据类型转换的内容，我们就学习完了。大家能够知道什么时候会发生自动类型转换，以及如何进行强制类型转换就可以了。</p>
<h2 id="四、运算符"><a href="#四、运算符" class="headerlink" title="四、运算符"></a>四、运算符</h2><p>接下来，给同学们讲解一个在开发中用得很多的一块内容，叫做运算符。</p>
<p>大家知道计算机是用来处理数据的，处理数据就少不了对数据的计算，想要对数据进行计算就必须用到运算符。</p>
<p>运算符就是参与运算的符号。Java提供的运算符有很多种，可以分为算术下面几种</p>
<ul>
<li>基本算术运算符</li>
<li>自增自减运算符</li>
<li>赋值运算符</li>
<li>关系运算符</li>
<li>逻辑运算符</li>
<li>三元运算符</li>
</ul>
<h3 id="3-1-算术运算符"><a href="#3-1-算术运算符" class="headerlink" title="3.1 算术运算符"></a>3.1 算术运算符</h3><p>先从最基本的算术运算符开始学习，算术运算符有 <code>+ - * / %</code> ，其中<code>*</code>表示乘法，<code>/</code>表示除法，<code>%</code>表示取余数</p>
<p>需要我们注意以下几点</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/: 两个整数相除，结果也是一个整数</span><br><span class="line">%: 表示两个数相除，取余数</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057533576-41583f68-57f9-4eb9-b140-71e4a5c17f43.png#id=Q6vup&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>需要我们注意的是：<code>+</code>符号除了用于加法运算，还可以作为连接符。<code>**+**</code><strong>符号与字符串运算的时候是用作连接符的，其结果依然是一个字符串</strong>。</p>
<p>下面通过代码演示一下各种算术运算符的运算效果</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OperatorDemo1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握基本的算术运算符的使用。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">        System.out.println(a + b);</span><br><span class="line">        System.out.println(a - b);</span><br><span class="line">        System.out.println(a * b); <span class="comment">// 20</span></span><br><span class="line">        System.out.println(a / b); <span class="comment">// 5</span></span><br><span class="line">        System.out.println(<span class="number">5</span> / <span class="number">2</span>); <span class="comment">// 2.5 ==&gt; 2</span></span><br><span class="line">        System.out.println(<span class="number">5.0</span> / <span class="number">2</span>); <span class="comment">// 2.5</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">        System.out.println(<span class="number">1.0</span> * i / j); <span class="comment">// 2.5</span></span><br><span class="line"></span><br><span class="line">        System.out.println(a % b); <span class="comment">// 0</span></span><br><span class="line">        System.out.println(<span class="number">3</span> % <span class="number">2</span>); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"---------------------------------------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 目标2：掌握使用+符号做连接符的情况。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">a2</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        System.out.println(<span class="string">"abc"</span> + a2); <span class="comment">// "abc5"</span></span><br><span class="line">        System.out.println(a2 + <span class="number">5</span>); <span class="comment">//  10</span></span><br><span class="line">        System.out.println(<span class="string">"itheima"</span> + a2 + <span class="string">'a'</span>); <span class="comment">// "itheima5a"</span></span><br><span class="line">        System.out.println(a2 + <span class="string">'a'</span> + <span class="string">"itheima"</span>); <span class="comment">// 102itheima</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-2-自增自减运算符"><a href="#3-2-自增自减运算符" class="headerlink" title="3. 2 自增自减运算符"></a>3. 2 自增自减运算符</h3><p>接下来，学习一种比较常用的运算符：<code>++</code>和<code>--</code></p>
<p><code>++</code>读作自增，<code>--</code>读作自减； 运算规则如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057533673-18cbfec7-8383-4a57-805b-6c8f8006c6d5.png#id=cUwsy&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>需要我们注意的是，自增自减只能对变量进行操作，不能操作字面量。具体使用时也分为两种情况，如下:</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>单独使用：++或者--放在变量前面没有区别</span><br><span class="line">	   <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span><span class="number">10</span>; </span><br><span class="line">	    a++;  <span class="comment">//11</span></span><br><span class="line">		--a;  <span class="comment">//10</span></span><br><span class="line">		System.out.println(a); <span class="comment">//10</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>混合使用：++或者--放在变量或者前面运算规则稍有不通过</span><br><span class="line">	<span class="comment">//++在后：先做其他事情，再做自增和自减</span></span><br><span class="line">	<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> a++; <span class="comment">//等价于 int b = a; a++; </span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//++在前：先自增或者自减，再做其他运输</span></span><br><span class="line">	<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> --x; <span class="comment">//等价于x--; int y = x;</span></span><br></pre></td></tr></tbody></table></figure>

<p>下面通过代码演示一下<code>++</code>和<code>--</code>的用法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OperatorDemo2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握自增自减运算符的使用。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="comment">// a++; // a = a + 1</span></span><br><span class="line">        ++a;</span><br><span class="line">        System.out.println(a);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// a--; // a = a - 1</span></span><br><span class="line">        --a;</span><br><span class="line">        System.out.println(a);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 自增自减只能操作变量不能操作字面量的，会报错！</span></span><br><span class="line">      	<span class="comment">//System.out.println(2++);</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"--------------------------------------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rs</span> <span class="operator">=</span> ++i; <span class="comment">// 先加后用</span></span><br><span class="line">        System.out.println(rs);</span><br><span class="line">        System.out.println(i);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rs2</span> <span class="operator">=</span> j++; <span class="comment">// 先用后加</span></span><br><span class="line">        System.out.println(rs2);</span><br><span class="line">        System.out.println(j);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-3-赋值运算符"><a href="#3-3-赋值运算符" class="headerlink" title="3.3 赋值运算符"></a>3.3 赋值运算符</h3><p>接下来，我们学习赋值运算符。基本的赋值运算符其实就是<code>=</code>号，意思就是把右边的数据赋值给左边的变量。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>; <span class="comment">//将数据10赋值给左边的变量a</span></span><br></pre></td></tr></tbody></table></figure>

<p>除了基本的赋值运算符，我们这里主要学习一下扩展的赋值运算符。有<code>+= -= *= /= %=</code></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057533768-b519caf9-954e-47ac-a8bf-6ee757c448bf.png#id=gCTFl&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们以<code>+=</code>为例来看一下它的运算规则，其他的运算符运算同理分析即可</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="comment">//+=解析：在a原来记录值10的基础上累加5，将结果重新赋值给a; </span></span><br><span class="line">a+=<span class="number">5</span>; </span><br><span class="line"><span class="comment">//最终打印a的值为15</span></span><br><span class="line">System.out.println(a);</span><br></pre></td></tr></tbody></table></figure>

<p>下面通过一个首发红包的例子给大家演示一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OperatorDemo3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握扩展赋值运算符的使用。</span></span><br><span class="line">        <span class="comment">// +=</span></span><br><span class="line">        <span class="comment">// 需求：收红包</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">9.5</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">520</span>;</span><br><span class="line">        a += b;  <span class="comment">// a = (double)(a + b);</span></span><br><span class="line">        System.out.println(a);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// -= 需求：发红包</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">600</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">520</span>;</span><br><span class="line">        i -= j;  <span class="comment">// i = (double)(i - j);</span></span><br><span class="line">        System.out.println(i);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        <span class="comment">// m *= n; // 等价形式： m = (int)(m * n)</span></span><br><span class="line">        <span class="comment">// m /= n; // 等价形式： m = (int)(m / n)</span></span><br><span class="line">        m %= n;    <span class="comment">// 等价形式： m = (int)(m % n)</span></span><br><span class="line">        System.out.println(m);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>学完扩展赋值运算符的基本使用之后，接下来我们看一个面试题</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">问题<span class="number">1</span>：下面的代码否有问题？</span><br><span class="line">    <span class="type">byte</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">byte</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line">	x = x + y;  <span class="comment">//这句代码有问题，因为两个byte类型数据相加，会提升为int类型;</span></span><br><span class="line">	</span><br><span class="line">问题<span class="number">2</span>：下面的代码是否有问题？</span><br><span class="line">	<span class="type">byte</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="type">byte</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line">	x+=<span class="number">3</span>; <span class="comment">//这句代码没有问题，因为这里有隐含的强制类型转换</span></span><br><span class="line">		  <span class="comment">//x+=3; 等价于 byte x = (byte)(x+y);</span></span><br></pre></td></tr></tbody></table></figure>

<p>到这里赋值运算符就学习完了，稍微总结一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>基本赋值运算符：</span><br><span class="line">	=符号含义： 把右边的值赋值给左边的变量</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>扩展赋值运算符：</span><br><span class="line">	+= -= *= /= %=符号含义：将右边的数据和左边的变量相加、相减、相乘、相除、取余数后，将结果重新赋值给左边的变量。</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-4-关系运算符"><a href="#3-4-关系运算符" class="headerlink" title="3.4 关系运算符"></a>3.4 关系运算符</h3><p>接下来我们学习一个，在实际代码中用得很多，但是又非常简单的运算符，叫关系运算符。关系运算符（也叫比较运算符）。</p>
<p>下图是每一种关系运算符的符号及作用，每一个关系运算符的结果都是false</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057533856-e37889ff-29f6-432e-b875-0dc80b66b441.png#id=jUG6l&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面通过代码来家演示一下，各种关系运算符的效果</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OperatorDemo4</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握关系运算符的基本使用。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">rs</span> <span class="operator">=</span> a &gt; b;</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        System.out.println(a &gt;= b); <span class="comment">// 要么a大于b,或者a等于b</span></span><br><span class="line">        System.out.println(<span class="number">2</span> &gt;= <span class="number">2</span>); <span class="comment">// true</span></span><br><span class="line">        System.out.println(a &lt; b);</span><br><span class="line">        System.out.println(a &lt;= b); <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="number">2</span> &lt;= <span class="number">2</span>); <span class="comment">// true</span></span><br><span class="line">        System.out.println(a == b); <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="number">5</span> == <span class="number">5</span>); <span class="comment">// true</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 注意了：判断是否相等一定是用 == ，=是用来赋值的。</span></span><br><span class="line">        <span class="comment">// System.out.println(a = b); </span></span><br><span class="line">        System.out.println(a != b); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="number">10</span> != <span class="number">10</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="literal">false</span> ^ <span class="literal">true</span> ^ <span class="literal">false</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>现在我们只需要知道每一种关系运算符的运算效果就行了，<strong>关于关系运算符的实际运用需要在后面学习了流程控制语句才能实际用到。</strong></p>
<p>关系运算符在程序中常用于条件判断，根据条件判断的结果是true还是false，来决定后续该执行哪些操作。</p>
<h3 id="3-5-逻辑运算符"><a href="#3-5-逻辑运算符" class="headerlink" title="3.5 逻辑运算符"></a>3.5 逻辑运算符</h3><p>学习完关系运算符之后，接下来我们学习一下逻辑运算符。我们来看一下逻辑运算符有哪些。</p>
<p><strong>逻辑运算符是用来将多个条件放在一起运算，最终结果是true或者false</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057533945-155c3a33-4829-4e66-a137-cd949a471278.png#id=AWO1L&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面我们通过几个案例来演示一下逻辑运算符的使用</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//需求1：要求手机必须满足尺寸大于等于6.95，且内存必须大于等于8.</span></span><br><span class="line"><span class="comment">//需求2：要求手机要么满足尺寸大于等于6.95，要么内存必须大于等于8.</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OperatorDemo5</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握逻辑运算符的使用。</span></span><br><span class="line">        <span class="comment">// 需求：要求手机必须满足尺寸大于等于6.95，且内存必须大于等于8.</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">6.8</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">storage</span> <span class="operator">=</span> <span class="number">16</span>;</span><br><span class="line">        <span class="comment">// 1、&amp; 前后的条件的结果必须都是true ,结果才是true.</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">rs</span> <span class="operator">=</span> size &gt;= <span class="number">6.95</span> &amp; storage &gt;= <span class="number">8</span>;</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求2：要求手机要么满足尺寸大于等于6.95，要么内存必须大于等于8.</span></span><br><span class="line">        <span class="comment">// 2、| 只要多个条件中有一个是true,结果就是true.</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">rs2</span> <span class="operator">=</span> size &gt;= <span class="number">6.95</span> | storage &gt;= <span class="number">8</span>;</span><br><span class="line">        System.out.println(rs2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、!取反的意思</span></span><br><span class="line">        System.out.println(!<span class="literal">true</span>); <span class="comment">// false</span></span><br><span class="line">        System.out.println(!<span class="literal">false</span>); <span class="comment">// true</span></span><br><span class="line">        System.out.println(!(<span class="number">2</span> &gt; <span class="number">1</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、^ 前后条件的结果相同时返回false，不同时返回true.</span></span><br><span class="line">        System.out.println(<span class="literal">true</span> ^ <span class="literal">true</span>); <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="literal">false</span> ^ <span class="literal">false</span>); <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="literal">true</span> ^ <span class="literal">false</span>); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="literal">false</span> ^ <span class="literal">true</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、&amp;&amp; 左边为false，右边不执行。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">        <span class="comment">// System.out.println(i &gt; 100 &amp;&amp; ++j &gt; 99);</span></span><br><span class="line">        System.out.println(i &gt; <span class="number">100</span> &amp; ++j &gt; <span class="number">99</span>);</span><br><span class="line">        System.out.println(j);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、|| 左边是true ，右边就不执行。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line">        <span class="comment">// System.out.println(m &gt; 3 || ++n &gt; 40);</span></span><br><span class="line">        System.out.println(m &gt; <span class="number">3</span> | ++n &gt; <span class="number">40</span>);</span><br><span class="line">        System.out.println(n);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>到这里关于逻辑运算符的规则记学习完了，给你一个运算表达式你能分析出结果就行。<strong>至于逻辑运算符的实际运用，需要在学习了流程控制语句之后，才能实际用到。</strong></p>
<p>逻辑运算符在程序中常用于组合几个条件判断，根据条件判断的结果是true还是false，来决定后续该执行哪些操作。</p>
<h3 id="3-6-三元运算符"><a href="#3-6-三元运算符" class="headerlink" title="3.6 三元运算符"></a>3.6 三元运算符</h3><p>接下来，我们学习今天最后一种运算符，叫做三元运算符。</p>
<p>先认识一下三元运算符的格式：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">关系表达式? 值<span class="number">1</span> : 值<span class="number">2</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>三元运算的执行流程：首先计算关系表达式的值，如果关系表达式的值为true，则返回值1；如果关系表达式的值为false, 则返回值2；</p>
<p>如下图所示：判断学生的成绩是否&gt;=60，如果为true，就考试通过；如果为false，就成绩不合格。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057534038-9172be78-f790-41ec-83b3-e5528274a227.png#id=gAqZV&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来通过代码来演示一下，目的是让大家掌握三元运算符的格式和执行流程。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OperatorDemo6</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握三元运算符的基本使用。</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">score</span> <span class="operator">=</span> <span class="number">58.5</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> score &gt;= <span class="number">60</span> ? <span class="string">"成绩及格"</span> : <span class="string">"成绩不及格"</span>;</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求2：找出2个整数中的较大值，并输出。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">99</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">69</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> a &gt; b ? a : b;</span><br><span class="line">        System.out.println(max);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求3：找3个整数中的较大值。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">45</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">34</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 找出2个整数中的较大值。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> i &gt; j ? i : j;</span><br><span class="line">        <span class="comment">// 找出temp与k中的较大值。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">max2</span> <span class="operator">=</span> temp &gt; k ? temp : k;</span><br><span class="line">        System.out.println(max2);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-7-运算优先级"><a href="#3-7-运算优先级" class="headerlink" title="3.7 运算优先级"></a>3.7 运算优先级</h3><p>最后我们在给大家介绍一下运算符的优先级，如果你想要知道各个运算符的优先级，哪些先算哪些后算，可以参考下面这张图</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057534154-90ce5df1-98a8-4f05-a756-a60f27579333.png#id=mqR8F&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>从图中我们发现，&amp;&amp;运算比||运算的优先级高，所以&amp;&amp;和||同时存在时，是先算&amp;&amp;再算||；</p>
<p>比如下面的代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里&amp;&amp;先算 相当于 true || false 结果为true</span></span><br><span class="line">System.out.println(<span class="number">10</span> &gt; <span class="number">3</span> || <span class="number">10</span> &gt; <span class="number">3</span> &amp;&amp; <span class="number">10</span> &lt; <span class="number">3</span>); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>最后给大家说一下，在实际开发中，其实我们很少考虑运算优先级， 因为如果你想让某些数据先运算，其实加</strong><code>**()**</code><strong>就可以了，这样阅读性更高。</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//有括号先算 相当于 true &amp;&amp; false 结果为false</span></span><br><span class="line">System.out.println((<span class="number">10</span> &gt; <span class="number">3</span> || <span class="number">10</span> &gt; <span class="number">3</span>) &amp;&amp; <span class="number">10</span> &lt; <span class="number">3</span>); <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="五、案例技术：获取用户键盘输入的数据"><a href="#五、案例技术：获取用户键盘输入的数据" class="headerlink" title="五、案例技术：获取用户键盘输入的数据"></a>五、案例技术：获取用户键盘输入的数据</h2><p>最后给大家讲一个案例技术，这个技术现在其实有一些超前，因为需要用到后面学习的知识。但是在这里讲可以让我们的学习体验度更好一点，前面案例中参与运算的数据都是在程序中写死的，下面我们想让自己键盘录入数据，然后参与程序的运行。</p>
<p><strong>键盘录入这个事情，其实并不是我们自己做的，而是Java本身就提供了这样的功能，我们按照它的要求，去调用就行。</strong></p>
<p>我们在安装JDK的时候，其实JDK中就已经包含了一些Java写好的代码，我们把Java写好的代码直接拿过来用就行。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">比如：Scanner就是Java提供给我们用于键盘录入数据的类，为了录入不同类型的数据，还提供了不同的功能，每一个功能会有不同的名称，我们只需要调用Scanner提供的功能就可以完成键盘录入数据。</span><br></pre></td></tr></tbody></table></figure>

<p>大家只需要按照下面的步骤编写代码，就可以键盘录入数据了</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">【第<span class="number">1</span>步】：在class类上导包：一般不需要我们自己做，idea工具会自动帮助我们 导包的。</span><br><span class="line">	<span class="keyword">import</span> java.util.Scanner;</span><br><span class="line">	</span><br><span class="line">【第<span class="number">2</span>步】：得到一个用于键盘扫描器对象（照抄代码就行，固定格式）</span><br><span class="line">	<span class="comment">//Scanner是键盘扫描器对象(你就把它理解成一个东西)，这个东西有录入的功能</span></span><br><span class="line">	<span class="comment">//sc是给这个东西取的名字</span></span><br><span class="line">	<span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"></span><br><span class="line">【第<span class="number">3</span>步】：开始调用sc的功能，来接收用户键盘输入的数据。</span><br><span class="line">	<span class="comment">//sc这个东西有键盘录入整数的功能，这个功能的名字叫nextInt()</span></span><br><span class="line">	<span class="comment">//.表示表示调用的意思</span></span><br><span class="line">	<span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">	System.out.println(<span class="string">"我的年龄是:"</span>+age);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//sc这个东西还有键盘录入字符串的功能，这个功能的名字叫next</span></span><br><span class="line">	<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> sc.next();</span><br><span class="line">	System.out.println(<span class="string">"我的姓名是:"</span>+name);</span><br></pre></td></tr></tbody></table></figure>

<p>下面是完整代码演示</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ScannerDemo1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、导包:一般不需要我们自己做，idea工具会自动帮助我们 导包的。</span></span><br><span class="line">        <span class="comment">// 2、抄写代码：得到一个键盘扫描器对象（东西）</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、开始 调用sc的功能，来接收用户键盘输入的数据。</span></span><br><span class="line">        System.out.println(<span class="string">"请您输入您的年龄："</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> sc.nextInt(); <span class="comment">// 执行到这儿，会开始等待用户输入一个整数，直到用户按了回车键，才会拿到数据。</span></span><br><span class="line">        System.out.println(<span class="string">"您的年龄是："</span>  + age);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"请您输入您的名字："</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> sc.next(); <span class="comment">// 执行到这儿，会开始等待用户输入一个字符串，直到用户按了回车键，才会拿到数据。</span></span><br><span class="line">        System.out.println(name + <span class="string">"欢迎您进入系统~~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day03——程序流程控制"><a href="#day03——程序流程控制" class="headerlink" title="day03——程序流程控制"></a>day03——程序流程控制</h1><p>各位同学，今天我们学习一个全新的知识——程序流程控制。什么是流程控制呢？说白了就是控制程序的执行顺序。</p>
<p>先给同学们介绍一下，程序有哪些流程控制、以及Java提供了哪些方案来控制程序的执行顺序？</p>
<p>程序的流程控制一般分为3种：<strong>顺序结构、分支结构、循环结构</strong></p>
<ul>
<li>顺序结构：就是不加任何控制，代码从main方法开始自上而下执行 </li>
<li>分支结构：就是根据条件判断是true还是false，有选择性的执行哪些代码。在Java语言中提供了两个格式if 、 switch </li>
<li>循环结构：就是控制某一段代码重复执行。在Java语言中提供了三种格式，for、while、do-while</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057534242-219e9d85-e569-4ea6-a5af-4bcde339c1af.png#id=E23lM&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>以上就是我们今天要学习的课程内容</p>
<h2 id="一、分支结构"><a href="#一、分支结构" class="headerlink" title="一、分支结构"></a>一、分支结构</h2><h3 id="1-1-if分支"><a href="#1-1-if分支" class="headerlink" title="1.1 if分支"></a>1.1 if分支</h3><p>各位同学，接下来我们学习分支结构的第一种形式——if分支。</p>
<p>if它的作用，是用于对条件进行判断，判断的结果只可能有两个值true或者false，然后根据条件判断的结果来决定执行那段代码。</p>
<p><strong>1. if分支的应用场景有哪些呢？</strong></p>
<p>比如，在火车站、地铁站等公共场所，会对过往的旅客测体温。如果体温在37度以内，就属于正常的；如果体温在37读以上，测体温的装置就会报警。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057534338-5c5f7745-36f2-4a4c-a397-544639be0cb3.png#id=gtlss&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>再比如，你在使用微信付钱时，微信内部的程序会先判断你的余额是否足够，如果足够就可以支付成功；如果余额不足，就会提示支付失败。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057534438-e1eeddbb-0348-4899-9558-0c5951d13779.png#id=lfMNZ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>2. if分支的格式</strong></p>
<p>接下来，我们来看一看if分支在Java语言中长什么样子呢？在Java中if分支有三种格式。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057534517-579395ba-bc9c-4c84-8f12-bf834e5f6d03.png#id=dBhb5&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来我们用一些实际案例给大家演示一下if语句的应用，以及每一种if语句的执行流程。</p>
<p><strong>3. if 第一种形式</strong></p>
<p>if 第一种形式的代码格式，和执行流程如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057534602-d9a3fb16-853e-46ec-8591-274a2cc132d2.png#id=e5wXk&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 第一种形式执行流程如下：</span><br><span class="line">    如果 条件表达式 为<span class="literal">true</span>，就执行下面的语句体</span><br><span class="line">    如果 条件表达式 为<span class="literal">false</span>,就不执行</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需求：测量用户体温，发现体温高于37度就报警。</span></span><br><span class="line"><span class="type">double</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">36.9</span>;</span><br><span class="line"><span class="keyword">if</span>(t &gt; <span class="number">37</span>){</span><br><span class="line">    System.out.println(<span class="string">"这个人的温度异常，把他赶紧带走~~"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>4. if 第二种形式</strong></p>
<p>if 第二种形式的代码格式，和执行流程如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057534710-0b785f39-f4a1-4f8f-9cdd-047f4159a2a6.png#id=Uw2o5&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 第二种形式执行流程如下：</span><br><span class="line">    如果 条件表达式 为<span class="literal">true</span>,就执行下面的语句体<span class="number">1</span></span><br><span class="line">    如果 条件表达式 为<span class="literal">false</span>,就执行<span class="keyword">else</span>下面的语句体<span class="number">2</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需求2：发红包，你的钱包余额是99元，现在要发出90元</span></span><br><span class="line"><span class="comment">// 如果钱够触发发红包的动作，如果钱不够，则提示：余额不足。</span></span><br><span class="line"><span class="type">double</span> <span class="variable">money</span> <span class="operator">=</span> <span class="number">19</span>;</span><br><span class="line"><span class="keyword">if</span>(money &gt;= <span class="number">90</span>){</span><br><span class="line">    System.out.println(<span class="string">"发红包成功了~"</span>);</span><br><span class="line">}<span class="keyword">else</span> {</span><br><span class="line">    System.out.println(<span class="string">"余额不足~~"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>5. if 第三种形式</strong></p>
<p>if 第三种形式的代码格式，和执行流程如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057534804-91988791-8b10-401d-941f-1ff5b3c8a3d8.png#averageHue=%23f9f2ea&amp;id=roulY&amp;originHeight=706&amp;originWidth=1570&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 第三种形式执行流程如下：</span><br><span class="line">    如果 条件表达式<span class="number">1</span> 为<span class="literal">true</span>,就执行下面的代码<span class="number">1</span>; </span><br><span class="line">    如果 条件表达式<span class="number">1</span> 为<span class="literal">false</span>，就继续判断条件表达式<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    如果 条件表达式<span class="number">2</span> 为<span class="literal">true</span>，就执行下面的语句体;</span><br><span class="line">    如果 条件表达式<span class="number">2</span> 为<span class="literal">false</span>，就继续判断条件语句体<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    如果 条件表达式<span class="number">3</span> 为<span class="literal">true</span>,就执行下面的语句体<span class="number">3</span></span><br><span class="line">    如果 条件表达式<span class="number">3</span> 为<span class="literal">false</span>,就继续判断后面的表达式;</span><br><span class="line"></span><br><span class="line">    ....</span><br><span class="line">    如果前面所有条件表达式判断都为<span class="literal">false</span>，就执行最后的<span class="keyword">else</span>语句中的代码</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需求3：某个公司有一个绩效系统，根据员工的打分输出对应的绩效级别。[0,60) D  [60,80) C [80,90) B [90,100] A</span></span><br><span class="line"><span class="type">int</span> <span class="variable">score</span> <span class="operator">=</span> <span class="number">298</span>;</span><br><span class="line"><span class="keyword">if</span>(score &gt;= <span class="number">0</span> &amp;&amp; score &lt; <span class="number">60</span>) {</span><br><span class="line">    System.out.println(<span class="string">"您的绩效级别是： D"</span>);</span><br><span class="line">}<span class="keyword">else</span> <span class="keyword">if</span>(score &gt;= <span class="number">60</span> &amp;&amp; score &lt; <span class="number">80</span>){</span><br><span class="line">    System.out.println(<span class="string">"您的绩效级别是： C"</span>);</span><br><span class="line">}<span class="keyword">else</span> <span class="keyword">if</span>(score &gt;= <span class="number">80</span> &amp;&amp; score &lt; <span class="number">90</span>){</span><br><span class="line">    System.out.println(<span class="string">"您的绩效级别是： B"</span>);</span><br><span class="line">}<span class="keyword">else</span> <span class="keyword">if</span>(score &gt;= <span class="number">90</span> &amp;&amp; score &lt;= <span class="number">100</span>){</span><br><span class="line">    System.out.println(<span class="string">"您的绩效级别是： A"</span>);</span><br><span class="line">}<span class="keyword">else</span> {</span><br><span class="line">    System.out.println(<span class="string">"您录入的分数有毛病~~"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>6. if 使用的几个常见问题</strong></p>
<p>同学们在第一次写if 代码时，经常一不小心会出现一些问题。下面把同学们可能出现的问题给大家看一看，以后大家要避免出现这些问题。</p>
<ul>
<li>第1个问题：if的()后面不能写分号<code>;</code> 否则if下面的语句与if无关</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057534902-90f5bdd6-4970-4d07-a769-ad47755df35e.png#averageHue=%23caecc6&amp;id=nEPZ3&amp;originHeight=204&amp;originWidth=1059&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>第2个问题：if后面的大括号，如果只有一行代码，大括号可以省略</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057534989-e32bb916-0189-4f5c-a79a-54421987509c.png#averageHue=%23c9ecc5&amp;id=qTdNb&amp;originHeight=155&amp;originWidth=1010&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>7. if 分支小结</strong></p>
<p>关于if分支结构的几种格式，以及各种格式的执行流程，还有if在什么场景下使用我们就讲完了。下面我们总结一下</p>
<ul>
<li>if分支有什么作用？举几个应用场景？</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- <span class="keyword">if</span>作用：<span class="keyword">if</span>分支可以根据条件，选择执行某段程序</span><br><span class="line">- <span class="keyword">if</span>应用场景</span><br><span class="line">    比如<span class="number">1</span>：测量用户体温，发现体温高于<span class="number">37</span>度就报警</span><br><span class="line">    比如<span class="number">2</span>:发红包，你的钱包余额是<span class="number">99</span>元，现在要发出<span class="number">90</span>元</span><br><span class="line">    比如<span class="number">3</span>:根据员工的绩效打分输出对应的绩效级别</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>if分支的格式有几种，执行流程是什么样的？</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057535066-7e17941a-5960-4641-bbe9-1f702c058d4d.png#averageHue=%23fbfaf3&amp;id=p92eJ&amp;originHeight=664&amp;originWidth=1789&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<hr>
<h3 id="1-2-switch分支"><a href="#1-2-switch分支" class="headerlink" title="1.2 switch分支"></a>1.2 switch分支</h3><p>学完if 分支之后，接下来我们来学习分支结构的第二种形式——switch分支。</p>
<p><strong>1. switch分支的执行流程</strong></p>
<p>switch 分支的作用，<strong>是通过比较值来决定执行哪条分支代码</strong>。先看一下switch分支的格式和执行流程</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057535163-47e3c83d-2c2c-44d2-8fde-47583d3d088a.png#averageHue=%23f5f5f5&amp;id=EOK8O&amp;originHeight=913&amp;originWidth=2261&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面通过案例来演示一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">需求：做个电子备忘录，在控制台分别输出周一到周五的工作安排</span></span><br><span class="line"><span class="comment">    周一：埋头苦干，解决bug              </span></span><br><span class="line"><span class="comment">    周二：	请求大牛程序员帮忙             </span></span><br><span class="line"><span class="comment">    周三：今晚啤酒、龙虾、小烧烤      </span></span><br><span class="line"><span class="comment">    周四：主动帮助新来的女程序解决bug</span></span><br><span class="line"><span class="comment">    周五：今晚吃鸡</span></span><br><span class="line"><span class="comment">    周六：与王婆介绍的小芳相亲</span></span><br><span class="line"><span class="comment">    周日：郁郁寡欢、准备上班。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">week</span> <span class="operator">=</span> <span class="string">"周三"</span>;</span><br><span class="line"><span class="keyword">switch</span> (week){</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"周一"</span>:</span><br><span class="line">        System.out.println(<span class="string">"埋头苦干，解决bug"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"周二"</span>:</span><br><span class="line">        System.out.println(<span class="string">"请求大牛程序员帮忙"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"周三"</span>:</span><br><span class="line">        System.out.println(<span class="string">"今晚啤酒、龙虾、小烧烤"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"周四"</span>:</span><br><span class="line">        System.out.println(<span class="string">"主动帮助新来的女程序解决bug"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"周五"</span>:</span><br><span class="line">        System.out.println(<span class="string">"今晚吃鸡"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"周六"</span>:</span><br><span class="line">        System.out.println(<span class="string">"与王婆介绍的小芳相亲"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"周日"</span>:</span><br><span class="line">        System.out.println(<span class="string">"郁郁寡欢、准备上班"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        System.out.println(<span class="string">"您输入的星期信息不存在~~~"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>2. if 、switch如何选择</strong></p>
<p>学习完switch 分支之后，有同学可能会想，已经了有if分支，为什么还有switch分支呢？感觉上面的案例用if分支也能做啊？ &nbsp;那我们在具体应用场景下如何选择呢？</p>
<p>如果单从功能上来讲，if 分支 的功能是更加强大的，switch分支能做的事情if 分支都能做。但是具体用哪一种分支形式，也是有一些使用原则的</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 如果是对一个范围进行判断，建议使用<span class="keyword">if</span>分支结构</span><br><span class="line">- 如果是与一个一个的值比较的时候，建议使用<span class="keyword">switch</span>分支结构</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-3-switch-注意事项"><a href="#1-3-switch-注意事项" class="headerlink" title="1.3 switch 注意事项"></a>1.3 switch 注意事项</h3><p>各位同学，接下来我们学习swtich的注意事项。同学们掌握这些注意事项之后，就可以避免入坑了，也可以应对一些面试笔试题。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- <span class="number">1.</span>表达式类型只能是<span class="type">byte</span>、<span class="type">short</span>、<span class="type">int</span>、<span class="type">char</span></span><br><span class="line">	JDK5开始支持枚举，JDK7开始支持String</span><br><span class="line">	不支持<span class="type">double</span>、<span class="type">float</span>、<span class="type">double</span></span><br><span class="line">    </span><br><span class="line">- <span class="number">2.</span><span class="keyword">case</span>给出的值不允许重复，且只能是字面量，不能是变量。</span><br><span class="line">		</span><br><span class="line">- <span class="number">3.</span>正常使用<span class="keyword">switch</span>的时候，不要忘记写<span class="keyword">break</span>，否则会出现穿透现象。</span><br></pre></td></tr></tbody></table></figure>

<p><strong>1. 演示switch语句匹配的数据类型</strong></p>
<p>各位同学，如果下图所示，可以自己分别用变量a、b放在switch语句中匹配试一试，如果遇到不支持的写法，IDEA会报错的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057535251-687ae100-5093-45ba-ad34-ce98119691f1.png#id=UutnL&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>2. 演示case后面的值，只能是字面量不能是变量</strong></p>
<p>各位同学，也可以自己试试，下图箭头指向的位置只能写字面量，不能写变量</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057535340-9cd15766-de01-4866-adee-d7aecaa4ec7c.png#id=npMA1&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>3. 演示case穿透现象</strong></p>
<p>当switch语句中没有遇到break，就会直接穿透到下一个case语句执行，直到遇到break为止。</p>
<p>这种语法设计也是有它的用处的，当多个case语句想要执行同一段代码时，可以利用case穿透现象，提高代码复用性。</p>
<p>比如：我们下面程序中，想要让周二、周三、周四，都请大牛程序员来写代码。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057535471-20c94f7a-e766-4c2a-b90e-df5cff0f2bc9.png#averageHue=%23caedc6&amp;id=l283t&amp;originHeight=984&amp;originWidth=1143&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="二、循环结构"><a href="#二、循环结构" class="headerlink" title="二、循环结构"></a>二、循环结构</h2><p>各位同学，接下来我们学习循环结构。循环结构可以控制一段代码重复执行。循环结构有for循环、while循环、do-while循环。</p>
<h3 id="2-1-for循环——格式和流程"><a href="#2-1-for循环——格式和流程" class="headerlink" title="2.1 for循环——格式和流程"></a>2.1 for循环——格式和流程</h3><p>这里首先来学习for循环，同学们重点掌握for循环的书写格式，并理解for循环的执行流程。</p>
<p><strong>1. for循环的格式和流程</strong></p>
<p>为了让大家更直观的理解for循环的执行流程，我们直接来看具体的案例代码。</p>
<p>比如：我们想要在控制台打印输出3个HelloWorld</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//需求：打印3行Hello World</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) {</span><br><span class="line">    System.out.println(<span class="string">"Hello World"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>如下图所示，是按照下面的① ② ③ ④， ② ③ ④… 的顺序来执行的；</p>
<p>当②条件为true时，再依次执行③④代码，然后回到②继续判断</p>
<p>当②条件为false时，就结束循环</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057535622-af5c798d-f55d-4db6-bf9f-58c3f74610f0.png#averageHue=%23caedc6&amp;id=pyXWT&amp;originHeight=157&amp;originWidth=1084&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>具体执行的每一步可以看下面的图解</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057535755-2e472455-af2e-4911-b9dc-e43979d8b027.png#averageHue=%23f3eded&amp;id=qm7ge&amp;originHeight=662&amp;originWidth=1906&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>通过上面的案例演示，最后我们再总结一下for循环的格式</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//for循环格式：</span></span><br><span class="line"><span class="keyword">for</span> (初始化语句; 循环条件; 迭代语句) {</span><br><span class="line">    循环体语句(重复执行的代码);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">初始化语句：一般是定义一个变量，并给初始值</span><br><span class="line">循环条件：一般是一个关系表达式，结果必须是<span class="literal">true</span>或者<span class="literal">false</span></span><br><span class="line">迭代语句：用于对条件进行控制，一般是自增或者自减</span><br><span class="line">循环语句体：需要重复执行的代码</span><br></pre></td></tr></tbody></table></figure>

<p><strong>2. for循环有哪些应用场景</strong></p>
<p>通过上面的学习，我们已经知道了for循环怎么编写，并且也知道了它的执行流程。</p>
<p>那么具体在哪些实际场景下使用呢？<strong>其实只要是重复做的事情，都可以用循环语句来做</strong></p>
<p>比如：在京东的网页上展示100台手机信息，我们只需要把展示数据的代码写一份，重复执行就可以了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057535874-ddef1a48-033d-474e-9aab-eea639c5dc6c.png#averageHue=%23deba91&amp;id=TlgXf&amp;originHeight=825&amp;originWidth=1387&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>再比如：再我们教学管理系统中，有很多班级需要展示在页面上，我们没必要每一个班级都写一份展示数据代码，只需要写一份重复执行就可以了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057536188-4b5a9f0b-899e-41c7-9cbd-0145640be5c4.png#averageHue=%23f6f5f5&amp;id=AUpIJ&amp;originHeight=693&amp;originWidth=889&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-2-for循环案例1——求和"><a href="#2-2-for循环案例1——求和" class="headerlink" title="2.2 for循环案例1——求和"></a>2.2 for循环案例1——求和</h3><p>学完for循环的格式和流程之后，我们再通过案例来巩固一下。通过这个案例，主要是让同学们掌握一种使用程序来求和的思想。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.掌握使用for循环批量产生数据。</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) {</span><br><span class="line">    System.out.println(i);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">求和的思路分析：</span><br><span class="line">	<span class="number">1</span>)首先需要定义一个求和变量，一般命名为sum</span><br><span class="line">	<span class="number">2</span>)再遍历得到所有需要求和的数据(<span class="number">1</span>~<span class="number">100</span>之间的所有整数)</span><br><span class="line">	<span class="number">3</span>)让需要求和的数据和sum累加，</span><br><span class="line">	结果：所有数据累加完之后最终sum就是所有数据的和</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.需求：求1~100中所有整数的和</span></span><br><span class="line"><span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">//定义一个循环，先产生1-100，这100个数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) {</span><br><span class="line">    <span class="comment">//每产生一个数据，就把这个数和sum累加</span></span><br><span class="line">    sum += i; <span class="comment">//sum = sum  + i;</span></span><br><span class="line">}</span><br><span class="line">System.out.println(<span class="string">"1-100的数据和："</span> +  sum);</span><br></pre></td></tr></tbody></table></figure>

<p>分析上面代码的执行过程：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">i=<span class="number">1</span>时：sum=<span class="number">0</span>+<span class="number">1</span>; sum=<span class="number">1</span>;</span><br><span class="line">i=<span class="number">2</span>时：sum=<span class="number">1</span>+<span class="number">2</span>; sum=<span class="number">3</span>;</span><br><span class="line">i=<span class="number">3</span>时：sum=<span class="number">3</span>+<span class="number">3</span>; sum=<span class="number">6</span>;</span><br><span class="line">i=<span class="number">4</span>时：sum=<span class="number">6</span>+<span class="number">4</span>; sum=<span class="number">10</span>;</span><br><span class="line">...</span><br><span class="line">i=<span class="number">100</span>时: sum+=<span class="number">99</span>; sum=<span class="number">5050</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-2-for循环案例2——求奇数和"><a href="#2-2-for循环案例2——求奇数和" class="headerlink" title="2.2 for循环案例2——求奇数和"></a>2.2 for循环案例2——求奇数和</h3><p>需求：求1~100之间奇数的和</p>
<p><strong>1. &nbsp;代码写法一</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">求奇数和的思路（只是求和的数据变成了奇数，思路和前面没有变化）</span><br><span class="line">	<span class="number">1</span>)首先需要定义一个求和变量，这里命名为sum1</span><br><span class="line">	<span class="number">2</span>)再遍历得到所有需要求和的数据(<span class="number">1</span>~<span class="number">100</span>之间的所有奇数)</span><br><span class="line">	<span class="number">3</span>)让需要求和的数据和sum1累加，</span><br><span class="line">	结果：所有数据累加完之后最终sum1就是所有数据的和</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1)定义一个变量用于求和</span></span><br><span class="line"><span class="type">int</span> <span class="variable">sum1</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">//2)定义一个循环产生1-100之间的奇数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; <span class="number">100</span>; i+=<span class="number">2</span>) {</span><br><span class="line">    <span class="comment">// i = 1 3 5 7 ...</span></span><br><span class="line">    <span class="comment">//3)让需要求和的数据和sum1累加，</span></span><br><span class="line">    sum1 += i;</span><br><span class="line">}</span><br><span class="line">System.out.println(<span class="string">"1-100之间的奇数和："</span> +  sum1);</span><br></pre></td></tr></tbody></table></figure>

<p>以上代码的执行流程分析</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">初始化sum1=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">当i=<span class="number">1</span>时：sum1+=<span class="number">1</span>; sum1=<span class="number">1</span>;</span><br><span class="line">当i=<span class="number">3</span>时：sum1+=<span class="number">3</span>; sum1=<span class="number">4</span>;</span><br><span class="line">当i=<span class="number">5</span>时：sum1+=<span class="number">5</span>; sum1=<span class="number">9</span>;</span><br><span class="line">...</span><br><span class="line">当i=<span class="number">99</span>时：sum1+=<span class="number">99</span>; sum1=<span class="number">2500</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>2. 代码写法二</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">求奇数和的思路（只是求和的数据变成了奇数，思路和前面没有变化）</span><br><span class="line">	<span class="number">1</span>)首先需要定义一个求和变量，这里命名为sum2</span><br><span class="line">	<span class="number">2</span>)再遍历得到所有需要求和的数据(<span class="number">1</span>~<span class="number">100</span>之间的所有整数)</span><br><span class="line">	<span class="number">3</span>)在求和之前先对数据判断，如果是奇数，才和sum1累加；否则什么也不干</span><br><span class="line">	结果：所有数据累加完之后最终sum1就是所有数据的和</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1)首先需要定义一个求和变量，这里命名为sum2</span></span><br><span class="line"><span class="type">int</span> <span class="variable">sum2</span> <span class="operator">=</span> <span class="number">0</span>; </span><br><span class="line"><span class="comment">//2)再遍历得到所有需要求和的数据(1~100之间的所有整数)</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) {</span><br><span class="line">    <span class="comment">//i = 1 2 3 4 5 6 ... 99 100</span></span><br><span class="line">    <span class="comment">//3)在求和之前先对数据判断，如果是奇数，才和sum1累加；否则什么也不干</span></span><br><span class="line">    <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">1</span>){</span><br><span class="line">        <span class="comment">// i = 1 3 5 7 9 ... 99</span></span><br><span class="line">        sum2 += i;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">System.out.println(<span class="string">"1-100之间的奇数和："</span> + sum2);</span><br></pre></td></tr></tbody></table></figure>

<p><strong>for循环小结</strong></p>
<p>今天关于for循环，我们学习这几个案例就够了，重点还是掌握for循环的执行流程。在以后，我们还会经常用到for循环，用多了，你就会越来越熟悉了。但是在具体场景下，还是需要具体问题具体分析。</p>
<hr>
<h3 id="2-3-while循环——格式和流程"><a href="#2-3-while循环——格式和流程" class="headerlink" title="2.3 while循环——格式和流程"></a>2.3 while循环——格式和流程</h3><p>各位同学，接下来我们学习第二种循环结构——while循环。</p>
<p>我们先来认识一下while循环长什么样子，然后按照格式写一个while循环的基础案例</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057536304-3e1d3a44-f025-4d9d-b6d7-f91e8f4b20d9.png#id=gvY07&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需求：打印5行Hello World</span></span><br><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">5</span>) {</span><br><span class="line">    <span class="comment">// i = 0 1 2 3 4</span></span><br><span class="line">    System.out.println(<span class="string">"Hello World"</span>);</span><br><span class="line">    i++;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>代码的执行流程如下图所示：按照① &nbsp; ②③④ &nbsp;②③④ … 的流程执行</p>
<p>如果②步骤为true，才循环执行③④步骤</p>
<p>如果②步骤为false，则循环结束</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057536452-cd43b3eb-5f54-416e-a5d5-7242e74ac802.png#averageHue=%23caedc7&amp;id=IICiv&amp;originHeight=240&amp;originWidth=909&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057536575-fd76f2e4-1221-4fc2-8067-b9f2810f6be7.png#averageHue=%23eeeded&amp;id=eofG9&amp;originHeight=294&amp;originWidth=1471&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>for、while如何选择</strong></p>
<p>学到这里，细心的同学可能会发现while循环和for循环的执行流程是一样的。那他们是不是可以通用呢？</p>
<ul>
<li>从功能来说：能够用for循环做的，都能用while循环做。 </li>
<li>使用规范上来说：知道循环几次，建议使用for；不知道循环几次建议使用while</li>
</ul>
<h3 id="2-3-while循环案例——折纸案例"><a href="#2-3-while循环案例——折纸案例" class="headerlink" title="2.3 while循环案例——折纸案例"></a>2.3 while循环案例——折纸案例</h3><p>各位同学，上一节我们已经学习了while循环的基本使用。下面我们通过一个案例再将while循环的使用巩固一下，主要目的还是想让大家知道什么使用while循环来完成需求。</p>
<p>案例需求如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">需求：世界最高山峰珠穆朗玛峰高度是：<span class="number">8848.86</span>米=<span class="number">8848860</span>毫米，假如我有一张足够大的它的厚度是<span class="number">0.1</span>毫米。请问：该纸张折叠多少次，可以折成珠穆朗玛峰的高度？</span><br></pre></td></tr></tbody></table></figure>

<p>我们来分析一下该怎么做</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">分析：首先由于不知道折叠多少次，我们可以选择用<span class="keyword">while</span>循环</span><br><span class="line">	<span class="number">1</span>)纸张的初始化厚度为<span class="number">0.1</span>毫米，珠峰的高度为<span class="number">8848860</span>毫米</span><br><span class="line">		<span class="type">double</span> <span class="variable">peakHeight</span> <span class="operator">=</span> <span class="number">8848860</span>;</span><br><span class="line">		<span class="type">double</span> <span class="variable">paperThickness</span> <span class="operator">=</span> <span class="number">0.1</span>;</span><br><span class="line">	<span class="number">2</span>)每次折叠纸张的厚度为原来的两倍，这是需要循环执行的</span><br><span class="line">		<span class="keyword">while</span>(纸张厚度&lt;<span class="number">8848860</span>){</span><br><span class="line">			纸张厚度*=<span class="number">2</span>;</span><br><span class="line">		}</span><br><span class="line">	<span class="number">3</span>)需要求折叠的次数，可以用一个变量来记录折叠的次数</span><br><span class="line">		<span class="type">int</span> 次数 = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(纸张厚度&lt;<span class="number">8848860</span>){</span><br><span class="line">			纸张厚度*=<span class="number">2</span>;</span><br><span class="line">            次数++; <span class="comment">//每次折叠次数累加</span></span><br><span class="line">		}</span><br><span class="line">	结果：等循环结束之后，打印记录次数的值，就是折叠多少次了。</span><br></pre></td></tr></tbody></table></figure>

<p>按照上面分析的思路把代码写出来</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、定义变量记住珠穆朗玛峰的高度和纸张的高度。</span></span><br><span class="line"><span class="type">double</span> <span class="variable">peakHeight</span> <span class="operator">=</span> <span class="number">8848860</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">paperThickness</span> <span class="operator">=</span> <span class="number">0.1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3、定义一个变量count用于记住纸张折叠了多少次</span></span><br><span class="line"><span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、定义while循环控制纸张开始折叠</span></span><br><span class="line"><span class="keyword">while</span> (paperThickness &lt; peakHeight) {</span><br><span class="line">    <span class="comment">// 把纸张进行折叠，把纸张的厚度变成原来的2倍。</span></span><br><span class="line">    paperThickness = paperThickness * <span class="number">2</span>;</span><br><span class="line">    count++;</span><br><span class="line">}</span><br><span class="line">System.out.println(<span class="string">"需要折叠多少次："</span> + count);</span><br><span class="line">System.out.println(<span class="string">"最终纸张的厚度是："</span> + paperThickness);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-4-do-while循环——格式和流程"><a href="#2-4-do-while循环——格式和流程" class="headerlink" title="2.4 do-while循环——格式和流程"></a>2.4 do-while循环——格式和流程</h3><p>各位同学，接下来我们学习循环结构的第三种格式——do-while循环。</p>
<p>们先来认识一下while循环长什么样子，然后按照格式写一个while循环的基础案例。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057536694-8118c00c-3bd0-47aa-a612-9022302d9170.png#averageHue=%23f5ede2&amp;id=pQQRd&amp;originHeight=797&amp;originWidth=1612&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如下图所示：do-while循环的执行流程，是按照① &nbsp;②③④ &nbsp; ②③④… 的顺序执行的。</p>
<p>我们会发现，do-while循环的特点是先执行，再判断的。即使条件不成立，也会先执行一次。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057536798-f016c0da-506f-4e5a-b592-663053825bad.png#averageHue=%23caecc6&amp;id=XAWYg&amp;originHeight=294&amp;originWidth=1050&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>下面我们把三种循环的区别给同学们总结一下</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="keyword">for</span>循环 和 <span class="keyword">while</span>循环（先判断后执行）; </span><br><span class="line">   <span class="keyword">do</span>...<span class="keyword">while</span> （先执行后判断）</span><br><span class="line">   </span><br><span class="line"><span class="number">2.</span><span class="keyword">for</span>循环和<span class="keyword">while</span>循环的执行流程是一模一样的，</span><br><span class="line">	功能上无区别，<span class="keyword">for</span>能做的<span class="keyword">while</span>也能做，反之亦然。</span><br><span class="line">	如果已知循环次数建议使用<span class="keyword">for</span>循环，如果不清楚要循环多少次建议使用<span class="keyword">while</span>循环。</span><br><span class="line">	</span><br><span class="line"><span class="number">3</span> <span class="keyword">for</span>循环中控制循环的变量只在循环中使用</span><br><span class="line">  <span class="keyword">while</span>循环中，控制循环的变量在循环后还可以继续使用</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-6-死循环"><a href="#2-6-死循环" class="headerlink" title="2.6 死循环"></a>2.6 死循环</h3><p>同学们在写代码时，可能一不小心把代码写成了死循环，所谓死循环就是停不下来的循环。</p>
<p>接下来，带着同学们认识几种死循环的写法。然后再说一下死循环有什么用。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//for死循环</span></span><br><span class="line"><span class="keyword">for</span> ( ; ; ){</span><br><span class="line">    System.out.println(<span class="string">"Hello World1"</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//while死循环</span></span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">    System.out.println(<span class="string">"Hello World2"</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//do-while死循环</span></span><br><span class="line"><span class="keyword">do</span> {</span><br><span class="line">    System.out.println(<span class="string">"Hello World3"</span>);</span><br><span class="line">}<span class="keyword">while</span> (<span class="literal">true</span>);</span><br></pre></td></tr></tbody></table></figure>

<p><strong>死循环有什么应用场景呢？</strong></p>
<p>最典型的是可以用死循环来做服务器程序， 比如百度的服务器程序就是一直在执行的，你随时都可以通过浏览器去访问百度。如果哪一天百度的服务器停止了运行，有就意味着所有的人都永不了百度提供的服务了。</p>
<p>对于这样的应用我们目前了解一下就可以了。对于目前来说我们只要知道代码格式该怎么写，能达到什么效果就行。</p>
<h3 id="2-8-循环嵌套"><a href="#2-8-循环嵌套" class="headerlink" title="2.8 循环嵌套"></a>2.8 循环嵌套</h3><p>各位同学，接下来我们学习一种在实际工作中很常用的循环形式——循环嵌套。</p>
<p>所谓循环嵌套，就是一个循环中又包含另一个循环（就是同学们常说的，套娃_），下面我们通过案例代码演示一下。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057536905-667e90a3-a48e-4aa7-9aa5-b65b2d7ce9e6.png#averageHue=%23fefde2&amp;id=ysbXy&amp;originHeight=175&amp;originWidth=433&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>循环嵌套执行流程：外部循环每循环一次，内部循环会全部执行完一轮。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">i=<span class="number">0</span>时; i&lt;<span class="number">3</span>为<span class="literal">true</span>; 进入循环</span><br><span class="line">	<span class="comment">//j的取值从0到5,执行一轮，打印5次"我爱你"</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= <span class="number">5</span>; j++) {</span><br><span class="line">       System.out.println(<span class="string">"我爱你："</span> + i);</span><br><span class="line">    }</span><br><span class="line">    内层循环执行完之后，执行外层的i++; i的值<span class="number">1</span></span><br><span class="line">    </span><br><span class="line">i=<span class="number">1</span>时：i&lt;<span class="number">3</span>为<span class="literal">true</span>; 进入循环</span><br><span class="line">	<span class="comment">//j的取值从0到5,又执行一轮，打印5次"我爱你"</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= <span class="number">5</span>; j++) {</span><br><span class="line">       System.out.println(<span class="string">"我爱你："</span> + i);</span><br><span class="line">    }</span><br><span class="line">    内层循环执行完之后，执行外层的i++; i的值<span class="number">2</span></span><br><span class="line">    </span><br><span class="line">i=<span class="number">2</span>时：i&lt;<span class="number">3</span>为<span class="literal">true</span>; 进入循环</span><br><span class="line">	<span class="comment">//j的取值从0到5,再执行一轮，打印5次"我爱你"</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= <span class="number">5</span>; j++) {</span><br><span class="line">       System.out.println(<span class="string">"我爱你："</span> + i);</span><br><span class="line">    }</span><br><span class="line">    内层循环执行完之后，执行外层的i++; i的值<span class="number">3</span></span><br><span class="line">    </span><br><span class="line">i=<span class="number">3</span>时：i&lt;<span class="number">3</span>为<span class="literal">false</span>; 外层循环结束</span><br></pre></td></tr></tbody></table></figure>

<p>理解问循环嵌套的执行流程之后，我们再写一个案例来巩固一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">需求：在控制台使用 * 打印出<span class="number">4</span>行<span class="number">5</span>列的矩形</span><br><span class="line">    ****</span><br><span class="line">    ****</span><br><span class="line">    ****</span><br><span class="line">    ****</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1)先写一个循环用来在一行中打印5个"*"</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= <span class="number">5</span>; j++) {</span><br><span class="line">    System.out.print(<span class="string">"*"</span>); <span class="comment">// 不换行</span></span><br><span class="line">}</span><br><span class="line">System.out.println(); <span class="comment">//换行</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">"-----------------"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2)再将第一步的代码套一层循环，执行4次，就可以打印4行</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">4</span>; i++) {</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= <span class="number">5</span>; j++) {</span><br><span class="line">        System.out.print(<span class="string">"*"</span>); <span class="comment">// 不换行</span></span><br><span class="line">    }</span><br><span class="line">    System.out.println(); <span class="comment">//换行</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>总结一下，对于嵌套循环重点理解这句话：<strong>外部循环每循环一次，内部循环会全部执行完一轮。</strong></p>
<h3 id="2-9-跳转语句-break-、continue"><a href="#2-9-跳转语句-break-、continue" class="headerlink" title="2.9 跳转语句 break 、continue"></a>2.9 跳转语句 break 、continue</h3><p>前面我们学习了循环结构，在中间我们还接触了死循环的一些形式，那么我想要在循环过程中提前跳出循环怎么做呢？</p>
<p>这里就需要用到跳转语句，需要用到<strong>break</strong>和<strong>continue</strong>两个关键字。我们先来认识一下这两个关键字的作用</p>
<ul>
<li>break作用：跳出并结束当前所在循环的执行</li>
<li>continue作用：结束本次循环，进入下一次循环</li>
</ul>
<p>案例1：演示break的使用，提前终止循环的执行</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、break:跳出并结束当前所在循环的执行。</span></span><br><span class="line"><span class="comment">// 场景：假如你又有老婆了，你犯错了，你老婆罚你说：5句我爱你</span></span><br><span class="line"><span class="comment">// 说到第三句的时候心软了，让你别再说了。</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">    System.out.println(<span class="string">"我爱你："</span> + i);</span><br><span class="line">    <span class="keyword">if</span>(i == <span class="number">3</span>){</span><br><span class="line">        <span class="comment">// 说明已经说完了第三句了，心软了。</span></span><br><span class="line">        <span class="keyword">break</span>; <span class="comment">// 跳出并结束当前所在循环的执行。</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>案例2：演示continue的使用，结束循环中的一次，继续下一次循环</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2、continue:跳出当前循环的当次执行，直接进入循环的下一次执行。</span></span><br><span class="line"><span class="comment">// 场景: 假如你有老婆，你犯错了，你老婆罚你洗碗5天。</span></span><br><span class="line"><span class="comment">// 第三天的时候，你表现很好，第三天不用洗碗，但是不解恨，第四天还是要继续的。</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">    <span class="keyword">if</span>(i == <span class="number">3</span>) {</span><br><span class="line">        <span class="comment">// 已经到了第三天，第三天不用洗的。</span></span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    }</span><br><span class="line">    System.out.println(<span class="string">"洗碗："</span> + i);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>需要注意的是<strong>break和continue不是任何地方都可以使用的</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057537048-70d54f17-1896-41d7-8cd4-861257fbe0b1.png#averageHue=%23fcf4f2&amp;id=hChtR&amp;originHeight=100&amp;originWidth=603&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057537149-6637e5f4-90a4-4c89-88a1-05453d060db4.png#averageHue=%23cbedc7&amp;id=sXPuC&amp;originHeight=254&amp;originWidth=1085&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<hr>
<h3 id="2-10-循环结构总结"><a href="#2-10-循环结构总结" class="headerlink" title="2.10 循环结构总结"></a>2.10 循环结构总结</h3><p>到这里关于循环结构的所有内容就都已经学习完了，我们再把几种循环结构在什么场景下使用，再总结一下。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 什么是流程控制</span><br><span class="line">	答：流程控制是用来控制程序的执行顺序的</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span> 分支结构<span class="keyword">if</span>和<span class="keyword">switch</span>，如何选择？</span><br><span class="line">	答：<span class="keyword">if</span>分支：一般用于对一个范围进行判断</span><br><span class="line">		<span class="keyword">switch</span>分支：对一个一个值进行匹配</span><br><span class="line">		</span><br><span class="line"><span class="number">3.</span> <span class="keyword">for</span>循环和<span class="keyword">while</span>循环、<span class="keyword">do</span>-<span class="keyword">while</span>如何循环</span><br><span class="line">	答：知道循环次数用<span class="keyword">for</span>、不知道循环次数用<span class="keyword">while</span></span><br><span class="line">	   想要先执行，再判断，用<span class="keyword">do</span>-<span class="keyword">while</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="三、生成随机数"><a href="#三、生成随机数" class="headerlink" title="三、生成随机数"></a>三、生成随机数</h2><p>各位同学，接下来我们再学习一个新的知识——生成随机数。</p>
<p>生成随机数其实在很多场景下都很实用，比如，在课堂上可以写一个随机点名器点同学起来回答问题；再比如公司年会可以随机抽奖等。</p>
<h3 id="3-1-如何产生一个随机数"><a href="#3-1-如何产生一个随机数" class="headerlink" title="3.1 如何产生一个随机数"></a>3.1 如何产生一个随机数</h3><p>生成随机数的功能，其实 Java已经给我们提供了，在JDK中提供了一个类叫做Random，我们只需要调用Random这个类提供的功能就可以了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057537232-8cf55f01-7cab-4222-9d34-772a46ee19d8.png#averageHue=%23f9f3f2&amp;id=P1ac8&amp;originHeight=96&amp;originWidth=642&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 目标：掌握使用Random生成随机数的步骤。</span></span><br><span class="line"><span class="comment">// 1、导包。import java.util.Random; (idea会自动完成)</span></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RandomDemo1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 2、创建一个Random对象，用于生成随机数。</span></span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="comment">// 3、调用Random提供的功能：nextInt得到随机数。</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">20</span>; i++) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">data</span> <span class="operator">=</span> r.nextInt(<span class="number">10</span>); <span class="comment">// 0 - 9</span></span><br><span class="line">            System.out.println(data);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-2-猜数字小游戏"><a href="#3-2-猜数字小游戏" class="headerlink" title="3.2 猜数字小游戏"></a>3.2 猜数字小游戏</h3><p>各位同学，接下来我们通过一个案例把前面的流程控制、跳转语句、随机数综合运用一下；</p>
<p>如果能把这个案例写出来，说明你对今天的知识点掌握得挺好了。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">需求：</span><br><span class="line">	随机生成一个<span class="number">1</span>-<span class="number">100</span>之间的数据，提示用户猜测，猜大提示过大，猜小提示过小，直到猜中	  结束游戏</span><br><span class="line"></span><br><span class="line">分析：</span><br><span class="line">	<span class="number">1.</span>先随机生成一个<span class="number">1</span>-<span class="number">100</span>之间的数据。</span><br><span class="line">		谁可以帮你生成随机数啊？ 是不是要用到Random？</span><br><span class="line">		</span><br><span class="line">	<span class="number">2.</span>定义一个死循环让用户可以一直猜测。</span><br><span class="line">		用户猜的数据从哪里来啊？ 是不是要用到Scanner?</span><br><span class="line"></span><br><span class="line">	<span class="number">3.</span>在死循环里，每次让用户录入的数据和随机数进行比较</span><br><span class="line">		如果比随机数大：提示猜大了</span><br><span class="line">		如果比随机数小：提示猜小了</span><br><span class="line">		如果和随机数相同：提示恭喜你猜中了</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RandomTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、随机产生一个1-100之间的数据，做为中奖号码。</span></span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">luckNumber</span> <span class="operator">=</span> r.nextInt(<span class="number">100</span>) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、定义一个死循环，让用户不断的猜测数据</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            <span class="comment">// 提示用户猜测</span></span><br><span class="line">            System.out.println(<span class="string">"请您输入您猜测的数据："</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">guessNumber</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3、判断用户猜测的数字与幸运号码的大小情况</span></span><br><span class="line">            <span class="keyword">if</span>(guessNumber &gt; luckNumber){</span><br><span class="line">                System.out.println(<span class="string">"您猜测的数字过大~~"</span>);</span><br><span class="line">            }<span class="keyword">else</span> <span class="keyword">if</span>(guessNumber &lt; luckNumber){</span><br><span class="line">                System.out.println(<span class="string">"您猜测的数字过小~~"</span>);</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                System.out.println(<span class="string">"恭喜您，猜测成功了，可以买单了~~"</span>);</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// 结束死循环</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day04——Java数组"><a href="#day04——Java数组" class="headerlink" title="day04——Java数组"></a>day04——Java数组</h1><p>各位同学，今天我们学习一个Java中非常重要的技术——数组。</p>
<h2 id="一、认识数组"><a href="#一、认识数组" class="headerlink" title="一、认识数组"></a>一、认识数组</h2><p>先来认识一下什么数组</p>
<h3 id="1-什么数组"><a href="#1-什么数组" class="headerlink" title="1. 什么数组"></a>1. 什么数组</h3><p>数组就是一个容器，用来存一批同种类型的数据的。</p>
<p>比如：想要存储 20,10,80,60,90 这些数据。 我们可以把代码写成这样</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] array = {<span class="number">20</span>,<span class="number">10</span>,<span class="number">80</span>,<span class="number">60</span>,<span class="number">90</span>};</span><br></pre></td></tr></tbody></table></figure>

<p>比如：想要存储 “牛二“,“西门“,“全蛋“ 这些数据。我们可以把代码写成这样</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String[] names = {<span class="string">"牛二"</span>, <span class="string">"西门"</span>, <span class="string">"全蛋"</span>};</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-数组的应用场景"><a href="#2-数组的应用场景" class="headerlink" title="2. 数组的应用场景"></a>2. 数组的应用场景</h3><p>有变量，为什么还要有数组呢？ 比如，我们要做一个点名器</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057537339-3b21a9a9-324a-427c-9242-e9becb9096ce.png#averageHue=%23edecec&amp;id=Qku8k&amp;originHeight=510&amp;originWidth=232&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如果用变量来做的话，代码是这样子的</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057537428-9691f67a-72ff-4b7b-91d8-d6ad2e1cd473.png#averageHue=%23f6f6e6&amp;id=dmYwD&amp;originHeight=528&amp;originWidth=1845&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如果用数组来做的话，代码是这样子的</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057537543-d1eeeeb6-3234-40e5-a6fa-b3eb2f8a8af0.png#averageHue=%23f5f5e5&amp;id=eSwPD&amp;originHeight=269&amp;originWidth=1724&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>一对比我们发现数组的写法比变量的写法更加简洁，所以我们可以得出一个结论</p>
<p><strong>结论：遇到批量数据的存储和操作时，数组比变量更适合</strong></p>
<h2 id="二、数组的定义和访问"><a href="#二、数组的定义和访问" class="headerlink" title="二、数组的定义和访问"></a>二、数组的定义和访问</h2><p>各位同学，我们已经知道数组是用来干什么的。那么如何使用Java语言写一个数组呢？这里就需要学习一下数组的初始化格式。</p>
<p>数组有两种初始化的方式，一种是静态初始化、一种是动态初始化。我们先用静态初始化来学习数组的操作。</p>
<h3 id="2-1-数组的静态初始化"><a href="#2-1-数组的静态初始化" class="headerlink" title="2.1 数组的静态初始化"></a>2.1 数组的静态初始化</h3><p>所谓静态初始化指的是：在定义数组时直接给数组中的数据赋值。</p>
<p><strong>1. 静态初始化标准格式：</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数据类型[] 变量名 = <span class="keyword">new</span> 数据类型[]{元素<span class="number">1</span>,元素<span class="number">2</span>,元素<span class="number">3</span>};</span><br></pre></td></tr></tbody></table></figure>

<p>按照格式定义int类型、double类型数组</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义数组，用来存储多个年龄</span></span><br><span class="line"><span class="type">int</span>[] ages = <span class="keyword">new</span> <span class="title class_">int</span>[]{<span class="number">12</span>, <span class="number">24</span>, <span class="number">36</span>}</span><br><span class="line"><span class="comment">//定义数组，用来存储多个成绩</span></span><br><span class="line"><span class="type">double</span>[] scores = <span class="keyword">new</span> <span class="title class_">double</span>[]{<span class="number">89.9</span>, <span class="number">99.5</span>, <span class="number">59.5</span>, <span class="number">88.0</span>};</span><br></pre></td></tr></tbody></table></figure>

<p><strong>2. 静态初始化简化格式</strong></p>
<p>Java语言的设计者为了简化定义数组的写法，还为静态初始化提供了一种简化写法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数据类型[] 变量名 = {元素<span class="number">1</span>,元素<span class="number">2</span>,元素<span class="number">3</span>};</span><br></pre></td></tr></tbody></table></figure>

<p>使用简化格式定义int类型、double类型数组</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义数组，用来存储多个年龄</span></span><br><span class="line"><span class="type">int</span>[] ages = {<span class="number">12</span>, <span class="number">24</span>, <span class="number">36</span>}</span><br><span class="line"><span class="comment">//定义数组，用来存储多个成绩</span></span><br><span class="line"><span class="type">double</span>[] scores = {<span class="number">89.9</span>, <span class="number">99.5</span>, <span class="number">59.5</span>, <span class="number">88.0</span>};</span><br></pre></td></tr></tbody></table></figure>

<p><strong>3. 注意哟！！</strong></p>
<ul>
<li>定义数组时， <code>数据类型[] 数组名</code> 也可写成 <code>数据类型 数组名[]</code></li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//以下两种写法是等价的。但是建议大家用第一种，因为这种写法更加普遍</span></span><br><span class="line"><span class="type">int</span>[] ages = {<span class="number">12</span>, <span class="number">24</span>, <span class="number">36</span>};</span><br><span class="line"><span class="type">int</span> ages[] = {<span class="number">12</span>, <span class="number">24</span>, <span class="number">36</span>}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>4. 数组在计算机中的基本原理</strong></p>
<p>我们知道数组是怎么定义的之后，那么接下来看一下数组在计算机中的基本原理。</p>
<p>我们以<code>int[] ages = {12,24,36};</code>这句话为例，看一下这句话到底在计算机中做了那些事情。</p>
<ul>
<li>首先，左边<code>int[] ages</code> 表示定义了一个数组类型的变量，变量名叫ages</li>
<li>其次，右边<code>{12,24,36}</code>表示创建一个数组对象，你完全可以把它理解成一个能装数据的东西。这个对象在内存中会有一个地址值<code>[I@4c873330</code>，每次创建一个数组对象都会有不用的地址值。</li>
<li>然后，把右边的地址值<code>[I@4c873330</code>赋值给左边的ages变量</li>
<li>所以，ages变量就可以通过地址值，找到数组这个东西。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057537631-278c8b0a-68c6-4db4-a31e-5b8711b210f9.png#id=x88yg&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-2-数组的元素访问"><a href="#2-2-数组的元素访问" class="headerlink" title="2.2 数组的元素访问"></a>2.2 数组的元素访问</h3><p>各位同学，通过刚才的学习，我们知道数组是用来存储数据的。那么数组中存储的数据又如何访问呢？这里所说的访问，意思就是获取中数组中数据的值、或者给数组中的数据赋值。</p>
<p>这里先给大家统一几个概念，数组中存储的数据我们叫做元素；而且数组中的每一个元素都有一个编号与之对应，我们把这个编号叫做索引，这个索引是从0依次递增的整数。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057537731-44181951-c525-4e91-b9a6-2e508471c2bd.png#id=LWTLF&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>要想访问数组中的元素，格式如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组名可以找到数组对象的地址，再通过索引就可以定位到具体的元素了</span></span><br><span class="line">数组名[索引]</span><br></pre></td></tr></tbody></table></figure>

<p>接下来用代码来演示一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//索引：	   0   1   2</span></span><br><span class="line"><span class="type">int</span>[] arr = {<span class="number">12</span>, <span class="number">24</span>, <span class="number">36</span>};</span><br><span class="line"><span class="comment">// 1、访问数组的全部数据</span></span><br><span class="line">System.out.println(arr[<span class="number">0</span>]); <span class="comment">//12</span></span><br><span class="line">System.out.println(arr[<span class="number">1</span>]); <span class="comment">//24</span></span><br><span class="line">System.out.println(arr[<span class="number">2</span>]); <span class="comment">//36</span></span><br><span class="line"><span class="comment">//下面代码没有3索引，会出现ArrayIndexOutOfBoundsException 索引越界异常</span></span><br><span class="line"><span class="comment">//System.out.println(arr[3]); </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、修改数组中的数据</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">66</span>;</span><br><span class="line">arr[<span class="number">2</span>] = <span class="number">100</span>;</span><br><span class="line">System.out.println(arr[<span class="number">0</span>]); <span class="comment">//66</span></span><br><span class="line">System.out.println(arr[<span class="number">1</span>]); <span class="number">0</span></span><br><span class="line">System.out.println(arr[<span class="number">2</span>]); <span class="comment">//100</span></span><br></pre></td></tr></tbody></table></figure>

<p>除了访问数组中的元素，我们可以获取数组中元素的个数，后面我们统称为数组的长度。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3、访问数组的元素个数：数组名.length</span></span><br><span class="line">System.out.println(arr.length);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 技巧：获取数组的最大索引: arr.length - 1(前提是数组中存在数据)</span></span><br><span class="line">System.out.println(arr.length - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>[] arr2 = {};</span><br><span class="line">System.out.println(arr2.length - <span class="number">1</span>);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-3-数组的遍历"><a href="#2-3-数组的遍历" class="headerlink" title="2.3 数组的遍历"></a>2.3 数组的遍历</h3><p>各位同学，接下来我们学习一个对数组最最最常见的操作——数组遍历。所谓遍历意思就是将数组中的元素一个一个的取出来。</p>
<p>我们刚才学习了数组中元素的访问，访问元素必须用到索引，如下列代码。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] ages = {<span class="number">12</span>, <span class="number">24</span>, <span class="number">36</span>};</span><br><span class="line">System.out.println(ages[<span class="number">0</span>]);</span><br><span class="line">System.out.println(ages[<span class="number">1</span>]);</span><br><span class="line">System.out.println(ages[<span class="number">2</span>]);</span><br></pre></td></tr></tbody></table></figure>

<p>但是，如果数组中有很多很多元素，索引靠自己一个一个数肯定是不行的！我们可以使用for循环从0开始一直遍历到长度-1的位置，就可以获取所有的索引了。</p>
<p>当你获取到每一个索引，那么每一个元素不就获取到了吗？上代码吧</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] ages = {<span class="number">12</span>, <span class="number">24</span>, <span class="number">36</span>};</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; ages.length; i++) {</span><br><span class="line">    <span class="comment">// i的取值 = 0,1,2</span></span><br><span class="line">    System.out.println(ages[i]); </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-4-数组静态初始化案例"><a href="#2-4-数组静态初始化案例" class="headerlink" title="2.4 数组静态初始化案例"></a>2.4 数组静态初始化案例</h3><p>学习完数组的静态初始化之后，接下来我们做一个练习题来巩固一下。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">需求：某部门<span class="number">5</span>名员工的销售额分别是：<span class="number">16</span>、<span class="number">26</span>、<span class="number">36</span>、<span class="number">6</span>、<span class="number">100</span>，请计算出他们部门的总销售额。</span><br><span class="line"></span><br><span class="line">需求分析：</span><br><span class="line">	<span class="number">1.</span>看到有<span class="number">16</span>、<span class="number">26</span>、<span class="number">36</span>、<span class="number">6</span>、<span class="number">100</span>这<span class="number">5</span>个数据数据，而且数据值很明确;</span><br><span class="line">		<span class="number">1</span>)想到,可以使用数组静态初始化把这<span class="number">5</span>个数据存起来</span><br><span class="line">	</span><br><span class="line">	<span class="number">2.</span>请计算出他们部门的总销售额（这不就是求数组中数据的和吗？）</span><br><span class="line">		<span class="number">2</span>)必须先将数组中所有的元素遍历出来</span><br><span class="line">		<span class="number">3</span>)想要求和，得先有一个求和变量sum</span><br><span class="line">		<span class="number">4</span>)再将每一个元素和求和变量sum进行累加（求和思想）</span><br></pre></td></tr></tbody></table></figure>

<p>按照分析的思路来写代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、定义一个数组存储5名员工的销售额</span></span><br><span class="line"><span class="comment">//索引          0   1    2  3   4</span></span><br><span class="line"><span class="type">int</span>[] money = {<span class="number">16</span>, <span class="number">26</span>, <span class="number">36</span>, <span class="number">6</span>, <span class="number">100</span>};</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3、定义一个变量用于累加求和</span></span><br><span class="line"><span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、遍历这个数组中的每个数据。</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; money.length; i++) {</span><br><span class="line">    <span class="comment">// i = 0  1  2  3  4</span></span><br><span class="line">    sum += money[i];</span><br><span class="line">}</span><br><span class="line">System.out.println(<span class="string">"员工的销售总额："</span> + sum);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-5-数组的动态初始化"><a href="#2-5-数组的动态初始化" class="headerlink" title="2.5 数组的动态初始化"></a>2.5 数组的动态初始化</h3><p>各位同学，刚才我们初始化数组时，都是直接将元素写出来。但是还有另一个初始化数组的方式叫 <strong>动态初始化</strong>。</p>
<p>动态初始化不需要我们写出具体的元素，而是指定元素类型和长度就行。格式如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数据类型[]  数组名 = new 数据类型[长度];</span></span><br><span class="line"><span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>];</span><br></pre></td></tr></tbody></table></figure>

<p>下面是动态初始化数组的原理图。我们发现<code>int[] arr</code> 其实就是一个变量，它记录了数组对象的地址值，而且数组中的元素默认值是0。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057537841-cf64dc28-d9df-4a06-bf77-00f3a9cb1cf7.png#id=xPdK4&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>注意：</strong></p>
<p>使用动态初始化定义数组时，根据元素类型不同，默认值也有所不同。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057537925-2ee3c698-d60c-49ad-8862-5b546d10b3cd.png#id=OIasW&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>关于数组动态初始化的格式和原理，咱们就先学习到这里。</p>
<h3 id="2-6-数组动态初始化案例"><a href="#2-6-数组动态初始化案例" class="headerlink" title="2.6 数组动态初始化案例"></a>2.6 数组动态初始化案例</h3><p>各位同学，接下来我们做一个数组动态初始化的案例。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">案例需求：</span><br><span class="line">	某歌唱比赛，需要开发一个系统：可以录入<span class="number">6</span>名评委的打分，录入完毕后立即输出平均分做</span><br><span class="line">	选手得分</span><br><span class="line"></span><br><span class="line">需求分析：</span><br><span class="line">	<span class="number">1.</span>需要录入<span class="number">6</span>名评委的分数，可以用一个数组来保存。</span><br><span class="line">	   因为在评委没有录入分数之前，还不确定数组中应该存哪些数据。</span><br><span class="line">	   所以可以使用数组的动态初始化</span><br><span class="line">	<span class="number">2.</span>遍历数组中的每一个位置，并录入分数，将分数存入数组中</span><br><span class="line">	<span class="number">3.</span>遍历数组中的每一个元素，对元素求和</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、定义一个动态初始化的数组，负责后期存储6个评委的打分。</span></span><br><span class="line"><span class="type">double</span>[] scores = <span class="keyword">new</span> <span class="title class_">double</span>[<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">Scanner</span> <span class="variable">sc</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、遍历数组中的每个位置，录入评委的分数，存入到数组中去</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; scores.length; i++) {</span><br><span class="line">    <span class="comment">// i = 0 1 2 3 4 5</span></span><br><span class="line">    System.out.println(<span class="string">"请您输入当前第"</span> + (i + <span class="number">1</span>) +<span class="string">"个评委的分数："</span>);</span><br><span class="line">    <span class="type">double</span> <span class="variable">score</span> <span class="operator">=</span> sc.nextDouble();</span><br><span class="line">    scores[i] = score;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3、遍历数组中的每个元素进行求和</span></span><br><span class="line"><span class="type">double</span> <span class="variable">sum</span>  <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; scores.length; i++) {</span><br><span class="line">    sum += scores[i];</span><br><span class="line">}</span><br><span class="line">System.out.println(<span class="string">"选手最终得分是："</span> + sum / scores.length);</span><br></pre></td></tr></tbody></table></figure>

<h2 id="三、数组在计算机中的执行原理"><a href="#三、数组在计算机中的执行原理" class="headerlink" title="三、数组在计算机中的执行原理"></a>三、数组在计算机中的执行原理</h2><p>好的各位同学，在前面我们已经学习了数组的基本使用，也理解了数组的基本原理。由于数组是一个容器，变量也是一个容器，在理解他们执行原理的时候，有些同学就容易搞混，现在我把他们放在一起带着大家回顾一下他们的会执行原理，顺便带着大家详细理解一下Java程序的执行的内存原理。</p>
<h3 id="3-1-数组的执行原理，Java程序的执行原理"><a href="#3-1-数组的执行原理，Java程序的执行原理" class="headerlink" title="3.1 数组的执行原理，Java程序的执行原理"></a>3.1 数组的执行原理，Java程序的执行原理</h3><p>我们以下面的代码，来讲解变量、数组的执原理。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayDemo1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        System.out.println(a);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[]{<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>};</span><br><span class="line">        System.out.println(arr);</span><br><span class="line"></span><br><span class="line">        System.out.println(arr[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">        arr[<span class="number">0</span>] = <span class="number">44</span>;</span><br><span class="line">        arr[<span class="number">1</span>] = <span class="number">55</span>;</span><br><span class="line">        arr[<span class="number">2</span>] = <span class="number">66</span>;</span><br><span class="line"></span><br><span class="line">        System.out.println(arr[<span class="number">0</span>]);</span><br><span class="line">        System.out.println(arr[<span class="number">1</span>]);</span><br><span class="line">        System.out.println(arr[<span class="number">2</span>]);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>前面我们给大家讲过，程序是在内存中执行的。实际上Java程序是把编译后的字节码加载到Java虚拟机中执行的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057538065-c58b9393-01dd-46b9-b070-da90e6644227.png#id=xCK9I&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>Java为了便于虚拟机执行Java程序，将虚拟机的内存划分为 方法区、栈、堆、本地方法栈、寄存器 这5块区域。同学们需要重点关注的是 &nbsp;<strong>方法区、栈、堆</strong>。</p>
<p>下面把每一个块内存区域作用介绍一下，我们大致只需要知道每一部分存储什么内容就行。</p>
<ul>
<li><strong>方法区</strong>：字节码文件先加载到这里</li>
<li><strong>栈</strong>：方法运行时所进入的内存区域，由于变量在方法中，所以变量也在这一块区域中</li>
<li><strong>堆</strong>：存储new出来的东西，并分配地址。由于数组是new 出来的，所以数组也在这块区域。</li>
</ul>
<p>下面是上面案例执行的内存原理如下图所示，按照① ② ③ ④ ⑤ ⑥ 的标记的顺序来看</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057538192-e75c3ccd-538f-461b-b680-45d5bf27a84c.png#id=TUeZZ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>总结一下</strong><code>**int a = 10**</code>**与 **<code>**int[] arr = new int[]{11,22,33}的区别**</code></p>
<ul>
<li><strong>a</strong>是一个变量，在栈内存中，<strong>a</strong>变量中存储的数据就是<strong>10</strong>这个值。</li>
<li><strong>arr</strong>也是一个变量，在栈中，存储的是数组对象在堆内存中的地址值</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这里的int a是一个基本类型变量，存储的是一个数值</span></span><br><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span> ; </span><br><span class="line"><span class="comment">//这里的int[] arr是一个引用类型的变量，存储的是一个地址值</span></span><br><span class="line"><span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[]{<span class="number">44</span>,<span class="number">55</span>,<span class="number">66</span>};</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-2-多个变量指向同一个数组的问题"><a href="#3-2-多个变量指向同一个数组的问题" class="headerlink" title="3.2 多个变量指向同一个数组的问题"></a>3.2 多个变量指向同一个数组的问题</h3><p>各位同学，我们了解了数组在内存中的执行原理。我们知道数组类型的变量，指向的是堆内存中数组对象的地址。但是在实际开发中可能存在一种特殊情况，就是多个变量指向同一个数组对象的形式。</p>
<p>讲解这个知识点的目的，是让同学们注意多个变量指向同一个数组对象存在什么问题？</p>
<p>我们先看一段代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayDemo2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：认识多个变量指向同一个数组对象的形式，并掌握其注意事项。</span></span><br><span class="line">        <span class="type">int</span>[] arr1 = {<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>};</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 把int类型的数组变量arr1赋值给int类型的数组变量arr2</span></span><br><span class="line">        <span class="type">int</span>[] arr2 = arr1;</span><br><span class="line"></span><br><span class="line">        System.out.println(arr1);</span><br><span class="line">        System.out.println(arr2);</span><br><span class="line"></span><br><span class="line">        arr2[<span class="number">1</span>] = <span class="number">99</span>;</span><br><span class="line">        System.out.println(arr1[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">        arr2 = <span class="literal">null</span>; <span class="comment">// 拿到的数组变量中存储的值是null</span></span><br><span class="line">        System.out.println(arr2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//System.out.println(arr2[0]);</span></span><br><span class="line">        <span class="comment">//System.out.println(arr2.length);</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>我们重点关注这一段代码</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057538294-5fdcebd0-6898-49e2-b543-1cf420f38b90.png#id=WTzFb&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>刚执行完<code>int[] arr1 = {11,22,33};</code>时，内存原理如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057538402-7d790927-5de5-43fd-be62-92872b4d1547.png#id=kmxCv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>当执行完<code>int[] arr2 = arr1;</code>后，内存原理如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057538494-f8ca8270-8576-4c49-b79d-50c0a3854384.png#id=mN9qW&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>当执行到<code>arr2[1]=99;时</code>，内存原理如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057538594-c7138903-6a01-4b8e-bfa4-1ed1e47fd11c.png#id=O19R6&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>总结一下：</strong></p>
<ul>
<li>两个变量指向同一个数组时，两个变量记录的是同一个地址值。 </li>
<li>当一个变量修改数组中的元素时，另一个变量去访问数组中的元素，元素已经被修改过了。</li>
</ul>
<p>到这里有关数组的基本操作，和内存原理我们就全部学习完了。</p>
<h2 id="四、数组专项练习"><a href="#四、数组专项练习" class="headerlink" title="四、数组专项练习"></a>四、数组专项练习</h2><p>接下来我们做一些专项练习题，把数组的常见操作练习一下。在学习这个案例时，重点掌握数组求最值的思路，代码只是用来表达你的思路的。</p>
<h3 id="4-1-数组求最值"><a href="#4-1-数组求最值" class="headerlink" title="4.1 数组求最值"></a>4.1 数组求最值</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">需求：定义一个<span class="type">int</span>类型数组，求数组中元素的最大值，并打印最大值</span><br></pre></td></tr></tbody></table></figure>

<p>我们先看一下选美比赛，是怎么选出颜值最高的人的。然后再以此思路，来写代码找出数组中元素的最大值。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057538700-df809889-9cd4-45f1-9323-786a9cbbb67f.png#id=x5Gqb&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">数组求最大值思路：</span><br><span class="line">	<span class="number">1</span>)先找出数组中<span class="number">0</span>索引的元素，假设为最大值，用max表示【擂主】</span><br><span class="line">	<span class="number">2</span>)遍历后面的每一个元素和max比较，把较大的元素值重新赋值给max(擂主换人)</span><br><span class="line">    <span class="number">3</span>)最后max就是所有元素的最大值(最后站在台上的擂主)</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、把颜值数据拿到程序中来，用数组装起来</span></span><br><span class="line">        <span class="type">int</span>[] faceScores = {<span class="number">15</span>, <span class="number">9000</span>, <span class="number">10000</span>, <span class="number">20000</span>, <span class="number">9500</span>, -<span class="number">5</span>};</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、定义一个变量用于最终记住最大值。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> faceScores[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、从数组的第二个位置开始遍历。</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; faceScores.length; i++) {</span><br><span class="line">            <span class="comment">// i = 1  2  3  4  5</span></span><br><span class="line">            <span class="comment">// 判断一下当前遍历的这个数据，是否大于最大值变量max存储的数据，</span></span><br><span class="line">            <span class="comment">//如果大于，当前遍历的数据需要赋值给max</span></span><br><span class="line">            <span class="keyword">if</span>(faceScores[i] &gt; max ){</span><br><span class="line">                max = faceScores[i];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(<span class="string">"最高颜值是："</span> + max);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>总结一下：</strong></p>
<p>通过这个案例，我们主要掌握求最值的思路，以后不管遇到求最大值还是最小值，编程思路都是一样的，不同的可能是数据不同。</p>
<h3 id="4-2-数组元素反转"><a href="#4-2-数组元素反转" class="headerlink" title="4.2 数组元素反转"></a>4.2 数组元素反转</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">需求：某个数组有<span class="number">5</span>个数据：<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>，请将这个数组中的数据进行反转。</span><br><span class="line">      [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>]  反转后 [<span class="number">50</span>, <span class="number">40</span>, <span class="number">30</span>, <span class="number">20</span>, <span class="number">10</span>]</span><br></pre></td></tr></tbody></table></figure>

<p>数组元素反转的核心，其实是数组中两个数据的交换。我们可以认为两个数据分别存储在两个水杯中。想要交换两个水杯中的东西，我们得借助第三个水杯，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057538943-cbc99462-e696-437b-ac4a-7b91caa4bf20.png#id=V4rJy&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057539052-a250988a-d34d-48fb-8e9c-0f490e1b16cb.png#id=VlO3v&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>数组中元素交换，就是用的借用第三方变量的思想。 我们把数组中的每一个元素当做一个水杯，然后索引控制哪两个元素互换位置。</p>
<p>怎么样，才能达到元素反转的效果呢？我们只需将第一个和最后一个元素互换、第二个和倒数第二个互换、依次内推…. 如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057539164-597388b6-8c7d-4681-a786-92485b6615f9.png#id=jsBCd&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>怎么样写代码，才能达到上面的效果呢？我们继续分析</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>每次交换，需要有左右两边的两个索引，我们可以用i和j表示</span><br><span class="line">	刚开始i=<span class="number">0</span>，j=数组长度-<span class="number">1</span>;</span><br><span class="line"><span class="number">2.</span>每次让i和j索引位置的两个元素互换位置</span><br><span class="line">	arr[i]和arr[j]互换位置</span><br><span class="line"><span class="number">3.</span>每次还完位置之后，让i往右移动一位，让j往前移动一位</span><br></pre></td></tr></tbody></table></figure>

<p>具体代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成数组反转。</span></span><br><span class="line">        <span class="comment">// 1、准备一个数组</span></span><br><span class="line">        <span class="type">int</span>[] arr = {<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>};  </span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、定义一个循环，设计2个变量，一个在前，一个在后</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = arr.length - <span class="number">1</span>; i &lt; j; i++, j--) {</span><br><span class="line">            <span class="comment">// arr[i]   arr[j]</span></span><br><span class="line">            <span class="comment">// 交换</span></span><br><span class="line">            <span class="comment">// 1、定义一个临时变量记住后一个位置处的值</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[j];</span><br><span class="line">            <span class="comment">// 2、把前一个位置处的值赋值给后一个位置了</span></span><br><span class="line">            arr[j] = arr[i];</span><br><span class="line">            <span class="comment">// 3、把临时变量中记住的后一个位置处的值赋值给前一个位置处</span></span><br><span class="line">            arr[i] = temp;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、遍历数组中的每个数据，看是否反转成功了</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) {</span><br><span class="line">            System.out.print(arr[i] + <span class="string">" "</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>总结一下：</strong></p>
<p>通过上面的案例，需要我们掌握元素互换位置的编程思路；以后遇到数据互换问题，都这样做。</p>
<h3 id="4-3-随机排名"><a href="#4-3-随机排名" class="headerlink" title="4.3 随机排名"></a>4.3 随机排名</h3><p>各位同学，通过数组元素反转的案例，我们学会了如何对两个数据进行交换。接下来，我们再学习随机排名案例，将数据交换的思路再巩固一下。</p>
<p>先来看一下需求</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">需求：某公司开发部<span class="number">5</span>名开发人员，要进行项目进展汇报演讲，现在采取随机排名后进行汇报。请先依次录入<span class="number">5</span>名员工的工号，然后展示出一组随机的排名顺序。</span><br></pre></td></tr></tbody></table></figure>

<p>分析一下随机排名的思路</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>在程序中录入<span class="number">5</span>名员工的工号存储起来 ---&gt; 使用动态初始化数组的方式。</span><br><span class="line"><span class="number">2.</span>依次遍历数组中的每个数据。</span><br><span class="line"><span class="number">3.</span>每遍历到一个数据，都随机一个索引值出来，让当前数据与该索引位置处的数据进行交换。</span><br></pre></td></tr></tbody></table></figure>

<p>如下图所示，每次遍历到一个元素，随机将当前位置元素和随机索引元素换位置。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057539277-49a2c27f-c388-4cb8-9d2b-e8faa3501894.png#id=BEHUr&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成随机排名</span></span><br><span class="line">        <span class="comment">// 1、定义一个动态初始化的数组用于存储5名员工的工号</span></span><br><span class="line">        <span class="type">int</span>[] codes = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、提示用户录入5名员工的工号。</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; codes.length; i++) {</span><br><span class="line">            <span class="comment">// i = 0 1 2 3 4</span></span><br><span class="line">            System.out.println(<span class="string">"请您输入第"</span> + (i + <span class="number">1</span>) +<span class="string">"个员工的工号："</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">code</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            codes[i] = code;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、打乱数组中的元素顺序。</span></span><br><span class="line">        <span class="comment">// [12, 33, 54, 26, 8]</span></span><br><span class="line">        <span class="comment">//  i       index</span></span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; codes.length; i++) {</span><br><span class="line">            <span class="comment">// codes[i]</span></span><br><span class="line">            <span class="comment">// 每遍历到一个数据，都随机一个数组索引范围内的值。</span></span><br><span class="line">            <span class="comment">//然后让当前遍历的数据与该索引位置处的值交换。</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> r.nextInt(codes.length); <span class="comment">// 0 - 4</span></span><br><span class="line">            <span class="comment">// 定义一个临时变量记住index位置处的值</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> codes[index];</span><br><span class="line">            <span class="comment">// 把i位置处的值赋值给index位置处</span></span><br><span class="line">            codes[index] = codes[i];</span><br><span class="line">            <span class="comment">// 把index位置原来的值赋值给i位置处</span></span><br><span class="line">            codes[i] = temp;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、遍历数组中的工号输出即可</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; codes.length; i++) {</span><br><span class="line">            System.out.print(codes[i] + <span class="string">" "</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>到这有关数组的常见练习题我们就讲完了，待会我们在给同学们讲一个开发中用得比较多的工具叫做Debug调试。</p>
<h2 id="五、Debug调试工具"><a href="#五、Debug调试工具" class="headerlink" title="五、Debug调试工具"></a>五、Debug调试工具</h2><p>各位同学，为了让大家更好的理解代码的执行流程，这里给大家讲一个在开发中非常重要的工具——叫做Debug调试。</p>
<p>通过Debug调试，我们可以查看代码的执行流程。当你代码中有Bug但是又发现不了的时候，你就可以用Debug调试工具，查看执行流程，逐步分析是哪一行出现了问题。</p>
<p>Debug调试工具的使用步骤如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">第一步：打断点，如下图的红色小圆点</span><br><span class="line">第二步：右键Debug方式启动程序，如下图右键菜单</span><br><span class="line">	  启动后，代码会停留在打断点的这一行</span><br><span class="line">第三步：点击箭头按钮，一行一行往下执行</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057539373-c50d632c-43dd-41ea-910d-985a20346983.png#id=DTtwJ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h1 id="day05——方法"><a href="#day05——方法" class="headerlink" title="day05——方法"></a>day05——方法</h1><p>各位同学，今天我们学习的内容是方法。方法也是Java语言中一个很重要的组成部分，在实际开发中几乎每时每刻都在使用方法。所以对于今天的课程一定要搞清楚。</p>
<p>我们先来学习一下方法是什么</p>
<h2 id="一、方法概述"><a href="#一、方法概述" class="headerlink" title="一、方法概述"></a>一、方法概述</h2><p><strong>1.1 方法是什么</strong></p>
<p><strong>方法是一种语法结构，它可以把一段代码封装成一个功能，以便重复调用。</strong>这句话什么意思呢？意思是，把一段功能代码围在一起，别人都可以来调用它。</p>
<p>下图是方法的完整格式</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057539519-105aea79-f38a-4f05-af58-a243eed2d0d3.png#id=Cx5zf&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们看一个需求，比如现在张工、李工两个人都需要求两个整数的和。不使用方法，代码如下。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、李工。</span></span><br><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a+b;</span><br><span class="line">System.out.println(<span class="string">"和是："</span> + c);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、张工。</span></span><br><span class="line"><span class="type">int</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">c1</span> <span class="operator">=</span> a1+b1;</span><br><span class="line">System.out.println(<span class="string">"和是："</span> + c1);</span><br></pre></td></tr></tbody></table></figure>

<p>阅读上面的代码，我们不难发现。两次求和的代码中，除了求和的数据不一样，代码的组织结构完全一样。</p>
<p><strong>像这种做相同事情的代码，就可以用方法进行封装</strong>。需要用到这段代码功能时，让别人调用方法就行。代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//目标：掌握定义方法的完整格式，搞清楚使用方法的好处。</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodDemo1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 需求：假如现在很多程序员都要进行2个整数求和的操作。</span></span><br><span class="line">        <span class="comment">// 1、李工。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">rs</span> <span class="operator">=</span> sum(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">        System.out.println(<span class="string">"和是："</span> + rs);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、张工。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">rs2</span> <span class="operator">=</span> sum(<span class="number">30</span>, <span class="number">20</span>);</span><br><span class="line">        System.out.println(<span class="string">"和是："</span> + rs2);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a + b;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>1.2 方法的执行流程</strong></p>
<p>当调用一个方法时，执行流程，按照下图中标注的序号执行。</p>
<pre><code>① 通过sum方法名找到sum方法

② 把10传递给方法中的参数a

③ 把20传递给方法中的参数b；

④ &nbsp;执行方法中的代码，此时`int c=a+b;`; 相当于 `int c = 10+20`; c的值为30

     `return c` 的含义是，把c的结果返回给调用处。 也就是调用sum方法的结果为30,
</code></pre>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057539626-2aac793f-0c2c-4781-b3e5-2e5d7ba00175.png#id=PEi3T&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>学习完方法的执行流程之后，下面有几个注意事项需要我们写代码时注意一下。</p>
<p><strong>1.3 定义方法的注意点</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057539734-d7873033-53b6-41ff-8778-bda8c7f8668e.png#id=j76VI&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ol>
<li>方法的修饰符：暂时都使用public static 修饰。（目前看做是固定写法，后面是可以改动的） </li>
<li>方法申明了具体的返回值类型，内部必须使用return返回对应类型的数据。 </li>
<li>形参列表可以有多个，甚至可以没有； 如果有多个形参，多个形参必须用“，”隔开，且不能给初始化值。</li>
</ol>
<p><strong>1.4 使用方法的好处</strong></p>
<p>最好，我们总结一下，用方法有什么好处，可以归纳为下面2点：</p>
<ol>
<li>提高了代码的复用性，提高了开发效率。</li>
<li>让程序的逻辑更清晰。</li>
</ol>
<p>如下图所示：写好一个方法之后，每一个人都可以直接调用，而不用再重复写相同的代码。所以是提高了代码的复用性，不用写重复代码，自然也提高了开发效率。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057539835-37521078-924e-43ea-9dd6-04af7bb49d23.png#id=iZ58b&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>那么让程序的逻辑更加清晰，是如何体现的呢？ 比如，我们后期会用所学习的技术，做一个ATM系统，ATM系统中有查看账户、存钱、取钱、修改密码等功能，到时候我们可以把每一个功能都写成一个方法。如下图所示，这样程序的逻辑就更加清晰了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057539941-1ab52878-0fb1-416d-ba3f-580860bd9f7a.png#id=iqjUu&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>好了，关于方法是什么，以及方法的基本使用就学习到这里。</p>
<p><strong>总结一下</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>什么是方法？</span><br><span class="line">	答：方法是一种语法结构，它可以把一段代码封装成一个功能，以便重复调用</span><br><span class="line"><span class="number">2.</span>方法的完整格式是什么样的？</span><br><span class="line">	<span class="comment">//格式如下：</span></span><br><span class="line">	修饰符  返回值类型  方法名( 形参列表 ){</span><br><span class="line">    	方法体代码(需要执行的功能代码)</span><br><span class="line">       	<span class="keyword">return</span> 返回值;</span><br><span class="line">    }</span><br><span class="line"><span class="number">3.</span>方法要执行必须怎么办？</span><br><span class="line">	必须调用才执行; </span><br><span class="line">	<span class="comment">//调用格式:</span></span><br><span class="line">	方法名(...);</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>使用方法有什么好处？</span><br><span class="line">	答：提高代码的复用性，提高开发效率，使程序逻辑更清晰。</span><br></pre></td></tr></tbody></table></figure>

<h2 id="二、方法的其他形式"><a href="#二、方法的其他形式" class="headerlink" title="二、方法的其他形式"></a>二、方法的其他形式</h2><p>各位同学，刚才我们学习了定义完整格式的方法。但是实际开发中，需要按照方法解决的实际业务需求，设计出合理的方法形式来解决问题。</p>
<p>实际上设计一个合理的方法，需要重点关注下面两点</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057540080-7aa9932f-c668-4535-beda-e4c107f7bdc2.png#id=msmJk&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057540186-0cec730b-9e96-486a-b2b0-3175908db129.png#id=MRTc8&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>设计一个合理的方法的原则如下：</p>
<ul>
<li>如果方法不需要返回数据，返回值类型必须申明成void（无返回值申明）, &nbsp;此时方法内部不可以使用return返回数据。</li>
<li>方法如果不需要接收外部传递进来的数据，则不需要定义形参，且调用方法时也不可以传数据给方法。</li>
<li>没有参数，且没有返回值类型（void）的方法，称为值无参数、无返回值方法。此时调用方法时不能传递数据给方法。</li>
</ul>
<p>接下来我们看几个案例代码，练习根据实际需求定义出合理的方法</p>
<p><strong>需求1：写一个方法，打印3个”Hello World”</strong></p>
<p>分析：需求已经非常明确，打印的是3个HelloWorld，在方法中直接循环3次就可以完成需求。不需要外部给方法传递数据，所以不需要参数。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057540283-6c0fcdad-819b-4688-b580-e999c983724f.png#id=C262o&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>需求2：写一个方法，打印若干个”Hello World”，具体多少个，有调用者指定</strong></p>
<p>分析：需求不明确打印HelloWorld的个数，而是需要调用者指定。也就是说，调用者调用方法时需要给方法传递打印HelloWorld的个数。那么定义方法时，就需要写一个参数，来接收调用者传递过来的个数。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057540378-7aa1d06c-ec97-4835-a404-57a68273cfd5.png#id=oqS2X&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="三、方法使用常见的问题"><a href="#三、方法使用常见的问题" class="headerlink" title="三、方法使用常见的问题"></a>三、方法使用常见的问题</h2><p>各位同学，自己第一次写方法时，或多或少会可能会出现一些问题。下面把使用方法时，常见的问题整理一下。</p>
<p>目的是让同学们，以后写方法时避免出现这些问题。一旦出现这些问题，要知道是什么原因。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- <span class="number">1.</span> 方法在内种没有先后顺序，但是不能把一个方法定义在另一个方法中。</span><br><span class="line"></span><br><span class="line">- <span class="number">2.</span> 方法的返回值类型写<span class="keyword">void</span>（无返回申明）时，方法内不能使用<span class="keyword">return</span>返回数据，</span><br><span class="line">	如果方法的返回值类型写了具体类型，方法内部则必须使用<span class="keyword">return</span>返回对应类型的数据。</span><br><span class="line"></span><br><span class="line">- <span class="number">3.</span> <span class="keyword">return</span>语句的下面，不能编写代码，属于无效的代码，执行不到这儿。</span><br><span class="line"></span><br><span class="line">- <span class="number">4.</span> 方法不调用就不会执行,  调用方法时，传给方法的数据，必须严格匹配方法的参数情况。</span><br><span class="line"></span><br><span class="line">- <span class="number">5.</span> 调用有返回值的方法，有<span class="number">3</span>种方式：</span><br><span class="line">     ① 可以定义变量接收结果 </span><br><span class="line">     ② 或者直接输出调用，</span><br><span class="line">     ③ 甚至直接调用；</span><br><span class="line"></span><br><span class="line">- <span class="number">6.</span> 调用无返回值的方法，只有<span class="number">1</span>种方式： 只能直接调用。</span><br></pre></td></tr></tbody></table></figure>

<h2 id="四、方法的案例"><a href="#四、方法的案例" class="headerlink" title="四、方法的案例"></a>四、方法的案例</h2><h3 id="4-1-方法案例1"><a href="#4-1-方法案例1" class="headerlink" title="4.1 方法案例1"></a>4.1 方法案例1</h3><p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057540493-627b17a5-edc3-4baa-96ee-31bd1feb745c.png#id=GxjuS&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>按照需求：定义方法如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">分析：</span></span><br><span class="line"><span class="comment">	需要求1~n的和，由于n不确定是多少，所以就把n写成形式参数，n的具体值由调用者指定。</span></span><br><span class="line"><span class="comment">	在方法中把n当做一个确定的数据来使用就行。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> n)</span>{</span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">        <span class="comment">// i = 1 2 3 ... n</span></span><br><span class="line">        sum += i;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>定义好方法之后，在main方法中调用</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">    <span class="type">int</span> <span class="variable">rs</span> <span class="operator">=</span> add(<span class="number">5</span>);</span><br><span class="line">    System.out.println(<span class="string">"1-5的和是："</span> + rs); <span class="comment">//15</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> <span class="variable">rs</span> <span class="operator">=</span> add(<span class="number">6</span>);</span><br><span class="line">    System.out.println(<span class="string">"1-6的和是："</span> + rs); <span class="comment">//21</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-2-方法案例2"><a href="#4-2-方法案例2" class="headerlink" title="4.2 方法案例2"></a>4.2 方法案例2</h3><p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057540616-7872f260-bd76-40eb-b573-f571cba099e9.png#id=QSUhv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>按照需求：定义方法如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">分析：</span></span><br><span class="line"><span class="comment">	需求中，是要判断一个数是奇数还是偶数，但是并没有明确说，是哪一个数。</span></span><br><span class="line"><span class="comment">	也就是说这个数可能是奇数，也可以能是偶数，是一个能够变化的数。</span></span><br><span class="line"><span class="comment">	把这个数写成方法的形式参数，就可以达到这个目的。因为调用方法时，调用者可以给传递 	 奇数，也可以传递偶数。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">judge</span><span class="params">(<span class="type">int</span> number)</span>{</span><br><span class="line">    <span class="keyword">if</span>(number % <span class="number">2</span> == <span class="number">0</span>){</span><br><span class="line">        System.out.println(number + <span class="string">"是一个偶数！"</span>);</span><br><span class="line">    }<span class="keyword">else</span> {</span><br><span class="line">        System.out.println(number + <span class="string">"是一个奇数！"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>定义好方法之后，在main方法中调用</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">    judge(<span class="number">7</span>); <span class="comment">//调用后打印：7是一个奇数</span></span><br><span class="line">    judge(<span class="number">8</span>); <span class="comment">//调用后打印：8是一个偶数</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="五、方法在计算机中的执行原理"><a href="#五、方法在计算机中的执行原理" class="headerlink" title="五、方法在计算机中的执行原理"></a>五、方法在计算机中的执行原理</h2><p>各位同学，刚才我们已经写了好几个方法并成功调用了。但是不知道同学们奇不奇怪一个问题。方法在计算机的内存中到底是怎么干的呢？</p>
<p>为了让大家更加深刻的理解方法的执行过程，接下来，给同学们讲一下方法在计算机中的执行原理。理解方法的执行原理，对我们以后知识的学习也是有帮助的。</p>
<p>我们知道Java程序的运行，都是在内存中执行的，而内存区域又分为栈、堆和方法区。那Java的方法是在哪个内存区域中执行呢？</p>
<p>答案是栈内存。 <strong>每次调用方法，方法都会进栈执行；执行完后，又会弹栈出去。</strong></p>
<p>方法进栈和弹栈的过程，就类似于手枪子弹夹，上子弹和击发子弹的过程。最后上的一颗子弹是，第一个打出来的；第一颗上的子弹，是最后一个打出来的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057540716-e0a82fa3-d2fd-4aa1-9e78-c4f8fabfd38a.png#id=kOBtI&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>假设在main方法中依次调用A方法、B方法、C方法，在内存中的执行流程如下：</p>
<ul>
<li>每次调用方法，方法都会从栈顶压栈执行没执行</li>
<li>每个方法执行完后，会从栈顶弹栈出去</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057540882-702d652d-204e-457a-938e-3ff3911c0fb3.png#id=u5eH2&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="5-1-有返回值的方法，内存分析"><a href="#5-1-有返回值的方法，内存分析" class="headerlink" title="5.1 有返回值的方法，内存分析"></a>5.1 有返回值的方法，内存分析</h3><p>下面我们分析一下，求两个整数和的代码，在内存中的执行原理。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodDemo</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">rs</span> <span class="operator">=</span> sum(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">        System.out.println(rs);</span><br><span class="line">	}</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b )</span>{</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a + b; </span><br><span class="line">        <span class="keyword">return</span> c;  </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>如下图所示：以上代码在内存中的执行过程，按照①②③④⑤⑥⑦的步骤执行.</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057541011-eb2adde3-d7e2-4fb7-a940-0246b9399f49.png#id=joEwz&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="5-2-无返回值的方法，内存分析"><a href="#5-2-无返回值的方法，内存分析" class="headerlink" title="5.2 无返回值的方法，内存分析"></a>5.2 无返回值的方法，内存分析</h3><p>刚才我们分析的是有有参数有返回值的方法内存原理。下面再分析一个无返回值、无参数的内存原理。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2Method</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        study();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span>{</span><br><span class="line">		eat();</span><br><span class="line">		System.out.println(<span class="string">"学习"</span>);</span><br><span class="line">		sleep();</span><br><span class="line">	}</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"吃饭"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"睡觉"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057541172-50f440b0-138b-46e6-91c1-dc153ec92b0a.png#id=aH1b4&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>总结一下</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>方法的运行区域在哪里？</span><br><span class="line">	答：栈内存。</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>栈有什么特点？方法为什么要在栈中运行自己？</span><br><span class="line">	答：先进后出。保证一个方法调用完另一个方法后，可以回来继续执行。</span><br></pre></td></tr></tbody></table></figure>

<h2 id="六、方法参数的传递机制"><a href="#六、方法参数的传递机制" class="headerlink" title="六、方法参数的传递机制"></a>六、方法参数的传递机制</h2><p>各位同学，刚才我们学习了方法运行的原理，相信大家对方法的运行过程有更加深刻的认识。但是方法参数的传递过程还需要，还需要进一步学习一下。</p>
<p>因为我们刚才演示的一些方法中传递的参数都是基本类型，实际上参数还可以是传递引用类型。接下来，学习一下当参数是基本类型时、和参数是引用类型时的区别。</p>
<p>先记住一个结论：<strong>Java的参数传递机制都是：值传递</strong></p>
<p>所谓值传递：指的是在传递实参给方法的形参的时候，传递的是实参变量中存储的值的副本。 同学们肯定想知道，形参是什么？实参又是什么呢？ 请看下面这个张图</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057541288-90ad5486-3ba0-4aca-8313-d7b3c9fdcfa5.png#id=E27ie&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="6-1-参数传递的基本类型数据"><a href="#6-1-参数传递的基本类型数据" class="headerlink" title="6.1 参数传递的基本类型数据"></a>6.1 参数传递的基本类型数据</h3><p>接下来，看一下方法参数传递是基本类型数据时，内存中是怎么执行的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057541411-77bbbd20-5b56-4f67-b3c0-08c592a1b69b.png#id=OeMGs&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们把参数传递的结论再复习一下：<strong>Java的参数传递机制都是：值传递，传递的是实参存储的值的副本。</strong></p>
<h3 id="6-3-参数传递的是引用数据类型"><a href="#6-3-参数传递的是引用数据类型" class="headerlink" title="6.3 参数传递的是引用数据类型"></a>6.3 参数传递的是引用数据类型</h3><p>接下来，看一下方法的参数是引用类型的数据时，内存中是怎么执行的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057541524-304b4c5e-d8b1-497e-bcad-ae2889533247.png#id=XRR4W&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们发现调用change方法时参数是引用类型，<strong>实际上也是值传递，只不过参数传递存储的地址值</strong>。此时change方法和main方法中两个方法中各自有一个变量arrs，这两个变量记录的是同一个地址值[I@4c873330，change方法把数组中的元素改了，main方法在访问时，元素已经被修改了。</p>
<p><strong>总结一下：</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>基本类型和引用类型的参数在传递的时候有什么不同？</span><br><span class="line">	= 都是值传递</span><br><span class="line">	- 基本类型的参数传递存储的数据值。</span><br><span class="line">    - 引用类型的参数传递存储的地址值。</span><br></pre></td></tr></tbody></table></figure>

<h2 id="七、方法参数传递案例"><a href="#七、方法参数传递案例" class="headerlink" title="七、方法参数传递案例"></a>七、方法参数传递案例</h2><h3 id="7-1-方法参数传递案例1"><a href="#7-1-方法参数传递案例1" class="headerlink" title="7.1 方法参数传递案例1"></a>7.1 方法参数传递案例1</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">需求：输出一个<span class="type">int</span>类型的数组内容，要求输出格式为：[<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>]。</span><br><span class="line"></span><br><span class="line">分析：</span><br><span class="line">	 <span class="number">1.</span>方法是否需要接收数据进行处理？</span><br><span class="line">	 	方法要打印<span class="type">int</span>类型数组中的元素，打印哪一个数组需求并不明确；</span><br><span class="line">        所以可以把<span class="type">int</span>数组写成参数，让调用者指定</span><br><span class="line">        </span><br><span class="line">	 <span class="number">2.</span>方法是否需要返回数据？</span><br><span class="line">	 	方法最终的目的知识打印数组中的元素。</span><br><span class="line">	 	不需要给调用者返回什么，所以不需要返回值，返回值类型写<span class="keyword">void</span></span><br><span class="line">	 </span><br><span class="line">	 <span class="number">3.</span>方法内部的业务：遍历数组，并输出相应的内容</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成打印int类型的数组内容。</span></span><br><span class="line">        <span class="type">int</span>[] arr = {<span class="number">10</span>, <span class="number">30</span>, <span class="number">50</span>, <span class="number">70</span>};</span><br><span class="line">        printArray(arr);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span>[] arr2 = <span class="literal">null</span>;</span><br><span class="line">        printArray(arr2);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span>[] arr3 = {};</span><br><span class="line">        printArray(arr3);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    	参数：int[] arr表示要被打印元素的数组，需要调用者传递</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printArray</span><span class="params">(<span class="type">int</span>[] arr)</span>{</span><br><span class="line">        <span class="keyword">if</span>(arr == <span class="literal">null</span>){</span><br><span class="line">            System.out.println(arr); <span class="comment">// null</span></span><br><span class="line">            <span class="keyword">return</span>; <span class="comment">// 跳出当前方法</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">"["</span>);</span><br><span class="line">        <span class="comment">// 直接遍历接到的数组元素</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) {</span><br><span class="line">            <span class="keyword">if</span>(i == arr.length - <span class="number">1</span>){</span><br><span class="line">                System.out.print(arr[i]);</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                System.out.print(arr[i] + <span class="string">", "</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(<span class="string">"]"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="7-2-方法参数传递案例2"><a href="#7-2-方法参数传递案例2" class="headerlink" title="7.2 方法参数传递案例2"></a>7.2 方法参数传递案例2</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">需求：比较两个<span class="type">int</span>类型的数组是否一样，返回<span class="literal">true</span>或者<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">分析：</span><br><span class="line">	<span class="number">1.</span>方法是否需要接收数据进行处理？</span><br><span class="line">		因为，方法中需要两个<span class="type">int</span>数组比较，但是需求并不明确是哪两个数组；</span><br><span class="line">		所以，需要接收两个<span class="type">int</span>类型的数组，形参声明为：<span class="type">int</span>[] arr1，<span class="type">int</span>[] arr2 </span><br><span class="line"></span><br><span class="line"> 	<span class="number">2.</span>方法是否需要返回数据？</span><br><span class="line"> 		因为,方法最终的结果需要<span class="literal">true</span>或者<span class="literal">false</span>;</span><br><span class="line">		所以，返回值类型是<span class="type">boolean</span></span><br><span class="line"> 		</span><br><span class="line">	<span class="number">3.</span> 方法内部的业务：判断两个数组内容是否一样。</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodTest4</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成判断两个int类型的数组是否一样。</span></span><br><span class="line">        <span class="type">int</span>[] arr1 = {<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>};</span><br><span class="line">        <span class="type">int</span>[] arr2 = {<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>};</span><br><span class="line">        System.out.println(equals(arr1, arr2));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    	参数：</span></span><br><span class="line"><span class="comment">    		int[] arr1, 参与比较的第一个int数组</span></span><br><span class="line"><span class="comment">    		int[] arr2  参与比较的第二个int数组</span></span><br><span class="line"><span class="comment">    	返回值:</span></span><br><span class="line"><span class="comment">    		返回比较的结果true或者false</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(<span class="type">int</span>[] arr1, <span class="type">int</span>[] arr2)</span>{</span><br><span class="line">        <span class="comment">// 1、判断arr1和arr2是否都是null.</span></span><br><span class="line">        <span class="keyword">if</span>(arr1 == <span class="literal">null</span> &amp;&amp; arr2 == <span class="literal">null</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// 相等的</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、判断arr1是null，或者arr2是null.</span></span><br><span class="line">        <span class="keyword">if</span>(arr1 == <span class="literal">null</span> || arr2 == <span class="literal">null</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 不相等</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、判断2个数组的长度是否一样，如果长度不一样，直接返回false.</span></span><br><span class="line">        <span class="keyword">if</span>(arr1.length != arr2.length){</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 不相等</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、两个数组的长度是一样的，接着比较它们的内容是否一样。</span></span><br><span class="line">        <span class="comment">// arr1 = [10, 20, 30]</span></span><br><span class="line">        <span class="comment">// arr2 = [10, 20, 30]</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr1.length; i++) {</span><br><span class="line">            <span class="comment">// 判断当前位置2个数组的元素是否不一样，不一样直接返回false</span></span><br><span class="line">            <span class="keyword">if</span>(arr1[i] != arr2[i]){</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 不相等的</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// 两个数组是一样的。</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="八、方法重载"><a href="#八、方法重载" class="headerlink" title="八、方法重载"></a>八、方法重载</h2><p>接下来，我们学习一个开发中很重要的一个方法的形式——叫方法重载。</p>
<p>所谓方法重载指的是：一个类中，出现多个相同的方法名，但是它们的形参列表是不同的，那么这些方法就称为方法重载了。</p>
<p>我们在这里要能够认识，哪些是重载的方法。</p>
<p>下面案例中有多个test方法，但是参数列表都不一样，它们都是重载的方法。调用时只需要通过参数来区分即可。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodOverLoadDemo1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：认识方法重载，并掌握其应用场景。</span></span><br><span class="line">        test();</span><br><span class="line">        test(<span class="number">100</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"===test1==="</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a)</span>{</span><br><span class="line">        System.out.println(<span class="string">"===test2==="</span> + a);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">double</span> a)</span>{</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">double</span> a, <span class="type">int</span> b)</span>{</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> b, <span class="type">double</span> a)</span>{</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>{</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>我们认识了方法重载，那么方法重载有哪些应用场景呢？</p>
<p>一般在开发中，我们经常需要为处理一类业务，提供多种解决方案，此时用方法重载来设计是很专业的。</p>
<p>比如，我们现在看一个案例</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">需求：开发武器系统，功能需求如下：</span><br><span class="line">    可以默认发一枚武器。</span><br><span class="line">    可以指定地区发射一枚武器。</span><br><span class="line">    可以指定地区发射多枚武器。</span><br></pre></td></tr></tbody></table></figure>

<p>上面的几个需求中，不管以什么样的方式发武器，其实最终的目的都是发武器。</p>
<p>所以我们可以设计几个名称相同的方法，这样调用者调用起来就不用记那么多名字了</p>
<p>代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握方法重载的应用场景。</span></span><br><span class="line">        fire();</span><br><span class="line">        fire(<span class="string">"岛国2"</span>);</span><br><span class="line">        fire(<span class="string">"米国"</span>, <span class="number">999</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fire</span><span class="params">()</span>{</span><br><span class="line">        fire(<span class="string">"岛国"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fire</span><span class="params">(String country)</span>{</span><br><span class="line">        fire(country, <span class="number">1</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fire</span><span class="params">(String country, <span class="type">int</span> number)</span>{</span><br><span class="line">        System.out.println(<span class="string">"发射了"</span> + number + <span class="string">"枚武器给"</span> + country);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>总结一下：</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>什么是方法重载？</span><br><span class="line">	答：一个类中，多个方法的名称相同，但它们形参列表不同。</span><br><span class="line"><span class="number">2.</span>方法重载需要注意什么？</span><br><span class="line">	- 一个类中，只要一些方法的名称相同、形参列表不同，那么它们就是方法重载了，</span><br><span class="line">	  其它的都不管（如：修饰符，返回值类型是否一样都无所谓）。</span><br><span class="line">	</span><br><span class="line">	- 形参列表不同指的是：形参的个数、类型、顺序不同，不关心形参的名称。</span><br><span class="line">	</span><br><span class="line"><span class="number">3</span>、方法重载有啥应用场景？</span><br><span class="line">	答：开发中我们经常需要为处理一类业务，提供多种解决方案，此时用方法重载来设计是很	专业的。</span><br></pre></td></tr></tbody></table></figure>

<h2 id="九、return单独使用"><a href="#九、return单独使用" class="headerlink" title="九、return单独使用"></a>九、return单独使用</h2><p>各位同学，关于方法的定义，我们还剩下最后一种特殊用法，就是在方法中单独使用return语句，可以用来提前结束方法的执行。</p>
<p>如，下面的chu方法中，当除数为0时，就提前结束方法的执行。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        System.out.println(<span class="string">"开始"</span>);</span><br><span class="line">        chu(<span class="number">10</span> , <span class="number">0</span>);</span><br><span class="line">        System.out.println(<span class="string">"结束"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">chu</span><span class="params">(<span class="type">int</span> a , <span class="type">int</span> b)</span>{</span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">0</span>){</span><br><span class="line">            System.err.println(“您的数据有误！！不执行！！”);</span><br><span class="line">            <span class="keyword">return</span>; <span class="comment">// 直接跳出并结束当前chu方法的执行</span></span><br><span class="line">        }</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a / b;</span><br><span class="line">        System.out.println(<span class="string">"除法结果是："</span>+c); </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>今天的课程就到此结束了</p>
<h1 id="day06——Java编程案例（专题）"><a href="#day06——Java编程案例（专题）" class="headerlink" title="day06——Java编程案例（专题）"></a>day06——Java编程案例（专题）</h1><p>各位同学，前面我们已经学习过很多Java的基础知识了，主要有<strong>变量、数组、运算符、流程控制、方法等</strong>。但是对于这些知识点的运用，掌握得还不是很熟练，所以今天我们专门花一天时间，给同学们讲几个专项练习题，把前面所学习的知识巩固一下。</p>
<p>同时通过这些专项练习题，<strong>积攒大家的代码量，以便提升大家的编程能力和编程思维</strong>。这里所说的编程思维就是使用Java技术解决问题的思维方式；编程能力就是按照编程思维编写代码的能力。</p>
<p>想要提升编程思维和编程能力，在这里给同学们一些学习上的建议：</p>
<ul>
<li>编程思维、编程能力不是一朝一夕形成的，需要大量思考，练习和时间的沉淀。</li>
<li>具体措施：前期，建议先模仿；后期，自然就能创新了；<br>勤于练习代码，勤于思考，孰能生巧。</li>
</ul>
<p>中国的航空母舰、战斗机，这些技术都是先模仿，再创新的，而且的模仿的周期是非常长的。所以同学们在使用Java技术解决问题时，也是先模仿一些特定问题的解决思路，以后遇到同类型的问题，就采用同一种思维模式来做就行。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057541624-62de54de-a7a3-47a8-8427-ca07dc2eb42b.png#id=tZJYD&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="案例一：买飞机票"><a href="#案例一：买飞机票" class="headerlink" title="案例一：买飞机票"></a>案例一：买飞机票</h2><p>各位同学，我们先来学习第一个案例《飞机买票》，先仔细阅读一下案例需求</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057541736-2dc61386-4b5b-43e6-bc23-06f39f01da37.png#id=AsqXh&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们来分析一下，这个需求该如何实现。前面我跟同学们讲过，将来我们去做一些需求，都是一个一个方法来实现的，所以在这里我们也采用方法来编写。</p>
<p>这个方法如何编写呢？采用下面的方式来思考</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先，考虑方法是否需要接收数据处理？</span><br><span class="line">	阅读需求我们会发现，不同月份、不同原价、不同舱位类型优惠方案都不一样；</span><br><span class="line">	所以，可以将原价、月份、舱位类型写成参数</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>接着，考虑方法是否有返回值？</span><br><span class="line">	阅读需求我们发现，最终结果是求当前用户的优惠票价</span><br><span class="line">	所以，可以将优惠票价作为方法的返回值。</span><br><span class="line">	</span><br><span class="line"><span class="number">3.</span>最后，再考虑方法内部的业务逻辑</span><br><span class="line">	先使用<span class="keyword">if</span>判断月份是旺季还是淡季，然后使用<span class="keyword">switch</span>分支判断是头等舱还是经济舱，计算		票价</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成买飞机票的案例。</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">price</span> <span class="operator">=</span> calculate(<span class="number">1000</span>, <span class="number">11</span>, <span class="string">"头等舱"</span>);</span><br><span class="line">        System.out.println(<span class="string">"优惠价是："</span> + price);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calculate</span><span class="params">(<span class="type">double</span> price,<span class="type">int</span> month,String type)</span>{</span><br><span class="line">        <span class="comment">// 1、判断当前月份是淡季还是旺季</span></span><br><span class="line">        <span class="keyword">if</span>(month &gt;= <span class="number">5</span> &amp;&amp; month &lt;= <span class="number">10</span>) {</span><br><span class="line">            <span class="comment">// 旺季</span></span><br><span class="line">            <span class="comment">// 2、判断仓位类型。</span></span><br><span class="line">            <span class="keyword">switch</span> (type){</span><br><span class="line">                <span class="keyword">case</span> <span class="string">"头等舱"</span>:</span><br><span class="line">                    price *= <span class="number">0.9</span>; <span class="comment">// price = price * 0.9;</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">"经济舱"</span>:</span><br><span class="line">                    price *= <span class="number">0.85</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            <span class="comment">// 淡季</span></span><br><span class="line">            <span class="keyword">switch</span> (type){</span><br><span class="line">                <span class="keyword">case</span> <span class="string">"头等舱"</span>:</span><br><span class="line">                    price *= <span class="number">0.7</span>; <span class="comment">// price = price * 0.7;</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">"经济舱"</span>:</span><br><span class="line">                    price *= <span class="number">0.65</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="案例二：开发验证码"><a href="#案例二：开发验证码" class="headerlink" title="案例二：开发验证码"></a>案例二：开发验证码</h2><p>各位同学，接下来，我们学习第二个案例《开发验证码》，同样先阅读一下案例需求</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057541852-9e18068a-0ad6-4727-8d6f-42306ac23673.png#id=L7TKc&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>分析一下，需求是要我们开发一个程序，生成指定位数的验证码。考虑到实际工作中生成验证码的功能很多地方都会用到，为了提高代码的复用性，我们还是把生成验证码的功能写成方法比较好。</p>
<p>那生成验证码的方法该怎么写呢？按照下面的三个步骤进行思考</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先，考虑方法是否需要接收数据处理？</span><br><span class="line">	要求生成指定位数的验证码，到底多少位呢？让调用者传递即可</span><br><span class="line">	所以，需要一个参数，用来表示验证码的位数</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>接着，考虑方法是否需要有返回值？</span><br><span class="line">	该方法的结果，就是为了得到验证码</span><br><span class="line">	所以，返回值就是验证码；</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>最后，再考虑方法内部的业务逻辑</span><br><span class="line">	<span class="number">1</span>)先按照方法接收的验证码位数n,循环n次</span><br><span class="line">	<span class="number">2</span>)每次循环，产生一个字符，可以是数字字符、或者大小写字母字符</span><br><span class="line">	<span class="number">3</span>)定义一个String类型的变量用于记住产生的每位随机字符</span><br></pre></td></tr></tbody></table></figure>

<p>按照思路，编写代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成生成随机验证码。</span></span><br><span class="line">        System.out.println(createCode(<span class="number">8</span>));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">createCode</span><span class="params">(<span class="type">int</span> n)</span>{</span><br><span class="line">        <span class="comment">//1)先按照方法接收的验证码位数n,循环n次</span></span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="comment">//3)定义一个String类型的变量用于记住产生的每位随机字符</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">            <span class="comment">// i = 1 2 3 4 5</span></span><br><span class="line">            <span class="comment">//2)每次循环，产生一个字符，可以是数字字符、或者大小写字母字符</span></span><br><span class="line">            <span class="comment">// 思路：随机一个0 1 2之间的数字出来，0代表随机一个数字字符，1、2代表随机大写字母，小写字母。</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">type</span> <span class="operator">=</span> r.nextInt(<span class="number">3</span>); <span class="comment">// 0 1 2</span></span><br><span class="line">            <span class="keyword">switch</span> (type) {</span><br><span class="line">                <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                    <span class="comment">// 随机一个数字字符</span></span><br><span class="line">                    code += r.nextInt(<span class="number">10</span>); <span class="comment">// 0 - 9  code = code + 8</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    <span class="comment">// 随机一个大写字符 A 65   Z 65+25    (0 - 25) + 65</span></span><br><span class="line">                    <span class="type">char</span> <span class="variable">ch1</span> <span class="operator">=</span> (<span class="type">char</span>) (r.nextInt(<span class="number">26</span>) + <span class="number">65</span>);</span><br><span class="line">                    code += ch1;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    <span class="comment">// 随机一个小写字符 a 97   z 97+25    (0 - 25) + 97</span></span><br><span class="line">                    <span class="type">char</span> <span class="variable">ch2</span> <span class="operator">=</span> (<span class="type">char</span>) (r.nextInt(<span class="number">26</span>) + <span class="number">97</span>);</span><br><span class="line">                    code += ch2;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="案例三：评委打分"><a href="#案例三：评委打分" class="headerlink" title="案例三：评委打分"></a>案例三：评委打分</h2><p>各位同学，接下来，我们学习第三个案例《评委打分》，同样先阅读一下案例需求</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057541964-6264f48a-4125-4444-83a8-a0a21b74b5f9.png#id=KxDcs&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=">我们把上面的需求还是用方法来编写。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先，考虑方法是否需要接收数据来处理？</span><br><span class="line">	需求中说，有多个评委的打分，但是到底多少个评委呢？ 可以由调用者传递</span><br><span class="line">	所以，我们可以把评委的个数写成参数；</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>接着，考虑方法是否需要有返回值？</span><br><span class="line">	需求中，想要的最终结果是平均分</span><br><span class="line">	所以，返回值就是平均分；</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>最后，再考虑方法内部的业务逻辑</span><br><span class="line">	<span class="number">1</span>)假设评委的个位为n个，那么就需要n个评委的分数，首先可以新建一个长度为n的数组，		用来存储每一个评委的分数</span><br><span class="line">	</span><br><span class="line">	<span class="number">2</span>)循环n次，使用Scanner键盘录入n个<span class="number">1</span>~<span class="number">100</span>范围内的整数，并把整数存储到数组中</span><br><span class="line">	</span><br><span class="line">	<span class="number">3</span>)求数组中元素的总和、最大值、最小值</span><br><span class="line">	</span><br><span class="line">	<span class="number">4</span>)最后再计算平均值； 平均值 = (和-最大值-最小值)/(数组.length-<span class="number">2</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成评委打分案例。</span></span><br><span class="line">        System.out.println(<span class="string">"当前选手得分是："</span> + getAverageScore(<span class="number">6</span>));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">getAverageScore</span><span class="params">(<span class="type">int</span> n)</span>{</span><br><span class="line">        <span class="comment">// 1、定义一个动态初始化的数组，负责后期存入评委的打分</span></span><br><span class="line">        <span class="type">int</span>[] scores = <span class="keyword">new</span> <span class="title class_">int</span>[n]; <span class="comment">// 6</span></span><br><span class="line">        <span class="comment">// scores = [0, 0, 0, 0, 0, 0]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、遍历数组的每个位置，依次录入评委的分数</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; scores.length; i++) {</span><br><span class="line">            <span class="comment">// i = 0 1 2 3 4 5</span></span><br><span class="line">            System.out.println(<span class="string">"请您录入第"</span>+ (i + <span class="number">1</span>) +<span class="string">"个评委的分数："</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">score</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            scores[i] = score;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、从数组中计算出总分，找出最高分，最低分。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// 求总分用的变量</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> scores[<span class="number">0</span>]; <span class="comment">// 求最大值的</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> scores[<span class="number">0</span>]; <span class="comment">// 求最小值的。</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历数组找出这些数据的。</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; scores.length; i++) {</span><br><span class="line">            <span class="comment">// i = 0 1 2 3 4 5</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">score</span> <span class="operator">=</span> scores[i];</span><br><span class="line">            <span class="comment">// 求和</span></span><br><span class="line">            sum += score;</span><br><span class="line">            <span class="comment">// 求最大值</span></span><br><span class="line">            <span class="keyword">if</span>(score &gt; max){</span><br><span class="line">                max = score;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// 求最小值</span></span><br><span class="line">            <span class="keyword">if</span>(score &lt; min){</span><br><span class="line">                min = score;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 4、计算出平均分并返回</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.0</span> * (sum - min - max) / (number - <span class="number">2</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="案例四：数字加密"><a href="#案例四：数字加密" class="headerlink" title="案例四：数字加密"></a>案例四：数字加密</h2><p>各位同学，接下来我们学习第四个案例《数字加密》，我们还是先阅读一下案例需求</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057542061-9712bcbb-0a7d-412c-adeb-89316239e132.png#id=UjoFh&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>仔细阅读需求后发现，简答来说该需求要做的事情，就是把一个4位数的整数，经过一系列的加密运算（至于怎么运算，待会再详细分析），得到一个新的整数。</p>
<p>我们还是把这个需求用方法来实现，按照下面的思维模式进行分析</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先，考虑方法是否需要接收数据处理？</span><br><span class="line">	需要一个<span class="number">4</span>位数，至于是哪一个数，让方法的调用者传递。</span><br><span class="line">	所以，方法的参数，就是这个需要加密的四位数</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>接着，考虑方法是否需要有返回值？</span><br><span class="line">	方法最终的结果是一个加密后的数据</span><br><span class="line">	所以，返回值就表示为加密后的数据。</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>最后，再考虑方法内部的业务逻辑，这里的业务逻辑就是那一系列的加密运算</span><br><span class="line">	<span class="number">1</span>)先要把<span class="number">4</span>位数整数拆分为，<span class="number">4</span>个数字，用一个数组保存起来</span><br><span class="line">	<span class="number">2</span>)再将数组中的每一个元素加<span class="number">5</span>，再对<span class="number">10</span>取余</span><br><span class="line">	<span class="number">3</span>)最后将数组中的元素反转，</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test4</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成数字加密程序的开发。</span></span><br><span class="line">        System.out.println(<span class="string">"加密后的结果是："</span> + encrypt(<span class="number">8346</span>));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">encrypt</span><span class="params">(<span class="type">int</span> number)</span>{</span><br><span class="line">        <span class="comment">// number = 1983</span></span><br><span class="line">        <span class="comment">// 1、把这个密码拆分成一个一个的数字，才可以对其进行加密啊。</span></span><br><span class="line">        <span class="type">int</span>[] numbers = split(number);</span><br><span class="line">        <span class="comment">// numbers = [1, 9, 8, 3]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、遍历这个数组中的每个数字，对其进行加密处理。</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numbers.length; i++) {</span><br><span class="line">            <span class="comment">// i = 0 1 2 3</span></span><br><span class="line">            numbers[i] = (numbers[i] + <span class="number">5</span>) % <span class="number">10</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// numbers = [6, 4, 3, 8]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、对数组反转，把对数组进行反转的操作交给一个独立的方法来完成</span></span><br><span class="line">        reverse(numbers);</span><br><span class="line">        <span class="comment">// numbers = [8, 3, 4, 6]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、把这些加密的数字拼接起来做为加密后的结果返回即可。</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numbers.length; i++) {</span><br><span class="line">            data += numbers[i];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span>[] numbers)</span> {</span><br><span class="line">        <span class="comment">// 反转数组的</span></span><br><span class="line">        <span class="comment">// numbers = [6, 4, 3, 8]</span></span><br><span class="line">        <span class="comment">//            i        j</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = numbers.length - <span class="number">1</span>; i &lt; j; i++,j--) {</span><br><span class="line">            <span class="comment">// 交换i和j位置处的值。</span></span><br><span class="line">            <span class="comment">// 1、把后一个位置处的值交给一个临时变量先存起来</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> numbers[j];</span><br><span class="line">            <span class="comment">// 2、把前一个位置处的值赋值给后一个位置处</span></span><br><span class="line">            numbers[j] = numbers[i];</span><br><span class="line">            <span class="comment">// 3、把后一个位置处原来的值（由临时变量记住着）赋值给前一个位置</span></span><br><span class="line">            numbers[i] = temp;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] split(<span class="type">int</span> number) {</span><br><span class="line">        <span class="comment">// number = 1983</span></span><br><span class="line">        <span class="type">int</span>[] numbers = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line">        numbers[<span class="number">0</span>] = number / <span class="number">1000</span>;</span><br><span class="line">        numbers[<span class="number">1</span>] = (number / <span class="number">100</span>) % <span class="number">10</span>;</span><br><span class="line">        numbers[<span class="number">2</span>] = (number / <span class="number">10</span>) % <span class="number">10</span>;</span><br><span class="line">        numbers[<span class="number">3</span>] = number % <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">return</span> numbers;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="案例五：数组拷贝"><a href="#案例五：数组拷贝" class="headerlink" title="案例五：数组拷贝"></a>案例五：数组拷贝</h2><p>各位同学，接下来我们学习第五个案例《数组拷贝》，我们还是先阅读一下案例需求</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057542192-522fa1d9-8c25-4959-9da4-eba7519130c4.png#id=HkpD3&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>仔细阅读需求发现，想要实现的效果就是：给定一个数组，然后经过我们编写的程序，得到一个和原数组一模一样的数组。</p>
<p>我们也采用一个方法来编写，按照下面的思维模式来思考</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先，考虑方法是否需要接收数据处理？</span><br><span class="line">	该方法的目的是拷贝数组，拷贝哪一个数组呢？ 需要调用者传递</span><br><span class="line">	所以，参数应该是一个数组</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>接着，考虑方法是否需要有返回值？</span><br><span class="line">	该方法最终想要得到一个新数组</span><br><span class="line">	所以，返回值是拷贝得到的新数组</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>最后，考虑方法内部的业务逻辑？</span><br><span class="line">	<span class="number">1</span>)创建一个新的数组，新数组的长度和元素数组一样</span><br><span class="line">	<span class="number">2</span>)遍历原数组，将原数组中的元素赋值给新数组</span><br><span class="line">	<span class="number">3</span>)最终将新数组返回</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test5</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握数组拷贝。</span></span><br><span class="line">        <span class="type">int</span>[] arr = {<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>};</span><br><span class="line">        <span class="type">int</span>[] arr2 = copy(arr);</span><br><span class="line">        printArray(arr2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 注意：这个不是拷贝数组，叫把数组变量赋值给另一个数组变量。</span></span><br><span class="line">        <span class="comment">//        int[] arr3 = arr;</span></span><br><span class="line">        <span class="comment">//        arr3[1] = 666;</span></span><br><span class="line">        <span class="comment">//        System.out.println(arr[1]);</span></span><br><span class="line"></span><br><span class="line">        arr2[<span class="number">1</span>] = <span class="number">666</span>;</span><br><span class="line">        System.out.println(arr[<span class="number">1</span>]);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] copy(<span class="type">int</span>[] arr){</span><br><span class="line">        <span class="comment">// arr = [11, 22, 33]</span></span><br><span class="line">        <span class="comment">//        0    1   2</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1、创建一个长度一样的整型数组出来。</span></span><br><span class="line">        <span class="type">int</span>[] arr2 = <span class="keyword">new</span> <span class="title class_">int</span>[arr.length];</span><br><span class="line">        <span class="comment">// arr2 = [0, 0, 0]</span></span><br><span class="line">        <span class="comment">//         0  1  2</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、把原数组的元素值对应位置赋值给新数组。</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) {</span><br><span class="line">            <span class="comment">// i = 0 1 2</span></span><br><span class="line">            arr2[i] = arr[i];</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> arr2;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printArray</span><span class="params">(<span class="type">int</span>[] arr)</span>{</span><br><span class="line">        System.out.print(<span class="string">"["</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) {</span><br><span class="line">            System.out.print(i==arr.length-<span class="number">1</span> ? arr[i] : arr[i] + <span class="string">", "</span>);</span><br><span class="line">        }</span><br><span class="line">        System.out.println(<span class="string">"]"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="案例六：抢红包"><a href="#案例六：抢红包" class="headerlink" title="案例六：抢红包"></a>案例六：抢红包</h2><p>各位同学，接下来我们学习第六个案例《抢红包》，我们还是先阅读一下案例需求</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057542278-8b309a42-af07-428d-a916-daf140bd2316.png#id=mzrkt&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057542380-fa70544c-4b5b-48b1-a66c-a3a1d329919d.png#id=PQvPd&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们还是把这个案例用一个方法来编写，同样按照下面的模式来分析</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先，考虑方法是否需要接收数据处理？</span><br><span class="line">	需要接收<span class="number">5</span>个红包，至于是哪<span class="number">5</span>个红包，可以有调用者传递；把<span class="number">5</span>个红包的数值，用数组来存	 储。</span><br><span class="line">	所以，参数就是一个数组</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>接着，考虑方法是否需要有返回值？</span><br><span class="line">	按照需求的效果，抢完红包就直接打印了，不需要返回值</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>最后，考虑方法内部的业务逻辑是怎么的？</span><br><span class="line">	思考：红包实际上是数组中的元素，抢红包实际上随机获取数组中的元素；而且一个红包只能抢一次，怎么做呢？我们可以把数组中获取到元素的位置，置为<span class="number">0</span>,下次再或者这个位置的元素一判断为<span class="number">0</span>，再重新获取新的元素，依次内推，直到把数组中所有的元素都获取完。</span><br><span class="line">	</span><br><span class="line">	我们我们把抽红包的思路再整理一下：</span><br><span class="line">		<span class="number">1</span>)首先，写一个循环，循环次数为数组的长度</span><br><span class="line">		<span class="number">2</span>)每次循环，键盘录入，提示<span class="string">"用户录入任意键抽奖："</span></span><br><span class="line">    	<span class="number">3</span>)随机从数组中产生一个索引，获取索引位置的元素，这个元素就表示抽的红包</span><br><span class="line">			如果值不为<span class="number">0</span>，则打印如：<span class="string">"恭喜您，您抽中了520元"</span>,把这个位置元素置为<span class="number">0</span></span><br><span class="line">    		如果值为<span class="number">0</span>，则说明这个红包被抽过，重新循环到第<span class="number">2</span>步，重新抽奖</span><br><span class="line">    		【注意：如果当前这一次没有抽中，这一次抽奖机会被浪费掉了，我们可以把控				制循环的次数自减一下】</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test6</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">int</span>[] moneys = {<span class="number">100</span>,<span class="number">999</span>,<span class="number">50</span>,<span class="number">520</span>,<span class="number">1314</span>};</span><br><span class="line">        start(moneys);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//开始抽奖</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(<span class="type">int</span>[] moneys)</span>{</span><br><span class="line">        <span class="comment">//1)首先，写一个循环，循环次数为数组的长度</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; moneys.length; i++) {</span><br><span class="line">            <span class="comment">//2)每次循环，键盘录入，提示"用户录入任意键抽奖："</span></span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>){</span><br><span class="line">                <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">                System.out.print(<span class="string">"用户录入任意键抽奖："</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> sc.next();</span><br><span class="line">                <span class="comment">//3)随机从数组中产生一个索引，获取索引位置的元素，这个元素就表示抽的红包</span></span><br><span class="line">                <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">                <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> r.nextInt(moneys.length);</span><br><span class="line">                <span class="type">int</span> <span class="variable">money</span> <span class="operator">=</span> moneys[index];</span><br><span class="line">                <span class="keyword">if</span>(money!=<span class="number">0</span>){</span><br><span class="line">                    <span class="comment">//如果值不为0，则打印如："恭喜您，您抽中了520元"</span></span><br><span class="line">                    System.out.println(<span class="string">"恭喜您，您抽中了"</span>+money+<span class="string">"元"</span>);</span><br><span class="line">                    moneys[index] = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }<span class="keyword">else</span> {</span><br><span class="line">                    <span class="comment">//如果值为0，则说明这个红包被抽过，重新循环到第2步，重新抽奖</span></span><br><span class="line">                    <span class="comment">//此时这一次抽奖机会被浪费掉了，可以把控制循环的次数自减一下</span></span><br><span class="line">                    i--;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="案例七：找素数"><a href="#案例七：找素数" class="headerlink" title="案例七：找素数"></a>案例七：找素数</h2><p>各位同学，接下来我们学习第七个案例《找素数》，我们还是先阅读一下案例需求</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057542483-dfa0c3ba-8a41-4ef5-a76d-c3b078aa3842.png#id=qbk1i&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>首先我们得统一认识一下什么是素数：<strong>只能被1和本身整除的数是素数</strong>，比如：3、7是素数，9,21不是素数（因为9可以被3整除，21可以被3和7整除）</p>
<p>再思考题目需求该怎么做？<strong>打印输出101~200之间的素数，并求有多少个？</strong>，我们也是把这个需求写成一个方法，还是按照三个步骤分析方法如何编写。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先，考虑方法是否需要接收数据处理？</span><br><span class="line">	该方法是求一个范围内的素数，一个范围需要两个数据来确定，比如：<span class="number">101</span>~<span class="number">200</span></span><br><span class="line">	所以，方法需要两个参数来接收范围的开始值start，和范围的结束值end</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>接着，考虑方法是否需要返回值？</span><br><span class="line">	该方法需要求一个范围内的素数的个数</span><br><span class="line">	所以，返回值就是素数的个数</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>最后，考虑方法内部的业务逻辑</span><br><span class="line">	思考：怎么判断一个数是素数呢？要仅仅抓住，素数的要求:“只能被<span class="number">1</span>和本身整除的数是素数”。我们可以从反向思考，如果这个数只要能被除了<span class="number">1</span>和本身以外的数整除，那么这个数就不是素数。</span><br><span class="line">	<span class="comment">//比如1：判断9是否为素数</span></span><br><span class="line">	<span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">9</span>;</span><br><span class="line">	<span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>; <span class="comment">//规定flag等于true表示num是素数；否则表示num不是素数</span></span><br><span class="line">	<span class="comment">//如果这个数num只要能被除了1和本身以外的数整除，那么这个数就不是素数。</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">2</span>; j&lt;<span class="number">9</span>-<span class="number">1</span>; j++){</span><br><span class="line">        <span class="comment">//当j=3时，num%j == 9%3 == 0; </span></span><br><span class="line">		<span class="keyword">if</span>(num%j==<span class="number">0</span>){</span><br><span class="line">            <span class="comment">//说明num=9; 表示一个素数。把flag改为false; </span></span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	把上面的代码循环执行，每次循环然后把num换成start~end之间的整数即可。</span><br></pre></td></tr></tbody></table></figure>

<p>编写代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test7</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成找素数。</span></span><br><span class="line">        System.out.println(<span class="string">"当前素数的个数是："</span> + search(<span class="number">101</span>, <span class="number">200</span>));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span> start, <span class="type">int</span> end)</span>{</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// start = 101   end = 200</span></span><br><span class="line">        <span class="comment">// 1、定义一个for循环找到101到200之间的每个数据</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt;= end ; i++) {</span><br><span class="line">            <span class="comment">// i = 101 102 103 ... 199 200</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 信号位思想</span></span><br><span class="line">            <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>; <span class="comment">// 假设的意思：默认当前i记住的数据是素数。</span></span><br><span class="line">            <span class="comment">// 2、判断当前i记住的这个数据是否是素数。</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2</span>; j &lt;= i / <span class="number">2</span>; j++) {</span><br><span class="line">                <span class="keyword">if</span>(i % j == <span class="number">0</span>){</span><br><span class="line">                    <span class="comment">// i当前记住的这个数据不是素数了</span></span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// 3、根据判定的结果决定是否输出i当前记住的数据：是素数才输出展示。</span></span><br><span class="line">            <span class="keyword">if</span>(flag){</span><br><span class="line">                System.out.println(i);</span><br><span class="line">                count++;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="案例八：模拟双色球-拓展案例"><a href="#案例八：模拟双色球-拓展案例" class="headerlink" title="案例八：模拟双色球[拓展案例]"></a>案例八：模拟双色球[拓展案例]</h2><p>各位同学，接下来我们学习第八个案例《模拟双色球》，我们还是先阅读一下案例需求</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057542588-2d108637-ad84-4c82-863e-519b15d54ddb.png#id=yPH9a&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>这个案例我们可以采用方法方法来完成</p>
<ol>
<li>第一个方法，让用户手动投注，产生一注双色球彩票</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057542710-15297257-3b8c-43f6-9912-dc4f09da1ab8.png#id=JgWAB&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ol start="2">
<li>第二个方法，由系统随机产生一注双色球彩票开奖号码</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057542817-1f388fea-d233-49a2-ba2c-a50e5cd8130a.png#id=QGDSU&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ol start="3">
<li>第三个方法，判断传入两组号码，用于判断彩票的中奖情况</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057542921-689e495f-ea6c-4533-a79d-384f095f3125.png#id=hl0sj&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="8-1-手动投注"><a href="#8-1-手动投注" class="headerlink" title="8.1 手动投注"></a>8.1 手动投注</h3><p>编写一个方法，让用户手动投注，产生一注双色球彩票，思路分析</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先，考虑方法是否需要接收数据处理？</span><br><span class="line">	双色球彩票的规则非常明确，没有什么数据需要传递给方法。</span><br><span class="line">	所以，不需要参数</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>接着，考虑方法是否需要返回值？</span><br><span class="line">	方法最终的结果是需要一注双色球彩票的号码，一注彩票有<span class="number">7</span>个号码，可以用一个数组来存</span><br><span class="line">	所以，返回值是一个数组</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>最后，考虑方法内部的业务逻辑怎么编写？</span><br><span class="line">	<span class="number">1</span>)首先需要准备一个<span class="type">int</span>类型数组，长度为<span class="number">7</span>; 用于存储产生的投注号码</span><br><span class="line">	<span class="number">2</span>)循环遍历数组的前<span class="number">6</span>个元素，采用键盘录入的方式，给前区<span class="number">6</span>个红球赋值</span><br><span class="line">		要求录入的整数在<span class="number">1</span>~<span class="number">33</span>范围内，同时录入的整数在数组中不能已存在，否则重新录入</span><br><span class="line">	<span class="number">3</span>)最后再录入一个整数，给后区一个蓝球赋值</span><br><span class="line">		要求整数必须在<span class="number">1</span>~<span class="number">16</span>范围内</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>手动投注代码如下</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 1、设计一个方法，用于让用户投注一组号码并返回（前6个是红球号码，最后1个是蓝球号码 ）*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] userSelectNumbers(){</span><br><span class="line">    <span class="comment">// 2、创建一个整型数组，用于存储用户投注的7个号码（前6个是红球号码，最后1个是蓝球号码 ）</span></span><br><span class="line">    <span class="type">int</span>[] numbers =  <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">7</span>];</span><br><span class="line">    <span class="comment">// numbers = [0, 0, 0, 0, 0, 0, 0]</span></span><br><span class="line">    <span class="comment">//            0  1  2  3  4  5  6</span></span><br><span class="line"></span><br><span class="line">    <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">    <span class="comment">// 3、遍历前6个位置，让用户依次投注6个红球号码，存入</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numbers.length - <span class="number">1</span>; i++) {</span><br><span class="line">        <span class="comment">// i = 0 1 2 3 4 5</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            <span class="comment">// 4、开始让用户为当前位置投注一个红球号码（1-33之间，不能重复）</span></span><br><span class="line">            System.out.println(<span class="string">"请您输入第"</span> + (i + <span class="number">1</span>) + <span class="string">"个红球号码（1-33之间，不能重复）："</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 5、先判断用户输入的红球号码是否在1-33之间</span></span><br><span class="line">            <span class="keyword">if</span>(number &lt; <span class="number">1</span> || number &gt; <span class="number">33</span>){</span><br><span class="line">                System.out.println(<span class="string">"对不起，您输入的红球号码不在1-33之间，请确认！"</span>);</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="comment">// 号码是在1-33之间了，接着还要继续判断这个号码是否重复，不重复才可以使用。</span></span><br><span class="line">                <span class="keyword">if</span>(exist(numbers, number)){</span><br><span class="line">                    <span class="comment">// number当前这个红球号码是重复了。</span></span><br><span class="line">                    System.out.println(<span class="string">"对不起，您当前输入的红球号码前面选择过，重复了，请确认！"</span>);</span><br><span class="line">                }<span class="keyword">else</span> {</span><br><span class="line">                    <span class="comment">// number记住的这个号码没有重复了，就可以使用了。</span></span><br><span class="line">                    numbers[i] = number;</span><br><span class="line">                    <span class="keyword">break</span>; <span class="comment">// 结束当次投注，结束了当前死循环。</span></span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6、投注最后一个蓝球号码。</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">        System.out.println(<span class="string">"请您输入最后1个蓝球号码（1-16）："</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="keyword">if</span>(number &lt; <span class="number">1</span> || number &gt; <span class="number">16</span>){</span><br><span class="line">            System.out.println(<span class="string">"对不起，您输入的蓝球号码范围不对！"</span>);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            numbers[<span class="number">6</span>] = number;</span><br><span class="line">            <span class="keyword">break</span>; <span class="comment">// 蓝球号码录入成功，结束死循环</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> numbers;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>每键盘录入一个号码，需要判断这个号码在数组中是否存在，存在返回true；不存在返回false</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">exist</span><span class="params">(<span class="type">int</span>[] numbers, <span class="type">int</span> number)</span> {</span><br><span class="line">    <span class="comment">// 需求：判断number这个数字是否在numbers数组中存在。</span></span><br><span class="line">    <span class="comment">// numbers = [12, 25, 18, 0, 0, 0, 0]</span></span><br><span class="line">    <span class="comment">// number = 12</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numbers.length; i++) {</span><br><span class="line">        <span class="keyword">if</span>(numbers[i] == <span class="number">0</span>){</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(numbers[i] == number){</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>为了打印一注彩票的号码（数组中的元素），把打印数组中的元素也写成方法。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printArray</span><span class="params">(<span class="type">int</span>[] arr)</span> {</span><br><span class="line">    System.out.print(<span class="string">"["</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) {</span><br><span class="line">        System.out.print(i == arr.length - <span class="number">1</span> ? arr[i] : arr[i] + <span class="string">", "</span>);</span><br><span class="line">    }</span><br><span class="line">    System.out.println(<span class="string">"]"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>在main方法中测试，运行看能不能产生一注彩票号码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test8</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成双色球系统的开发。</span></span><br><span class="line">        <span class="type">int</span>[] userNumbers = userSelectNumbers();</span><br><span class="line">        System.out.println(<span class="string">"您投注的号码："</span>);</span><br><span class="line">        printArray(userNumbers);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="8-2-随机开奖号码"><a href="#8-2-随机开奖号码" class="headerlink" title="8.2 随机开奖号码"></a>8.2 随机开奖号码</h3><p>编写一个方法，让用户自动机选投注，产生一注双色球彩票，思路分析</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先，考虑方法是否需要接收数据处理？</span><br><span class="line">	双色球彩票的规则非常明确，没有什么数据需要传递给方法。</span><br><span class="line">	所以，不需要参数</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>接着，考虑方法是否需要返回值？</span><br><span class="line">	方法最终的结果是需要一注双色球彩票的号码，一注彩票有<span class="number">7</span>个号码，可以用一个数组来存</span><br><span class="line">	所以，返回值是一个数组</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>最后，考虑方法内部的业务逻辑怎么编写？</span><br><span class="line">	<span class="number">1</span>)首先需要准备一个<span class="type">int</span>类型数组，长度为<span class="number">7</span>; 用于存储产生的投注号码</span><br><span class="line">	<span class="number">2</span>)循环遍历数组的前<span class="number">6</span>个元素，采用生成随机数的的方式，给前区<span class="number">6</span>个红球赋值</span><br><span class="line">		要求生成的随机数在<span class="number">1</span>~<span class="number">33</span>范围内，同时随机的整数数组中不能已存在，否则重新生产</span><br><span class="line">	<span class="number">3</span>)最后再随机一个整数，给后区一个蓝球赋值</span><br><span class="line">		要求随机整数必须在<span class="number">1</span>~<span class="number">16</span>范围内</span><br></pre></td></tr></tbody></table></figure>

<p>机选号码，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 2、设计一个方法：随机一组中奖号码出来（6个红球号码，1个蓝球号码 ）*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] createLuckNumbers(){</span><br><span class="line">    <span class="comment">// 1、创建一个整型数组，用于存储这7个号码</span></span><br><span class="line">    <span class="type">int</span>[] numbers = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line">    <span class="type">Random</span> <span class="variable">r</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">    <span class="comment">// 2、遍历前6个位置处，依次随机一个红球号码存入（1-33 不重复）</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; numbers.length - <span class="number">1</span>; i++) {</span><br><span class="line">        <span class="comment">// i = 0 1 2 3 4 5</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            <span class="comment">// 3、为当前这个位置随机一个红球号码出来存入。</span></span><br><span class="line">            <span class="comment">//1 - 33 ==&gt; -1 ===&gt; (0 , 32) + 1</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> r.nextInt(<span class="number">33</span>) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4、判断这个号码是否之前出现过（红球号码不能重复）。</span></span><br><span class="line">            <span class="keyword">if</span>(!exist(numbers, number)){</span><br><span class="line">                <span class="comment">// number不重复。</span></span><br><span class="line">                numbers[i] = number;</span><br><span class="line">                <span class="comment">//结束死循环，代表找到了当前这个位置的一个不重复的红球号码了。</span></span><br><span class="line">                <span class="keyword">break</span>; </span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、录入一个蓝球号码。 1-16</span></span><br><span class="line">    numbers[<span class="number">6</span>] = r.nextInt(<span class="number">16</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> numbers;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>在main方法中测试，看是否能够产生一注彩票</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test8</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成双色球系统的开发。</span></span><br><span class="line">        <span class="comment">//用户手动投注</span></span><br><span class="line">        <span class="type">int</span>[] userNumbers = userSelectNumbers();</span><br><span class="line">        System.out.println(<span class="string">"您投注的号码："</span>);</span><br><span class="line">        printArray(userNumbers);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//生成中奖号码</span></span><br><span class="line">        <span class="type">int</span>[] luckNumbers = createLuckNumbers();</span><br><span class="line">        System.out.println(<span class="string">"中奖的号码："</span>);</span><br><span class="line">        printArray(luckNumbers);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="8-3-判断是否中奖"><a href="#8-3-判断是否中奖" class="headerlink" title="8.3 判断是否中奖"></a>8.3 判断是否中奖</h3><p>编写一个方法，判断用户的彩票号码是否中奖，具体中奖规则如下</p>
<ul>
<li>6个红球+1个蓝球 ，奖金1000万 </li>
<li>6个红球+0个蓝球，奖金500万 </li>
<li>5个红球+1个蓝球，奖金3000块 </li>
<li>5个红球+0个蓝球，或者4个红球+1个蓝球，奖金200块 </li>
<li>4个红球+0个蓝球，或者3个红球+1个蓝球，奖金10块 </li>
<li>小于3个红球+1个蓝球，奖金5块 </li>
<li>如果前面的都不成立，就中奖，算你为福利事业做贡献了。</li>
</ul>
<p>编写方法的思路如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先，考虑方法是否需要接收数据处理？</span><br><span class="line">	判断彩票是否中奖，需要有两组号码；一组号码是彩票号码，一组号码是开奖号码</span><br><span class="line">	所以，参数需要有两个数组</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>接着，考虑方法是否需要返回值？</span><br><span class="line">	方法不需要返回结果，中了奖，直接将奖项打印输出就行了。</span><br><span class="line">	【注意：这只是提供一种代码的编写方案，你将中奖的金额返回也行】</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>最后，考虑方法内部的业务逻辑怎么编写？</span><br><span class="line">	<span class="number">1</span>)定义两个变量redCount和blueCount用来记录，红球的个数和蓝球的个数</span><br><span class="line">	<span class="number">2</span>)遍历两个数组中前<span class="number">6</span>个元素(红球)，判断两个数组中有没有相同元素</span><br><span class="line">		如果找到一个相同元素，则redCount++</span><br><span class="line">    <span class="number">3</span>)比较两个数组中最后一个元素(蓝球)是否相同</span><br><span class="line">    	如果相同，则blueCount++</span><br><span class="line">	<span class="number">4</span>)根据红球和蓝球的命中个数，打印输出对应的奖项</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 3、设计一个方法，用于判断用户的中奖情况 */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">judge</span><span class="params">(<span class="type">int</span>[] userNumbers,<span class="type">int</span>[] luckNumbers)</span>{</span><br><span class="line">    <span class="comment">// userNumbers = [12, 14, 16, 18, 23, 26, 8]</span></span><br><span class="line">    <span class="comment">// luckNumbers = [16, 17, 18, 19, 26, 32, 8]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、分别定义2个变量用于记住红球命中了几个以及蓝球命中了几个</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">redCount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">blueCount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 先判断红球命中的数量。</span></span><br><span class="line">    <span class="comment">// 遍历用户投注的号码的前6个红球</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; userNumbers.length - <span class="number">1</span>; i++) {</span><br><span class="line">        <span class="comment">// userNumbers[i]</span></span><br><span class="line">        <span class="comment">// 开始遍历中奖号码的前6个红球号码，看用户当前选择的这个号码是否命中了</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; luckNumbers.length - <span class="number">1</span>; j++) {</span><br><span class="line">            <span class="keyword">if</span>(userNumbers[i] == luckNumbers[j]){</span><br><span class="line">                redCount++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、判断蓝球是否命中了</span></span><br><span class="line">    blueCount = userNumbers[<span class="number">6</span>] == luckNumbers[<span class="number">6</span>] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"您命中的红球数量是："</span> + redCount);</span><br><span class="line">    System.out.println(<span class="string">"您命中的蓝球数量是："</span> + blueCount);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4、判断中奖详情，并输出结果</span></span><br><span class="line">    <span class="keyword">if</span>(redCount == <span class="number">6</span> &amp;&amp; blueCount == <span class="number">1</span>){</span><br><span class="line">        System.out.println(<span class="string">"恭喜您，中奖1000万，可以开始享受人生了~~~"</span>);</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span>(redCount == <span class="number">6</span> &amp;&amp; blueCount == <span class="number">0</span>){</span><br><span class="line">        System.out.println(<span class="string">"恭喜您，中奖500万，可以稍微开始享受人生了~~~"</span>);</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span>(redCount == <span class="number">5</span> &amp;&amp; blueCount == <span class="number">1</span>){</span><br><span class="line">        System.out.println(<span class="string">"恭喜您，中奖3000元，可以出去吃顿小龙虾了~"</span>);</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span>(redCount == <span class="number">5</span> &amp;&amp; blueCount == <span class="number">0</span> || redCount == <span class="number">4</span> &amp;&amp; blueCount == <span class="number">1</span>){</span><br><span class="line">        System.out.println(<span class="string">"恭喜您，中了小奖：200元~"</span>);</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span>(redCount == <span class="number">4</span> &amp;&amp; blueCount == <span class="number">0</span> || redCount == <span class="number">3</span> &amp;&amp; blueCount == <span class="number">1</span>){</span><br><span class="line">        System.out.println(<span class="string">"中了10元~"</span>);</span><br><span class="line">    }<span class="keyword">else</span> <span class="keyword">if</span>( redCount &lt; <span class="number">3</span> &amp;&amp; blueCount == <span class="number">1</span>){</span><br><span class="line">        System.out.println(<span class="string">"中了5元~"</span>);</span><br><span class="line">    }<span class="keyword">else</span> {</span><br><span class="line">        System.out.println(<span class="string">"感谢您对福利事业做出的巨大贡献~~~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>在main方法中测试，检测是否中奖的方法是否正确</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test8</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成双色球系统的开发。</span></span><br><span class="line">        <span class="comment">//用户投注</span></span><br><span class="line">        <span class="type">int</span>[] userNumbers = userSelectNumbers();</span><br><span class="line">        System.out.println(<span class="string">"您投注的号码："</span>);</span><br><span class="line">        printArray(userNumbers);</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//随机产生一个中奖号码</span></span><br><span class="line">        <span class="type">int</span>[] luckNumbers = createLuckNumbers();</span><br><span class="line">        System.out.println(<span class="string">"中奖的号码："</span>);</span><br><span class="line">        printArray(luckNumbers);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//判断用户投注的号码是否中奖</span></span><br><span class="line">        judge(userNumbers, luckNumbers);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day07——面向对象基础"><a href="#day07——面向对象基础" class="headerlink" title="day07——面向对象基础"></a>day07——面向对象基础</h1><p>各位同学，恭喜大家！！！大家学习完前面的课程后，说明Java的基础语法就全掌握了。</p>
<p>接下来，我们要学习的是Java中最核心的课程——<strong>面向对象编程</strong>。</p>
<h2 id="一、面向对象入门"><a href="#一、面向对象入门" class="headerlink" title="一、面向对象入门"></a>一、面向对象入门</h2><p>各位同学，为什么说面向对象是Java最核心的课程呢？因为写Java程序是有套路的，而面向对象就是写Java程序的套路；你如果不知道面向对象编程，那么你Java语言就算白学了。</p>
<p>那这种编程套路是咋回事呢？ 接下来，我们通过一个案例快速的认识一下。</p>
<p>现在假设我们需要处理的是学生的姓名、语文成绩、数学成绩这三个数据，要求打印输出这个学生的总成绩，和平均成绩。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057543018-988c9030-13f1-42db-836d-41a2800053c0.png#id=wFZEC&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>遇到这样的需求，我们以前都会定义方法来做，如下图所示</p>
<p>注意：这里每一个方法有<strong>三个参数</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057543111-f507687b-8014-47c8-a68c-09d6d04f3cc1.png#id=RKAib&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057543212-30b431a5-a327-4a33-bb28-4aa811a46fc2.png#id=kDAWz&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>定义好方法之后，我们调用方法的时候，需要给每一个方法<strong>传递三个实际参数</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057543302-15dffd46-9152-45ec-8311-3fa8d6a7135e.png#id=UGH0I&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>在上面案例中，这种编程方式是一种面向过程的编程方式。所谓面向过程，就是编写一个的方法，有数据要进行处理就交给方法来处理。</p>
<p>但是实际上<strong>姓名、语文成绩、数学成绩三个数据可以放在一起，组合成一个对象</strong>，然后让对象提供方法对自己的数据进行处理。这种方式称之为面向对象编程。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057543402-2e948e85-0f12-404b-9949-d0e3bfca29db.png#id=dhc1v&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>总结一些：所谓编写对象编程，就是把要处理的数据交给对象，让对象来处理。</strong></p>
<h2 id="二、深刻认识面向对象"><a href="#二、深刻认识面向对象" class="headerlink" title="二、深刻认识面向对象"></a>二、深刻认识面向对象</h2><p>好的各位同学，在上一节课我们已经用面向对象的编程套路，处理了学生数据。接下来我们就要搞清楚，面向对象的几个最核心问题了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057543508-4c11bc22-078f-438f-93c5-0818403f04c7.png#id=jT8tg&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们把这三个问题搞明白，那么你对面向对象的理解就很到位。</p>
<h3 id="2-1-面向对象编程有什么好处？"><a href="#2-1-面向对象编程有什么好处？" class="headerlink" title="2.1 面向对象编程有什么好处？"></a>2.1 面向对象编程有什么好处？</h3><p>先来看第一个问题，面向对象编程到底有什么好处呢？ 那就不得不谈，Java的祖师爷对这个世界的理解了。</p>
<p>Java的祖师爷，詹姆斯高斯林认为，在这个世界中 <strong>万物皆对象！</strong>任何一个对象都可以包含一些数据，数据属于哪个对象，就由哪个对象来处理。</p>
<p>这样的话，只要我们找到了对象，其实就找到了对数据的处理方式。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057543608-08d33a38-428a-4ed2-803c-bbe0f76210ed.png#id=ctpLE&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>所以面向对象编程的好处，用一句话总结就是：面向对象的开发更符合人类的思维习惯，让编程变得更加简单、更加直观。</p>
<h3 id="2-2-程序中对象到底是个啥？"><a href="#2-2-程序中对象到底是个啥？" class="headerlink" title="2.2 程序中对象到底是个啥？"></a>2.2 程序中对象到底是个啥？</h3><p>说完面向对象编程有什么好处之后，这里有同学可能会有问题了，你刚才举的例子中，“汽车”、“手机”、“蔡徐坤”是一个实实在在的东西，你说是一个对象好理解。那我们程序中的对象到底是个啥呢？</p>
<p><strong>对象实质上是一种特殊的数据结构</strong>。这种结构怎么理解呢？</p>
<p>你可以把对象理解成一张表格，表当中记录的数据，就是对象拥有的数据。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057543759-10ef9233-0a87-4416-a8fa-745d20e21ee2.png#id=CQLup&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>这就是程序中的对象到底是个啥！ <strong>一句话总结，对象其实就是一张数据表，表当中记录什么数据，对象就处理什么数据。</strong></p>
<h3 id="2-3-对象是怎么出来的？"><a href="#2-3-对象是怎么出来的？" class="headerlink" title="2.3 对象是怎么出来的？"></a>2.3 对象是怎么出来的？</h3><p>刚刚我们讲到对象就是一张数据表，那么这个数据表是怎么来的呢？这张表是不会无缘无故存在的，因为Java也不知道你这个对象要处理哪些数据，所以这张表需要我们设计出来。</p>
<p>用什么来设计这张表呢？就是类（class），<strong>类可以理解成对象的设计图</strong>，或者对象的模板。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057543890-ef334a93-a885-4870-bc21-c0296dd7b3d0.png#id=nPQx9&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们需要按照对象的设计图创造一个对象。<strong>设计图中规定有哪些数据，对象中就只能有哪些数据。</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057544109-bb4b05ac-82df-46bd-9c4f-750cd1c106c3.png#id=o88A7&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>一句话总结：对象可以理解成一张数据表，而数据表中可以有哪些数据，是有类来设计的。</strong></p>
<h2 id="三、对象在计算机中的执行原理"><a href="#三、对象在计算机中的执行原理" class="headerlink" title="三、对象在计算机中的执行原理"></a>三、对象在计算机中的执行原理</h2><p>各位同学，前面我们已经带同学写了面向对象的代码，也知道对象到底是咋回事。如果我们再搞清楚对象在计算机中的执行原理，那我们对面向对象的理解就更加专业了。</p>
<p>按照我们之前讲的数组的执行原理，数组变量记录的其实数数组在堆内存中的地址。其实面向对象的代码执行原理和数组的执行原理是非常类似的。</p>
<p>其实<code>Student s1 = new Student();</code>这句话中的原理如下</p>
<ul>
<li><code>Student s1</code>表示的是在栈内存中，创建了一个Student类型的变量，变量名为s1 </li>
<li>而<code>new Student()</code>会在堆内存中创建一个对象，而对象中包含学生的属性名和属性值<br>同时系统会为这个Student对象分配一个地址值0x4f3f5b24 </li>
<li>接着把对象的地址赋值给栈内存中的变量s1，通过s1记录的地址就可以找到这个对象 </li>
<li>当执行<code>s1.name=“播妞”</code>时，其实就是通过s1找到对象的地址，再通过对象找到对象的name属性，再给对象的name属性赋值为<code>播妞</code>;</li>
</ul>
<p>搞明白<code>Student s1 = new Student();</code>的原理之后，<code>Student s2 = new Student();</code>原理完全一样，只是在堆内存中重新创建了一个对象，又有一个新的地址。<code>s2.name</code>是访问另对象的属性。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057544284-b603f5ab-b55d-43b9-82f2-48c7663cc71e.png#id=wSJ3v&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="四、类和对象的一些注意事项"><a href="#四、类和对象的一些注意事项" class="headerlink" title="四、类和对象的一些注意事项"></a>四、类和对象的一些注意事项</h2><p>各位同学，前面几节课我们已经入门了。接下来，关于面向对象有一些细枝末节的东西需要给大家交代一下。</p>
<p>我把这些注意事项已经列举在下面了，我们把几个不好理解的解释一下就可以了（标记方框），其他的大大家一看就能理解。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057544464-65d0a3d3-09a8-4fbf-80fd-0f2e6959f5b8.png#id=x9x2l&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<p><strong>第一条</strong>：一个代码文件中，可以写多个class类，但是只能有一个是public修饰，且public修饰的类必须和文件名相同。</p>
</blockquote>
<p>假设文件名为<code>Demo1.java</code>，这个文件中假设有两个类<code>Demo1类和Student类</code>，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//public修饰的类Demo1，和文件名Demo1相同</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span>{</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>{</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p><strong>第二条：</strong>对象与对象之间的数据不会相互影响，但是多个变量指向同一个对象会相互影响。</p>
</blockquote>
<p>如下图所示，s1和s2两个变量分别记录的是两个对象的地址值，各自修改各自属性值，是互不影响的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057544563-9536ecf9-6c3b-457c-9065-5067936d79b3.png#id=K7vdD&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如下图所示，s1和s2两个变量记录的是同一个对象的地址值，s1修改对象的属性值，再用s2访问这个属性，会发现已经被修改了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057544656-27faa9ce-6148-4b7e-beba-b91e74c55e26.png#id=YAX3W&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="五、this关键字"><a href="#五、this关键字" class="headerlink" title="五、this关键字"></a>五、this关键字</h2><p>各位同学，接下来我们学习几个面向对象的小知识点，这里我们先认识一下this关键字是什么含义，再说一下this的应用场景。</p>
<p><strong>this是什么呢？</strong></p>
<p>this就是一个变量，用在方法中，可以拿到当前类的对象。</p>
<p>我们看下图所示代码，通过代码来体会这句话到底是什么意思。<strong>哪一个对象调用方法方法中的this就是哪一个对象</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057544895-88a0e55f-6f2d-4829-981b-81e787f4abcd.png#id=yH9tw&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>上面代码运行结果如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057544997-a311ac7e-28df-4519-8bae-e0e773d01729.png#id=i2Pj5&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>this有什么用呢？</strong></p>
<p>通过this在方法中可以访问本类对象的成员变量。我们看下图代码，分析打印结果是多少</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057545095-04a1dd1f-dba5-4bf5-b1fb-e9b3f012eb03.png#id=PqcJC&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>分析上面的代码<code>s3.score=325</code>，调用方法printPass方法时，方法中的<code>this.score</code>也是325； 而方法中的参数score接收的是250。执行结果是</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057545231-2ae974bb-4458-4845-91ea-55b8b93c77d7.png#id=p3TN7&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>关于this关键字我们就学习到这里，重点记住这句话：<strong>哪一个对象调用方法方法中的this就是哪一个对象</strong></p>
<h2 id="六、构造器"><a href="#六、构造器" class="headerlink" title="六、构造器"></a>六、构造器</h2><p>好同学们，接下来我们学习一个非常实用的语法知识——叫做构造器。</p>
<p>关于构造器，我们掌握下面几个问题就可以了：</p>
<ol>
<li>什么是构造器？</li>
<li>掌握构造器的特点？</li>
<li>构造器的应用场景？</li>
<li>构造器有哪些注意事项？</li>
</ol>
<p>我们一个问题一个问题的来学习，先来学习什么是构造器？</p>
<ul>
<li><strong>什么是构造器？</strong><br>构造器其实是一种特殊的方法，但是这个方法没有返回值类型，方法名必须和类名相同。<br>如下图所示：下面有一个Student类，构造器名称也必须叫Student；也有空参数构造器，也可以有有参数构造器。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057545325-243849b0-337d-4419-9f28-9e38cc8a6147.png#id=MthyR&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>认识了构造器之后，接着我们看一下构造器有什么特点。</p>
<ul>
<li><strong>构造器的特点？</strong><br>在创建对象时，会调用构造器。<br>也就是说 <code>new Student()</code>就是在执行构造器，当构造器执行完了，也就意味着对象创建成功。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057545441-431248e2-a719-4c12-b6fb-4bb81193bca0.png#id=tcdif&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="><br>当执行<code>new Student("播仔",99)</code>创建对象时，就是在执行有参数构造器，当有参数构造器执行完，就意味着对象创建完毕了。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057545541-fb5aee73-dbb1-4816-b369-a77a9d1f1e8c.png#id=upJ12&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></li>
</ul>
<p>关于构造器的特点，我们记住一句话：<strong>new 对象就是在执行构造方法</strong></p>
<ul>
<li><strong>构造器的应用场景？</strong><br>其实构造器就是用来创建对象的。可以在创建对象时给对象的属性做一些初始化操作。如下图所示：</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057545642-41030132-e876-463a-9d28-4a731a23e5c4.png#id=m65KU&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>构造器的注意事项？</strong><br>学习完构造器的应用场景之后，接下来我们再看一下构造器有哪些注意事项。 <figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>在设计一个类时，如果不写构造器，Java会自动生成一个无参数构造器。</span><br><span class="line"><span class="number">2.</span>一定定义了有参数构造器，Java就不再提供空参数构造器，此时建议自己加一个无参数构造器。</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p>关于构造器的这几个问题我们再总结一下。掌握这几个问题，构造方法就算完全明白了。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>什么是构造器？</span><br><span class="line">	答：构造器其实是一种特殊的方法，但是这个方法没有返回值类型，方法名必须和类名相			同。</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>构造器什么时候执行？</span><br><span class="line">	答：<span class="keyword">new</span> 对象就是在执行构造方法；</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>构造方法的应用场景是什么？</span><br><span class="line">	答：在创建对象时，可以用构造方法给成员变量赋值</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>构造方法有哪些注意事项？</span><br><span class="line">	<span class="number">1</span>)在设计一个类时，如果不写构造器，Java会自动生成一个无参数构造器。</span><br><span class="line">	<span class="number">2</span>)一定定义了有参数构造器，Java就不再提供空参数构造器，此时建议自己加一个无参数构		造器。</span><br></pre></td></tr></tbody></table></figure>

<h2 id="七、封装性"><a href="#七、封装性" class="headerlink" title="七、封装性"></a>七、封装性</h2><p>各位同学，接下来我们再学习一个面向对象很重要的特征叫做——封装性。</p>
<p><strong>1. 什么是封装呢？</strong></p>
<p>所谓封装，就是用类设计对象处理某一个事物的数据时，应该把要处理的数据，以及处理数据的方法，都设计到一个对象中去。</p>
<p>比如：在设计学生类时，把学生对象的姓名、语文成绩、数学成绩三个属性，以及求学生总分、平均分的方法，都封装到学生对象中来。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057545772-be7a5152-56ae-4693-992d-eac8fc6c47ed.png#id=TDi6m&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>现在我们已经知道什么是封装了。那我们学习封装，学习个啥呢？ &nbsp;其实在实际开发中，在用类设计对事处理的数据，以及对数据处理的方法时，是有一些设计规范的。</p>
<p>封装的设计规范用8个字总结，就是：<strong>合理隐藏、合理暴露</strong></p>
<p>比如，设计一辆汽车时，汽车的发动机、变速箱等一些零件并不需要让每一个开车的知道，所以就把它们隐藏到了汽车的内部。</p>
<p>把发动机、变速箱等这些零件隐藏起来，这样做其实更加安全，因为并不是所有人都很懂发动机、变速箱，如果暴露在外面很可能会被不懂的人弄坏。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057545898-574ff248-ad57-4df3-9b93-8843a23dc18c.png#id=uHq7R&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>在设计汽车时，除了隐藏部分零件，但是还是得合理的暴露一些东西出来，让司机能够操纵汽车，让汽车跑起来。比如：点火按钮啊、方向盘啊、刹车啊、油门啊、档把啊… 这些就是故意暴露出来让司机操纵汽车的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057546041-c13eb518-9a9d-496e-912d-59003ed118f2.png#id=QLHCE&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>好了，到现在我们已经理解什么是封装的一些规范了。就是：<strong>合理暴露、合理隐藏</strong></p>
<p><strong>2. 封装在代码中的体现</strong></p>
<p>知道什么是封装之后，那封装在代码中如何体现呢？一般我们在设计一个类时，会将成员变量隐藏，然后把操作成员变量的方法对外暴露。</p>
<p>这里需要用到一个修饰符，叫private，<strong>被private修饰的变量或者方法，只能在本类中被访问。</strong></p>
<p>如下图所示，<code>private double score;</code> 就相当于把score变量封装在了Student对象的内部，且不对外暴露，你想要在其他类中访问score这个变量就，就不能直接访问了；</p>
<p>如果你想给Student对象的score属性赋值，得调用对外暴露的方法<code>setScore(int score)</code>，在这个方法中可以对调用者传递过来的数据进行一些控制，更加安全。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057546182-74f9a9f3-f319-448b-9c5d-9f5b7d8557b8.png#id=TWHeS&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>当你想获取socre变量的值时，就得调用对外暴露的另一个方法 <code>getScore()</code></p>
<p>关于封装我们就学习到这里了。</p>
<h2 id="八、实体JavaBean"><a href="#八、实体JavaBean" class="headerlink" title="八、实体JavaBean"></a>八、实体JavaBean</h2><p>接下来，我们学习一个面向对象编程中，经常写的一种类——叫实体JavaBean类。我们先来看什么是实体类？</p>
<p><strong>1. 什么是实体类？</strong></p>
<p>实体类就是一种特殊的类，它需要满足下面的要求：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057546287-2335e52c-6450-400b-9bff-cac882225d78.png#id=fZqBt&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来我们按照要求，写一个Student实体类；</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057546378-84a80d25-8aaa-4ab0-a018-26deeb2091c7.png#id=KnczU&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>写完实体类之后，我们看一看它有什么特点？ 其实我们会发现实体类中除了有给对象存、取值的方法就没有提供其他方法了。所以实体类仅仅只是用来封装数据用的。</p>
<p>知道实体类有什么特点之后，接着我们看一下它有哪些应用场景？</p>
<p><strong>2. 实体类的应用场景</strong></p>
<p>在实际开发中，实体类仅仅只用来封装数据，而对数据的处理交给其他类来完成，以实现数据和数据业务处理相分离。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057546546-4135df18-cb1d-4c4f-9cd9-3a5024daa2b9.png#id=KPqMK&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>在实际应用中，会将类作为一种数据类型使用。如下图所示，在StudentOperator类中，定义一个Student类型的成员变量student，然后使用构造器给student成员变量赋值。</p>
<p>然后在Student的printPass()方法中，使用student调用Student对象的方法，对Student对象的数据进行处理。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057546647-2efbf8c9-211e-4b91-a7c4-7dfd33263e59.png#id=iuyOF&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>到这里，我们已经学习了JavaBean实体类的是什么，以及它的应用场景，我们总结一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>JavaBean实体类是什么？有啥特点</span><br><span class="line">	JavaBean实体类，是一种特殊的；它需要私有化成员变量，有空参数构造方法、同时提供		getXxx和setXxx方法；</span><br><span class="line">	</span><br><span class="line">	JavaBean实体类仅仅只用来封装数据，只提供对数据进行存和取的方法</span><br><span class="line"> </span><br><span class="line"><span class="number">2.</span>JavaBean的应用场景？</span><br><span class="line">	JavaBean实体类，只负责封装数据，而把数据处理的操作放在其他类中，以实现数据和数		据处理相分离。</span><br></pre></td></tr></tbody></table></figure>

<h2 id="九、面向对象综合案例"><a href="#九、面向对象综合案例" class="headerlink" title="九、面向对象综合案例"></a>九、面向对象综合案例</h2><p>学习完面向对象的语法知识之后。接下来，我们做一个面向对象的综合案例——模仿电影信息系统。</p>
<p>需求如下图所示</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. 想要展示系统中全部的电影信息（每部电影：编号、名称、价格）</span><br><span class="line">2. 允许用户根据电影的编号（id），查询出某个电影的详细信息。</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057546755-762fbb68-0f0a-4cf5-89d6-a21a65afe95f.png#id=unhOg&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>运行程序时，能够根据用户的选择，执行不同的功能，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057546876-4f41e822-ba1a-43d0-aa5d-d024b59708a7.png#id=WBdZ4&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>按照下面的步骤来完成需求</p>
<h3 id="1-第一步：定义电影类"><a href="#1-第一步：定义电影类" class="headerlink" title="1. 第一步：定义电影类"></a>1. 第一步：定义电影类</h3><p>首先每一部电影，都包含这部电影的相关信息，比如：电影的编号（id）、电影的名称（name）、电影的价格（price）、电影的分数（score）、电影的导演（director）、电影的主演（actor）、电影的简介（info）。</p>
<p>为了去描述每一部电影，有哪些信息，我们可以设计一个电影类（Movie），电影类仅仅只是为了封装电影的信息，所以按照JavaBean类的标准写法来写就行。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Movie</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> score;</span><br><span class="line">    <span class="keyword">private</span> String director;</span><br><span class="line">    <span class="keyword">private</span> String actor;</span><br><span class="line">    <span class="keyword">private</span> String info;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Movie</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Movie</span><span class="params">(<span class="type">int</span> id, String name, <span class="type">double</span> price, <span class="type">double</span> score, String director, String actor, String info)</span> {</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">        <span class="built_in">this</span>.score = score;</span><br><span class="line">        <span class="built_in">this</span>.director = director;</span><br><span class="line">        <span class="built_in">this</span>.actor = actor;</span><br><span class="line">        <span class="built_in">this</span>.info = info;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> {</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getPrice</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(<span class="type">double</span> price)</span> {</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getScore</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> score;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setScore</span><span class="params">(<span class="type">double</span> score)</span> {</span><br><span class="line">        <span class="built_in">this</span>.score = score;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDirector</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> director;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDirector</span><span class="params">(String director)</span> {</span><br><span class="line">        <span class="built_in">this</span>.director = director;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getActor</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> actor;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setActor</span><span class="params">(String actor)</span> {</span><br><span class="line">        <span class="built_in">this</span>.actor = actor;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getInfo</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> info;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setInfo</span><span class="params">(String info)</span> {</span><br><span class="line">        <span class="built_in">this</span>.info = info;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-第二步：定义电影操作类"><a href="#2-第二步：定义电影操作类" class="headerlink" title="2. 第二步：定义电影操作类"></a>2. 第二步：定义电影操作类</h3><p>前面我们定义的Movie类，仅仅只是用来封装每一部电影的信息。为了让电影数据和电影数据的操作相分离，我们还得有一个电影操作类（MovieOperator）。</p>
<p>因为系统中有多部电影，所以电影操作类中MovieOperator，需要有一个<code>Movie[] movies;</code> 用来存储多部电影对象；</p>
<p>同时在MovieOperator类中，提供对外提供，对电影数组进行操作的方法。如<code>printAllMovies()</code>用于打印数组中所有的电影信息，<code>searchMovieById(int id)</code>方法根据id查找一个电影的信息并打印。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MovieOperator</span> {</span><br><span class="line">    <span class="comment">//因为系统中有多部电影，所以电影操作类中，需要有一个Movie的数组</span></span><br><span class="line">    <span class="keyword">private</span> Movie[] movies;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MovieOperator</span><span class="params">(Movie[] movies)</span>{</span><br><span class="line">        <span class="built_in">this</span>.movies = movies;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** 1、展示系统全部电影信息 movies = [m1, m2, m3, ...]*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printAllMovies</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"-----系统全部电影信息如下：-------"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; movies.length; i++) {</span><br><span class="line">            <span class="type">Movie</span> <span class="variable">m</span> <span class="operator">=</span> movies[i];</span><br><span class="line">            System.out.println(<span class="string">"编号："</span> + m.getId());</span><br><span class="line">            System.out.println(<span class="string">"名称："</span> + m.getName());</span><br><span class="line">            System.out.println(<span class="string">"价格："</span> + m.getPrice());</span><br><span class="line">            System.out.println(<span class="string">"------------------------"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** 2、根据电影的编号查询出该电影的详细信息并展示 */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">searchMovieById</span><span class="params">(<span class="type">int</span> id)</span>{</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; movies.length; i++) {</span><br><span class="line">            <span class="type">Movie</span> <span class="variable">m</span> <span class="operator">=</span> movies[i];</span><br><span class="line">            <span class="keyword">if</span>(m.getId() == id){</span><br><span class="line">                System.out.println(<span class="string">"该电影详情如下："</span>);</span><br><span class="line">                System.out.println(<span class="string">"编号："</span> + m.getId());</span><br><span class="line">                System.out.println(<span class="string">"名称："</span> + m.getName());</span><br><span class="line">                System.out.println(<span class="string">"价格："</span> + m.getPrice());</span><br><span class="line">                System.out.println(<span class="string">"得分："</span> + m.getScore());</span><br><span class="line">                System.out.println(<span class="string">"导演："</span> + m.getDirector());</span><br><span class="line">                System.out.println(<span class="string">"主演："</span> + m.getActor());</span><br><span class="line">                System.out.println(<span class="string">"其他信息："</span> + m.getInfo());</span><br><span class="line">                <span class="keyword">return</span>; <span class="comment">// 已经找到了电影信息，没有必要再执行了</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(<span class="string">"没有该电影信息~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-第三步：定义测试类"><a href="#3-第三步：定义测试类" class="headerlink" title="3. 第三步：定义测试类"></a>3. 第三步：定义测试类</h3><p>最后，我们需要在测试类中，准备好所有的电影数据，并用一个数组保存起来。每一部电影的数据可以封装成一个对象。然后把对象用数组存起来即可。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">//创建一个Movie类型的数组</span></span><br><span class="line">        Movie[] movies = <span class="keyword">new</span> <span class="title class_">Movie</span>[<span class="number">4</span>];</span><br><span class="line">        <span class="comment">//创建4个电影对象，分别存储到movies数组中</span></span><br><span class="line">        movies[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Movie</span>(<span class="number">1</span>,<span class="string">"水门桥"</span>, <span class="number">38.9</span>, <span class="number">9.8</span>, <span class="string">"徐克"</span>, <span class="string">"吴京"</span>,<span class="string">"12万人想看"</span>);</span><br><span class="line">        movies[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Movie</span>(<span class="number">2</span>, <span class="string">"出拳吧"</span>, <span class="number">39</span>, <span class="number">7.8</span>, <span class="string">"唐晓白"</span>, <span class="string">"田雨"</span>,<span class="string">"3.5万人想看"</span>);</span><br><span class="line">        movies[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Movie</span>(<span class="number">3</span>,<span class="string">"月球陨落"</span>, <span class="number">42</span>, <span class="number">7.9</span>, <span class="string">"罗兰"</span>, <span class="string">"贝瑞"</span>,<span class="string">"17.9万人想看"</span>);</span><br><span class="line">        movies[<span class="number">3</span>] = <span class="keyword">new</span> <span class="title class_">Movie</span>(<span class="number">4</span>,<span class="string">"一点就到家"</span>, <span class="number">35</span>, <span class="number">8.7</span>, <span class="string">"许宏宇"</span>, <span class="string">"刘昊然"</span>,<span class="string">"10.8万人想看"</span>);</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>准备好测试数据之后，接下来就需要对电影数据进行操作。我们已经把对电影操作先关的功能写到了MovieOperator类中，所以接下来，创建MovieOperator类对象，调用方法就可以完成相关功能。</p>
<p>继续再main方法中，接着写下面的代码。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 4、创建一个电影操作类的对象，接收电影数据，并对其进行业务处理</span></span><br><span class="line"><span class="type">MovieOperator</span> <span class="variable">operator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MovieOperator</span>(movies);</span><br><span class="line"><span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">    System.out.println(<span class="string">"==电影信息系统=="</span>);</span><br><span class="line">    System.out.println(<span class="string">"1、查询全部电影信息"</span>);</span><br><span class="line">    System.out.println(<span class="string">"2、根据id查询某个电影的详细信息展示"</span>);</span><br><span class="line">    System.out.println(<span class="string">"请您输入操作命令："</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">command</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">    <span class="keyword">switch</span> (command) {</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="comment">// 展示全部电影信息</span></span><br><span class="line">            operator.printAllMovies();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="comment">// 根据id查询某个电影的详细信息展示</span></span><br><span class="line">            System.out.println(<span class="string">"请您输入查询的电影id:"</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            operator.searchMovieById(id);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            System.out.println(<span class="string">"您输入的命令有问题~~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>到这里，电影信息系统就完成了。 小伙伴们，自己尝试写一下吧！！</p>
<h2 id="十、成员变量和局部变量的区别"><a href="#十、成员变量和局部变量的区别" class="headerlink" title="十、成员变量和局部变量的区别"></a>十、成员变量和局部变量的区别</h2><p>各位同学，面向对象的基础内容咱们已经学习完了。同学们在面向对象代码时，经常会把成员变量和局部变量搞混。所以现在我们讲一讲他们的区别。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057546970-bd254bc8-a3cc-4c36-921e-687812f6f99c.png#id=yAUBS&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如下图所示，成员变量在类中方法外，而局部变量在方法中。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057547064-c55c913f-1ceb-44e8-8db1-e87a587e34e3.png#id=tWCE1&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<hr>
<p>到这里，我们关于面向对象的基础知识就学习完了。<strong>面向对象的核心点就是封装，将数据和数据的处理方式，都封装到对象中； 至于对象要封装哪些数据？对数据进行怎样的处理？ 需要通过类来设计。</strong></p>
<p>需要注意的是，不同的人，对同一个对象进行设计，对象封装那些数据，提供哪些方法，可能会有所不同；只要能够完成需求，符合设计规范，都是合理的设计。</p>
<h1 id="day08——Java常用API"><a href="#day08——Java常用API" class="headerlink" title="day08——Java常用API"></a>day08——Java常用API</h1><h2 id="一、今日内容介绍、API概述"><a href="#一、今日内容介绍、API概述" class="headerlink" title="一、今日内容介绍、API概述"></a>一、今日内容介绍、API概述</h2><p>各位同学，我们前面已经学习了面向对象编程，使用面向编程这个套路，我们需要自己写类，然后创建对象来解决问题。但是在以后的实际开发中，更多的时候，我们是利用面向编程这种套路，使用别人已经写好的类来编程的。</p>
<p>这就是我们今天要学习的内容——常用API（全称是Application Program Interface 应用程序接口），说人话就是：<strong>别人写好的一些程序，给咱们程序员直接拿去调用。</strong></p>
<p>Java官方其实已经给我们写好了很多很多类，每一个类中又提供了一系列方法来解决与这个类相关的问题。</p>
<ul>
<li>比如String类，表示字符串，提供的方法全都是对字符串操作的。</li>
<li>比如ArrayList类，表示一个容器，提供的方法都是对容器中的数据进行操作的。</li>
</ul>
<p>像这样的类还有很多，Java把这些类是干什么用的、类中的每一个方法是什么含义，编写成了文档，我们把这个文档称之为API文档。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057547150-fc0b667b-e48e-488c-b860-97eee88f0129.png#id=QasB1&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>1. 我们为什么要学习别人写好的程序呢？</strong></p>
<pre><code>    在行业中有这么一句话：“不要重复造轮子”。这里所说的轮子就是别人已经写过的程序。意思就是不要写重复的程序，因为程序是用来解决问题的，如果这个问题别人已经解决过，并且这个解决方案也得到了市场认可，那就不用再自己重复写这个程序了。

    Java已经发展了20多年，在这20多年里，已经积累类了很多问题的解决方案，基本上现在我们遇到的问题，在这20多年里，早就有人解决过。

    所以我们把面向对象的高级知识学习完之后，Java语言的语法知识就已经学习完了。剩下的所有内容都是是学习一个一个的API，通过调用API提供的方法来解决实际问题。
</code></pre>
<p><strong>2. 我们要学习哪些API</strong></p>
<p>Java的API文档中，有那么多的类，是所有的类都要学习吗？并不是 ，虽然Java提供了很多个类，但是并不是所有类都得到了市场认可，我们只学习一些在工作中常用的就行。</p>
<p>除了Java官方提供的API，还一些第三方的公司或者组织也会提供一些API，甚至比Java官方提供的API更好用，在需要的时候我们也会告诉大家怎么用。</p>
<p><strong>3. 今天我们主要学习两个类，一个是String类、还有一个是ArrayList类。</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057547237-4686fba7-d79f-4ed9-8a30-0853a72efab6.png#id=vvR61&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>字符串的应用场景是非常多的，可以说是无处不在。</p>
<p>比如，在用户登录时，需要对用户名和密码进行校验，这里的用户名和密码都是String</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057547333-38c64559-15a2-4ad0-bdb9-796d71256ba8.png#id=CNaNJ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>再比如，在和网友聊天时，其实输入的文字就是一个一个字符串</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057547430-b1a6bb1c-1b23-4d84-a7cf-a51be8d55981.png#id=jpkK2&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>再比如，在百度上搜索时，搜素的关键词，也是字符串</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057547591-136ec7fa-c3ab-4272-a73a-70d12046160a.png#id=MNIz6&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>学习完String类之后，还会学习一个类ArrayList</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057547693-79d387ae-3670-4841-ae73-d6b6208ed9e0.png#id=IZqL4&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>大家知道数组是一个容器，有数组干嘛还要集合呢？	因为数字的长度是固定的，一旦创建不可改变。</p>
<p>比如数组的长度为3，想要存储第4个元素就存不进去了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057547883-ba85a7a7-ca6f-44a0-b2ef-4d9be41c5716.png#id=mBeO2&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>使用集合就可以解决上面的问题，集合可以根据需要想存多少个元素就存多少个元素。</p>
<h2 id="二、包"><a href="#二、包" class="headerlink" title="二、包"></a>二、包</h2><p><strong>1. 什么是包</strong></p>
<p>在学习API类之前，我们先要学习包。因为Java官方提供的类有很多，为了对这些类进行分门别类的管理，别人把写好的类都是放在不同的包里的。</p>
<p>包其实类似于文件夹，一个包中可以放多个类文件。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057547966-0447778f-11c9-42d9-a2d7-90a848fa80a5.png#id=l9Ko4&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>建包的语法格式：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类文件的第一行定义包</span></span><br><span class="line"><span class="keyword">package</span> com.itheima.javabean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class 类名{</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>2. 在自己的程序中，调用其他包中的程序，需要注意下面一个问题</strong></p>
<ul>
<li>如果当前程序中，要调用自己所在包下的其他程序，可以直接调用。（同一个包下的类，互相可以直接调用） </li>
<li>如果当前程序中，要调用其他包下的程序，则必须在当前程序中导包, 才可以访问！<br>导包格式：<code>import 包名.类名</code> </li>
<li>如果当前程序中，要调用Java.lang包下的程序，不需要我们导包的，可以直接使用。 </li>
<li>如果当前程序中，要调用多个不同包下的程序，而这些程序名正好一样，此时默认只能导入一个程序，另一个程序必须带包名访问。</li>
</ul>
<h2 id="三、String类"><a href="#三、String类" class="headerlink" title="三、String类"></a>三、String类</h2><h3 id="1-String类概述"><a href="#1-String类概述" class="headerlink" title="1. String类概述"></a>1. String类概述</h3><p>各位同学，接下来我们学习String这个类，也就是学对字符串进行处理。为什么要学习字符串处理呢？因为在开发中对于字符串的处理还是非常常见的。</p>
<p>比如：在用户登录时，用户输入的用户名和密码送到后台，需要和正确的用户名和密码进行校验，这就需要用到String类提供的比较功能。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057547333-38c64559-15a2-4ad0-bdb9-796d71256ba8.png#id=M5Hnb&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>再比如：同学们在直播留言时，有些小伙伴可能不太文明说了一些脏话，后台检测到你输入的是脏话，就会用<code>***</code>把脏话屏蔽掉。这也需要用到String类提供的替换功能</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057547430-b1a6bb1c-1b23-4d84-a7cf-a51be8d55981.png#id=dSZAl&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>Java为了方便我们处理字符串，所以给我们提供了一个String类来代表字符串，这个类就是<code>java.lang</code>包下。</p>
<p>按照面向对象的编程思想，对于字符串的操作，只需要创建字符串对象，用字符串对象封装字符串数据，然后调用String类的方法就可以了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057548075-a236a33d-d565-425c-a4b3-ba3d0acba5be.png#id=dmW1I&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<hr>
<h3 id="2-String创建对象"><a href="#2-String创建对象" class="headerlink" title="2. String创建对象"></a>2. String创建对象</h3><p>接下来我们打开String类的API，看一下String类的对象如何创建。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057548187-86149ce2-dd39-483c-99d3-e0aad456fa92.png#id=jiqlj&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>String类的API中，有这么一句话：“Java程序中的所有字符串字面值（如”abc”）都是字符串的实例实现”。这里所说的实例实现，其实指的就是字符串对象。</p>
<p>意思就是：<strong>所有Java的字符串字面值，都是字符串对象。</strong></p>
<ul>
<li>所以创建String对象的第一种方式就有了</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">"abc"</span>; <span class="comment">//这里"abc"就是一个字符串对象，用s1变量接收</span></span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">"黑马程序员"</span>; <span class="comment">//这里的“黑马程序员”也是一个字符串对象，用s2变量接收</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>创建String对象还有第二种方式，就是利用String类的构造方法创建String类的对象。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057548305-60c47f15-e8f7-4fbf-a0be-c404646f250c.png#id=EJinM&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们前面学习过类的构造方法，执行构造方法需要用到new关键字。<code>new String(参数)</code>就是在执行String类的构造方法。</p>
<p>下面我们演示通过String类的构造方法，创建String类的对象</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、直接双引号得到字符串对象，封装字符串数据</span></span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">"黑马666"</span>;</span><br><span class="line">System.out.println(name);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、new String创建字符串对象，并调用构造器初始化字符串</span></span><br><span class="line"><span class="type">String</span> <span class="variable">rs1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>();</span><br><span class="line">System.out.println(rs1); <span class="comment">// ""</span></span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">rs2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">"itheima"</span>);</span><br><span class="line">System.out.println(rs2);</span><br><span class="line"></span><br><span class="line"><span class="type">char</span>[] chars = {<span class="string">'a'</span>, <span class="string">'黑'</span>, <span class="string">'马'</span>};</span><br><span class="line"><span class="type">String</span> <span class="variable">rs3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(chars);</span><br><span class="line">System.out.println(rs3);</span><br><span class="line"></span><br><span class="line"><span class="type">byte</span>[] bytes = {<span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>};</span><br><span class="line"><span class="type">String</span> <span class="variable">rs4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes);</span><br><span class="line">System.out.println(rs4);</span><br></pre></td></tr></tbody></table></figure>

<p>关于String类是用来干什么的，以及String类对象的创建我们就学习到这里。最后总结一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> String是什么，可以做什么？</span><br><span class="line">	答：String代表字符串，可以用来创建对象封装字符串数据，并对其进行处理。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>String类创建对象封装字符串数据的方式有几种？</span><br><span class="line">	方式一： 直接使用双引号“...” 。</span><br><span class="line">	方式二：<span class="keyword">new</span> <span class="title class_">String</span>类，调用构造器初始化字符串对象。</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-String类的常用方法"><a href="#3-String类的常用方法" class="headerlink" title="3. String类的常用方法"></a>3. String类的常用方法</h3><p>各位同学，在上一节课中，我们学习了如何通过字符串对象封装数据，接下来我们学习调用String类的方法对象字符串数据进行处理。</p>
<p>这里已经将String类的常用方法，给同学们挑出来了，我们先快速的认识一下。为什么是快速认识一下呢？因为API真正的作用是来解决业务需求的，如果不解决业务需求，只是记API是很难记住的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057548393-b8909fc7-13ce-4602-b53e-5c9c4be417aa.png#id=aE9mg&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>所以API的正确打开方式是，先找到这个类，把这个类中的方法先用代码快速过一遍，有一个大概印象就行。然后再具体的案例中，选择你需要的方法来用就行。</p>
<p>下面我们就把String类中的方法，按照方法的调用规则，先快速过一遍。（注意：第一次调用API方法，都是看着API方法来调用用的，不是背的）</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringDemo2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">//目标：快速熟悉String提供的处理字符串的常用方法。</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">"黑马Java"</span>;</span><br><span class="line">        <span class="comment">// 1、获取字符串的长度</span></span><br><span class="line">        System.out.println(s.length());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、提取字符串中某个索引位置处的字符</span></span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(<span class="number">1</span>);</span><br><span class="line">        System.out.println(c);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 字符串的遍历</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) {</span><br><span class="line">            <span class="comment">// i = 0 1 2 3 4 5</span></span><br><span class="line">            <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            System.out.println(ch);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"-------------------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、把字符串转换成字符数组，再进行遍历</span></span><br><span class="line">        <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; chars.length; i++) {</span><br><span class="line">            System.out.println(chars[i]);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、判断字符串内容，内容一样就返回true</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">"黑马"</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">"黑马"</span>);</span><br><span class="line">        System.out.println(s1 == s2); <span class="comment">// false</span></span><br><span class="line">        System.out.println(s1.equals(s2)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、忽略大小写比较字符串内容</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="string">"34AeFG"</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="string">"34aEfg"</span>;</span><br><span class="line">        System.out.println(c1.equals(c2)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(c1.equalsIgnoreCase(c2)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、截取字符串内容 (包前不包后的)</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="string">"Java是最好的编程语言之一"</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> s3.substring(<span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7、从当前索引位置一直截取到字符串的末尾</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs2</span> <span class="operator">=</span> s3.substring(<span class="number">5</span>);</span><br><span class="line">        System.out.println(rs2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 8、把字符串中的某个内容替换成新内容，并返回新的字符串对象给我们</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">info</span> <span class="operator">=</span> <span class="string">"这个电影简直是个垃圾，垃圾电影！！"</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">rs3</span> <span class="operator">=</span> info.replace(<span class="string">"垃圾"</span>, <span class="string">"**"</span>);</span><br><span class="line">        System.out.println(rs3);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 9、判断字符串中是否包含某个关键字</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">info2</span> <span class="operator">=</span> <span class="string">"Java是最好的编程语言之一，我爱Java,Java不爱我！"</span>;</span><br><span class="line">        System.out.println(info2.contains(<span class="string">"Java"</span>));</span><br><span class="line">        System.out.println(info2.contains(<span class="string">"java"</span>));</span><br><span class="line">        System.out.println(info2.contains(<span class="string">"Java2"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 10、判断字符串是否以某个字符串开头。</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs4</span> <span class="operator">=</span> <span class="string">"张三丰"</span>;</span><br><span class="line">        System.out.println(rs4.startsWith(<span class="string">"张"</span>));</span><br><span class="line">        System.out.println(rs4.startsWith(<span class="string">"张三"</span>));</span><br><span class="line">        System.out.println(rs4.startsWith(<span class="string">"张三2"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 11、把字符串按照某个指定内容分割成多个字符串，放到一个字符串数组中返回给我们</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs5</span> <span class="operator">=</span> <span class="string">"张无忌,周芷若,殷素素,赵敏"</span>;</span><br><span class="line">        String[] names = rs5.split(<span class="string">","</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; names.length; i++) {</span><br><span class="line">            System.out.println(names[i]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>演示完String类的这些方法之后，我们对字符串有哪些方法，就已经有一个大致印象了。至少知道String字符串能干哪些事情。</p>
<p>至于String类的这些方法是否都记住了，这个还需要通过一些案例训练，在用的过程中去找哪个方法能够解决你的实际需求，就用哪个方法。同一个方法用的次数多个，自然就记住了。</p>
<h3 id="4-String的注意事项"><a href="#4-String的注意事项" class="headerlink" title="4. String的注意事项"></a>4. String的注意事项</h3><p>在上一节，我们学习了字符串的一些常用方法，在实际工作中用这些方法解决字符串的常见问题是完全足够的，但是在面试时可能会问一些原理性的东西。</p>
<p>所以把字符串原理性的内容，就当做注意事项来学习一下。一共有下面的2点：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057548486-2e3954d0-33d7-45d9-9e2a-8f11914b1438.png#id=UHZf7&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>注意事项1：String类的对象是不可变的对象</strong></li>
</ul>
<p>我们先看一段代码，分析这段代码的结果</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057548569-0046a29a-6035-4772-8fbc-141789220382.png#id=EO52u&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>以上代码中，先定义了一个String变量 name第一次赋值为<code>“黑马”;</code> 然后对<code>name</code>变量记录的字符串进行两次拼接，第一次拼接<code>“程序员”</code>，第二次拼接<code>“播妞”</code>；我们发现得到的结果是：<code>黑马程序员播妞</code></p>
<p>这里问题就来了，你不是是说：<strong>String类的对象是不可变的字符串对象吗？</strong>我看name的值变了呀！！！<img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057548656-ed214a4b-3a72-4c7d-8adc-cd92792cc46b.png#id=RL8GQ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面我们就解释一下，String是不可变对象到底是什么含义。</p>
<p>需要注意的是：只要是以<code>“”</code>方式写出的字符串对象，会在堆内存中的<strong>字符串常量池</strong>中存储。</p>
<p>执行第一句话时，会在堆内存的常量池中，创建一个字符串对象<code>“黑马”</code>，然后把<code>“黑马”</code>的地址赋值给<code>String name</code></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057548767-38f9a541-366b-4516-ae37-660d87f86d19.png#id=lv3V1&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>当执行第二句话时，又会再堆内存的常量池中创建一个字符串<code>“程序员”</code>，和<code>“黑马”</code>拼接，拼接之后还会产生一个新的字符串对象<code>”黑马程序员“</code>，然后将新产生的<code>“黑马程序员”</code>对象的地址赋值给<code>String name</code>变量。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057548863-61341c7b-ae68-48cb-b703-6c8172c40b76.png#id=sAPLE&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>此时你会发现，之前创建的字符串对象<code>“黑马”</code>内容确实是没有改变的。所以说String的对象是不可变的。</p>
<ul>
<li><strong>注意事项2：字符串字面量和new出来字符串的区别</strong> <ol>
<li>只要是以<code>“...”</code>方式写出的字符串对象，会存储到字符串常量池，且相同内容的字符串只存储一份。如下图一所示</li>
<li>但通过<code>new</code>方式创建字符串对象，每new一次都会产生一个新的对象放在堆内存中。如下图二所示</li>
</ol>
</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057548998-64c212ef-064c-4972-b89c-c52f1ae39fda.png#id=vU2kH&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057549093-c62939b7-9980-4abb-ad35-5c6dfa7df3ae.png#id=sCdPJ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>总结一下，字符串的注意事项。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> String是不可变字符串对象</span><br><span class="line"><span class="number">2.</span> 只要是以“...”方式写出的字符串对象，会存储到字符串常量池，且相同内容的字符串只存储一份；</span><br><span class="line"><span class="number">3.</span> 但通过<span class="keyword">new</span>方式创建字符串对象，每<span class="keyword">new</span>一次都会产生一个新的对象放在堆内存中。</span><br></pre></td></tr></tbody></table></figure>

<h3 id="5-String案例一：用户登录案例"><a href="#5-String案例一：用户登录案例" class="headerlink" title="5. String案例一：用户登录案例"></a>5. String案例一：用户登录案例</h3><p>接下来给大家做一个案例，使用字符串的功能完成登录案例。案例需求如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057549186-9d18bc18-8747-412c-b320-66d64b9fbc59.png#id=LRarP&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">分析一下完成案例的步骤：</span><br><span class="line">	<span class="number">1.</span>首先，从登录界面上可以得出，需要让用户输入登录名和密码</span><br><span class="line">	<span class="number">2.</span>设计一个登录方法，对用户名和密码进行校验</span><br><span class="line">	<span class="number">3.</span>调用登录方法，根据方法的返回结果，判断登录是否成功。</span><br><span class="line">	<span class="number">4.</span>如果登录失败，循环登录<span class="number">3</span>次，结束循环；如果登录成功，跳出循环;</span><br></pre></td></tr></tbody></table></figure>

<p>案例分析的步骤完成代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   目标：完成用户的登录案例。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringTest4</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、开发一个登录界面</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) {</span><br><span class="line">            <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            System.out.println(<span class="string">"请您输入登录名称："</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">loginName</span> <span class="operator">=</span> sc.next();</span><br><span class="line">            System.out.println(<span class="string">"请您输入登录密码："</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">passWord</span> <span class="operator">=</span> sc.next();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 5、开始调用登录方法，判断是否登录成功</span></span><br><span class="line">            <span class="type">boolean</span> <span class="variable">rs</span> <span class="operator">=</span> login(loginName, passWord);</span><br><span class="line">            <span class="keyword">if</span>(rs){</span><br><span class="line">                System.out.println(<span class="string">"恭喜您，欢迎进入系统~~"</span>);</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// 跳出for循环，代表登录完成</span></span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                System.out.println(<span class="string">"登录名或者密码错误，请您确认~~"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">      2、开发一个登录方法，接收用户的登录名和密码，返回认证的结果</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">login</span><span class="params">(String loginName, String passWord)</span>{</span><br><span class="line">        <span class="comment">// 3、准备一份系统正确的登录名和密码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">okLoginName</span> <span class="operator">=</span> <span class="string">"itheima"</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">okPassWord</span> <span class="operator">=</span> <span class="string">"123456"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、开始正式判断用户是否登录成功</span></span><br><span class="line">        <span class="comment">/*if(okLoginName.equals(loginName) &amp;&amp; okPassWord.equals(passWord)){</span></span><br><span class="line"><span class="comment">            // 登录成功的</span></span><br><span class="line"><span class="comment">            return true;</span></span><br><span class="line"><span class="comment">        }else {</span></span><br><span class="line"><span class="comment">            return false;</span></span><br><span class="line"><span class="comment">        }*/</span></span><br><span class="line">        <span class="keyword">return</span> okLoginName.equals(loginName) &amp;&amp; okPassWord.equals(passWord);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="6-String案例二：随机产生验证码"><a href="#6-String案例二：随机产生验证码" class="headerlink" title="6. String案例二：随机产生验证码"></a>6. String案例二：随机产生验证码</h3><p>接下来学习一个再工作中也比较常见的案例，使用String来开发验证码。需求如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057549282-6ce51a0a-eadd-47e9-acbc-02c274ca0982.png#id=YCKmn&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">根据需求分析，步骤如下：</span><br><span class="line">	<span class="number">1.</span>首先，设计一个方法，该方法接收一个整型参数，最终要返回对应位数的随机验证码。</span><br><span class="line">	<span class="number">2.</span>方法内定义<span class="number">2</span>个字符串变量：</span><br><span class="line">		<span class="number">1</span>个用来记住生成的验证码，<span class="number">1</span>个用来记住要用到的全部字符。</span><br><span class="line">	<span class="number">3.</span>定义<span class="keyword">for</span>循环控制生成多少位随机字符</span><br><span class="line">	<span class="number">4.</span>每次得到一个字符范围内的随机索引</span><br><span class="line">	<span class="number">5.</span>根据索引提取该字符，把该字符交给code变量连接起</span><br><span class="line">	<span class="number">6.</span>循环结束后，在循环外返回code即可。</span><br><span class="line">	<span class="number">7.</span>在主方法中调用生成验证码的方法</span><br></pre></td></tr></tbody></table></figure>

<p>根据步骤完成代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    目标：完成随机产生验证码，验证码的每位可能是数字、大写字母、小写字母</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringTest5</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        System.out.println(createCode(<span class="number">4</span>));</span><br><span class="line">        System.out.println(createCode(<span class="number">6</span>));</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">       1、设计一个方法，返回指定位数的验证码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">createCode</span><span class="params">(<span class="type">int</span> n)</span>{</span><br><span class="line">        <span class="comment">// 2、定义2个变量 </span></span><br><span class="line">        <span class="comment">//一个是记住最终产生的随机验证码 </span></span><br><span class="line">        <span class="comment">//一个是记住可能用到的全部字符</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> <span class="string">""</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> <span class="string">"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="comment">// 3、开始定义一个循环产生每位随机字符</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">            <span class="comment">// 4、随机一个字符范围内的索引。</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> r.nextInt(data.length());</span><br><span class="line">            <span class="comment">// 5、根据索引去全部字符中提取该字符</span></span><br><span class="line">            code += data.charAt(index); <span class="comment">// code = code + 字符</span></span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 6、返回code即可</span></span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>关于String的案例，我们先练习到这里。以后遇到对字符串进行操作的需求，优先找String类有没有提供对应的方法。</p>
<h2 id="四、ArrayList类"><a href="#四、ArrayList类" class="headerlink" title="四、ArrayList类"></a>四、ArrayList类</h2><h3 id="1-ArrayList快速入门"><a href="#1-ArrayList快速入门" class="headerlink" title="1. ArrayList快速入门"></a>1. ArrayList快速入门</h3><p>学习完String类之后，接下来再学习一个类——叫ArrayList。</p>
<p>ArrayList表示一种集合，它是一个容器，用来装数据的，类似于数组。那有了数组，为什么要有集合呢？</p>
<p>因为数组一旦创建大小不变，比如创建一个长度为3的数组，就只能存储3个元素，想要存储第4个元素就不行。而集合是大小可变的，想要存储几个元素就存储几个元素，在实际工作中用得更多。</p>
<p>然后集合有很多种，而ArrayList只是众多集合中的一种，跟多的集合我们在就业班的课程中再学习。如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057549397-c64c7613-debd-485c-9751-47d03b12d0bc.png#id=HCgBt&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>集合该怎么学呢？1. 首先你要会创建集合对象，2. 然后能够调用集合提供的方法对容器中的数据进行增删改查，3. 最后知道集合的一些特点就可以了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057549499-8c2c1f23-36be-4a23-9f26-b7d138eaf92c.png#id=INOLW&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-ArrayList常用方法"><a href="#2-ArrayList常用方法" class="headerlink" title="2. ArrayList常用方法"></a>2. ArrayList常用方法</h3><p>想要使用ArrayList存储数据，并对数据进行操作：</p>
<ul>
<li>第一步：创建ArrayList容器对象。一般使用空参数构造方法，如下图所示： </li>
<li>第二步：调用ArrayList类的常用方法对容器中的数据进行操作。常用方法如下：</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057549595-f6cba151-2fca-4cce-89b8-78b5c506b1cb.png#id=iexW3&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来我们把ArrayList集合的这些方法快速的熟悉一下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">目标：要求同学们掌握如何创建ArrayList集合的对象，并熟悉ArrayList提供的常用方法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayListDemo1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、创建一个ArrayList的集合对象</span></span><br><span class="line">        <span class="comment">// ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();</span></span><br><span class="line">        <span class="comment">// 从jdk 1.7开始才支持的</span></span><br><span class="line">        ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list.add(<span class="string">"黑马"</span>);</span><br><span class="line">        list.add(<span class="string">"黑马"</span>);</span><br><span class="line">        list.add(<span class="string">"Java"</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、往集合中的某个索引位置处添加一个数据</span></span><br><span class="line">        list.add(<span class="number">1</span>, <span class="string">"MySQL"</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、根据索引获取集合中某个索引位置处的值</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> list.get(<span class="number">1</span>);</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、获取集合的大小（返回集合中存储的元素个数）</span></span><br><span class="line">        System.out.println(list.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、根据索引删除集合中的某个元素值，会返回被删除的元素值给我们</span></span><br><span class="line">        System.out.println(list.remove(<span class="number">1</span>));</span><br><span class="line">        System.out.println(list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、直接删除某个元素值，删除成功会返回true，反之</span></span><br><span class="line">        System.out.println(list.remove(<span class="string">"Java"</span>));</span><br><span class="line">        System.out.println(list);</span><br><span class="line"></span><br><span class="line">        list.add(<span class="number">1</span>, <span class="string">"html"</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 默认删除的是第一次出现的这个黑马的数据的</span></span><br><span class="line">        System.out.println(list.remove(<span class="string">"黑马"</span>));</span><br><span class="line">        System.out.println(list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7、修改某个索引位置处的数据，修改后会返回原来的值给我们</span></span><br><span class="line">        System.out.println(list.set(<span class="number">1</span>, <span class="string">"黑马程序员"</span>));</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-ArrayList应用案例1"><a href="#3-ArrayList应用案例1" class="headerlink" title="3. ArrayList应用案例1"></a>3. ArrayList应用案例1</h3><p>接下来，我们学习一个ArrayList的应用案例，需求如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057549688-3b8aae8c-b442-420c-9931-706d0b845bb2.png#id=Sa6cB&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们分析一下这个案例的步骤该如何实现：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>用户可以选购多个商品，可以创建一个ArrayList集合，存储这些商品</span><br><span class="line"><span class="number">2.</span>按照需求，如果用户选择了<span class="string">"枸杞"</span>批量删除，应该删除包含<span class="string">"枸杞"</span>的所有元素</span><br><span class="line">	<span class="number">1</span>)这时应该遍历集合中每一个String类型的元素</span><br><span class="line">	<span class="number">2</span>)使用String类的方法contains判断字符串中是否包含<span class="string">"枸杞"</span></span><br><span class="line">    <span class="number">3</span>)包含就把元素删除</span><br><span class="line"><span class="number">3.</span>输出集合中的元素，看是否包含<span class="string">"枸杞"</span>的元素全部删除</span><br></pre></td></tr></tbody></table></figure>

<p>按照分析的步骤，完成代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayListTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、创建一个ArrayList集合对象</span></span><br><span class="line">        ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">"枸杞"</span>);</span><br><span class="line">        list.add(<span class="string">"Java入门"</span>);</span><br><span class="line">        list.add(<span class="string">"宁夏枸杞"</span>);</span><br><span class="line">        list.add(<span class="string">"黑枸杞"</span>);</span><br><span class="line">        list.add(<span class="string">"人字拖"</span>);</span><br><span class="line">        list.add(<span class="string">"特级枸杞"</span>);</span><br><span class="line">        list.add(<span class="string">"枸杞子"</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        <span class="comment">//运行结果如下： [Java入门, 宁夏枸杞, 黑枸杞, 人字拖, 特级枸杞, 枸杞子]</span></span><br><span class="line">       </span><br><span class="line">        <span class="comment">// 2、开始完成需求：从集合中找出包含枸杞的数据并删除它</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) {</span><br><span class="line">            <span class="comment">// i = 0 1 2 3 4 5</span></span><br><span class="line">            <span class="comment">// 取出当前遍历到的数据</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">ele</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">            <span class="comment">// 判断这个数据中包含枸杞</span></span><br><span class="line">            <span class="keyword">if</span>(ele.contains(<span class="string">"枸杞"</span>)){</span><br><span class="line">                <span class="comment">// 直接从集合中删除该数据</span></span><br><span class="line">                list.remove(ele);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        <span class="comment">//删除后结果如下：[Java入门, 黑枸杞, 人字拖, 枸杞子]</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行完上面代码，我们会发现，删除后的集合中，竟然还有<code>黑枸杞</code>，<code>枸杞子</code>在集合中。这是为什么呢？</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057549827-f52bf1bb-4f20-42ae-a417-e0139fba907e.png#id=NbaKK&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>枸杞子被保留下来，原理是一样的。可以自行分析。</p>
<p>那如何解决这个问题呢？这里打算给大家提供两种解决方案：</p>
<ul>
<li><strong>集合删除元素方式一</strong>：每次删除完元素后，让控制循环的变量<code>i--</code>就可以了；如下图所示</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057549931-e0198598-42b7-4b02-b3ff-91d40eaab40b.png#id=iRQcv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>具体代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式一：每次删除一个数据后，就让i往左边退一步</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) {</span><br><span class="line">    <span class="comment">// i = 0 1 2 3 4 5</span></span><br><span class="line">    <span class="comment">// 取出当前遍历到的数据</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">ele</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">    <span class="comment">// 判断这个数据中包含枸杞</span></span><br><span class="line">    <span class="keyword">if</span>(ele.contains(<span class="string">"枸杞"</span>)){</span><br><span class="line">        <span class="comment">// 直接从集合中删除该数据</span></span><br><span class="line">        list.remove(ele);</span><br><span class="line">        i--;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">System.out.println(list);</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>集合删除元素方式二</strong>：我们只需要倒着遍历集合，在遍历过程中删除元素就可以了</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057550041-b86a72a6-ce4f-4d42-b91e-12b223a58a28.png#id=jjcnc&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057550128-28d703ca-1373-4e85-ac00-dbbde069f0d7.png#id=GHRBw&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057550226-d16ed329-3912-422b-94ef-7f8d0d8fb943.png#id=BZz9E&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057550329-88264f95-e46c-47f4-ac31-77bb2126f4a8.png#id=L2WPT&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>具体代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式二：从集合的后面倒着遍历并删除</span></span><br><span class="line"><span class="comment">// [Java入门, 人字拖]</span></span><br><span class="line"><span class="comment">//   i</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> list.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">    <span class="comment">// 取出当前遍历到的数据</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">ele</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">    <span class="comment">// 判断这个数据中包含枸杞</span></span><br><span class="line">    <span class="keyword">if</span>(ele.contains(<span class="string">"枸杞"</span>)){</span><br><span class="line">        <span class="comment">// 直接从集合中删除该数据</span></span><br><span class="line">        list.remove(ele);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">System.out.println(list);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-ArrayList应用案例2"><a href="#4-ArrayList应用案例2" class="headerlink" title="4. ArrayList应用案例2"></a>4. ArrayList应用案例2</h3><p>各位同学，上一个ArrayList应用案例中，我们往集合存储的元素是String类型的元素，实际上在工作中我们经常往集合中自定义存储对象。</p>
<p>接下来我们做个案例，用来往集合中存储自定义的对象，先阅读下面的案例需求：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057550422-7024e651-3fcf-42d8-9c04-2836c625f7c5.png#id=SvM2c&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>分析需求发现：</p>
<ol>
<li>在外卖系统中，每一份菜都包含，菜品的名称、菜品的原价、菜品的优惠价、菜品的其他信息。那我们就可以定义一个菜品类（Food类），用来描述每一个菜品对象要封装那些数据。</li>
<li>接着再写一个菜品管理类（FoodManager类），提供展示操作界面、上架菜品、浏览菜品的功能。</li>
</ol>
<ul>
<li>首先我们先定义一个菜品类（Food类），用来描述每一个菜品对象要封装那些数据。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Food</span> {</span><br><span class="line">    <span class="keyword">private</span> String name;	<span class="comment">//菜品名称</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> originalPrice; <span class="comment">//菜品原价</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> specialPrice; <span class="comment">//菜品优惠价</span></span><br><span class="line">    <span class="keyword">private</span> String info; <span class="comment">//菜品其他信息</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Food</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Food</span><span class="params">(String name, <span class="type">double</span> originalPrice, <span class="type">double</span> specialPrice, String info)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.originalPrice = originalPrice;</span><br><span class="line">        <span class="built_in">this</span>.specialPrice = specialPrice;</span><br><span class="line">        <span class="built_in">this</span>.info = info;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getOriginalPrice</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> originalPrice;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOriginalPrice</span><span class="params">(<span class="type">double</span> originalPrice)</span> {</span><br><span class="line">        <span class="built_in">this</span>.originalPrice = originalPrice;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getSpecialPrice</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> specialPrice;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSpecialPrice</span><span class="params">(<span class="type">double</span> specialPrice)</span> {</span><br><span class="line">        <span class="built_in">this</span>.specialPrice = specialPrice;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getInfo</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> info;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setInfo</span><span class="params">(String info)</span> {</span><br><span class="line">        <span class="built_in">this</span>.info = info;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>接下来写一个菜品管理类，提供<strong>上架菜品的功能、浏览菜品的功能、展示操作界面的功能。</strong></li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FoodManager</span>{</span><br><span class="line">    <span class="comment">//为了存储多个菜品，预先创建一个ArrayList集合；</span></span><br><span class="line">    <span class="comment">//上架菜品时，其实就是往集合中添加菜品对象</span></span><br><span class="line">    <span class="comment">//浏览菜品时，其实就是遍历集合中的菜品对象，并打印菜品对象的属性信息。</span></span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;Food&gt; foods = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(); </span><br><span class="line">    <span class="comment">//为了在下面的多个方法中，能够使用键盘录入，提前把Scanner对象创建好；</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">   </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     1、商家上架菜品</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"===菜品上架=="</span>);</span><br><span class="line">        <span class="comment">// 2、提前创建一个菜品对象，用于封装用户上架的菜品信息</span></span><br><span class="line">        <span class="type">Food</span> <span class="variable">food</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Food</span>();</span><br><span class="line">        System.out.println(<span class="string">"请您输入上架菜品的名称："</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> sc.next();</span><br><span class="line">        food.setName(name);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"请您输入上架菜品的原价："</span>);</span><br><span class="line">        <span class="type">double</span> <span class="variable">originalPrice</span> <span class="operator">=</span> sc.nextDouble();</span><br><span class="line">        food.setOriginalPrice(originalPrice);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"请您输入上架菜品的优惠价："</span>);</span><br><span class="line">        <span class="type">double</span> <span class="variable">specialPrice</span> <span class="operator">=</span> sc.nextDouble();</span><br><span class="line">        food.setSpecialPrice(specialPrice);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"请您输入上架菜品的其他信息："</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">info</span> <span class="operator">=</span> sc.next();</span><br><span class="line">        food.setInfo(info);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、把菜品对象添加到集合容器中去</span></span><br><span class="line">        foods.add(food);</span><br><span class="line">        System.out.println(<span class="string">"恭喜您，上架成功~~~"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">       2、菜品；浏览功能</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printAllFoods</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"==当前菜品信息如下：=="</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; foods.size(); i++) {</span><br><span class="line">            <span class="type">Food</span> <span class="variable">food</span> <span class="operator">=</span> foods.get(i);</span><br><span class="line">            System.out.println(<span class="string">"菜品名称："</span> + food.getName());</span><br><span class="line">            System.out.println(<span class="string">"菜品原价："</span> + food.getOriginalPrice());</span><br><span class="line">            System.out.println(<span class="string">"菜品优惠价："</span> + food.getSpecialPrice());</span><br><span class="line">            System.out.println(<span class="string">"其他描述信息："</span> + food.getInfo());</span><br><span class="line">            System.out.println(<span class="string">"------------------------"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    3、专门负责展示系统界面的</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>{</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            System.out.println(<span class="string">"====欢迎进入商家后台管理系统====="</span>);</span><br><span class="line">            System.out.println(<span class="string">"1、上架菜品（add）"</span>);</span><br><span class="line">            System.out.println(<span class="string">"2、浏览菜品（query）"</span>);</span><br><span class="line">            System.out.println(<span class="string">"3、退出系统（exit）"</span>);</span><br><span class="line">            System.out.println(<span class="string">"请您选择操作命令："</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">command</span> <span class="operator">=</span> sc.next();</span><br><span class="line">            <span class="keyword">switch</span> (command) {</span><br><span class="line">                <span class="keyword">case</span> <span class="string">"add"</span>:</span><br><span class="line">                    add();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">"query"</span>:</span><br><span class="line">                    printAllFoods();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">"exit"</span>:</span><br><span class="line">                    <span class="keyword">return</span>; <span class="comment">// 结束当前方法！</span></span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    System.out.println(<span class="string">"您输入的操作命令有误~~"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>最后在写一个测试类Test，在测试类中进行测试。其实测试类，只起到一个启动程序的作用。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">FoodManager</span> <span class="variable">manager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FoodManager</span>();</span><br><span class="line">        manager.start();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行结果如下：需要用户输入add、query或者exit，选择进入不同的功能。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057550539-ab6fcdbe-5ebb-4e0e-904a-e56ae3e61b7f.png#id=EGPSb&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>好了，如果你能够把这个案例写出来，说明你对面向对象的思维封装数据，以及使用ArrayList容器存储数据，并对数据进行处理这方面的知识已经运用的很熟悉了。</p>
<h1 id="day09——Java基础项目（ATM系统）"><a href="#day09——Java基础项目（ATM系统）" class="headerlink" title="day09——Java基础项目（ATM系统）"></a>day09——Java基础项目（ATM系统）</h1><p>各位同学，恭喜大家，学完前面的课程内容之后，就算对Java语言开发程序成功入门了。接下来我们就可以使用Java语言开发一个小项目了——ATM系统。</p>
<h2 id="一、ATM项目介绍"><a href="#一、ATM项目介绍" class="headerlink" title="一、ATM项目介绍"></a>一、ATM项目介绍</h2><p><strong>1. ATM系统功能介绍</strong></p>
<p>大家都应该去过银行的ATM机上取过钱，每次取钱的时候，首先需要用户把卡插入机器，然后机器会自动读取你的卡号，由用户输入密码，如果密码校验通过，就会进入ATM机的主操作界面：<strong>有查询、取款、存款、转账等业务功能</strong>，用户选择哪个功能就执行对应预先设定好的程序。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057550639-0c2eff76-7c32-4b8b-93c9-40d66129fdfa.png#id=v2UhI&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>由于没有图形化界面编程，所以我们是做不出界面效果的，但是我们可以在控制台模拟ATM机的各项功能。</p>
<p>如下图所示：运行程序时，进入登录界面，在此界面可以登录、或者开户。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057550838-35c6cd07-5497-46d4-aaeb-47b2503b9ebf.png#id=xy8qb&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>在登录界面，如果用户录入2就进入<strong>用户开户</strong>的功能：如下图所示</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057550942-9b567618-b518-4ed5-9074-5667a8654339.png#id=Td5nV&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>在登录界面，如果用户录入1就进入<strong>用户登录</strong>的功能：如下图所示：</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551028-608265ab-b1a3-4f92-9725-b971fb4387b6.png#id=kaGEb&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>各位同学，你可能会觉得这个案例功能怎么这么多啊！ 太复杂了，其实也没你想得那么复杂。接下来，我将手把手带领大家把这个ATM系统完成。</p>
<p><strong>2. ATM系统中我们会用到哪些技术呢？</strong></p>
<p>如下图所示：该项目涵盖了我们前面所学习的所有知识点，包括面向对象编程、集合容器的使用、流程控制、常用的API（比如String的运用）等。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551115-9a8e733f-deea-42ef-8caf-a217fd8e1997.png#id=SV5Qb&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>3. 完成ATM系统，我们能收获什么</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551198-0e678a09-c05d-4cd1-aae7-fad485593e61.png#id=jDGOs&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="二、项目架构搭建、欢迎界面设计"><a href="#二、项目架构搭建、欢迎界面设计" class="headerlink" title="二、项目架构搭建、欢迎界面设计"></a>二、项目架构搭建、欢迎界面设计</h2><p>接下来，我们带着大家开始开发这个ATM系统。首先我们来完成项目的架构搭建、和欢迎界面的设计。</p>
<p>首先我们来分析一下，开发这个ATM系统的流程：</p>
<ul>
<li>由于每一个账户都包含一些个人信息，比如：卡号、姓名、性别、密码、余额、每次取现额度等等。所以，首先可以设计一个Account类，用来描述账户对象需要封装那些数据。 </li>
<li>紧接着，定义一个ATM类，用来表示ATM系统，负责提供所有的业务需求。<br>比如：展示ATM系统的欢迎页面、开户、登录、转账等功能。 </li>
<li>最后，定义一个测试类Test，负责启动我们开发好的ATM系统，进行测试。</li>
</ul>
<blockquote>
<p>第一步：先来完成Account类的编写</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先可以设计一个Account类，来描述账户对象需要封装哪些数据。</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> {</span><br><span class="line">    <span class="keyword">private</span> String cardId; <span class="comment">//卡号</span></span><br><span class="line">    <span class="keyword">private</span> String userName; <span class="comment">//用户名</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">char</span> sex; <span class="comment">//性别</span></span><br><span class="line">    <span class="keyword">private</span> String passWord;<span class="comment">//密码</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> money; <span class="comment">//余额</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> limit; <span class="comment">// 限额</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCardId</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> cardId;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCardId</span><span class="params">(String cardId)</span> {</span><br><span class="line">        <span class="built_in">this</span>.cardId = cardId;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUserName</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> userName + ( sex  == <span class="string">'男'</span> ? <span class="string">"先生"</span> : <span class="string">"女士"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserName</span><span class="params">(String userName)</span> {</span><br><span class="line">        <span class="built_in">this</span>.userName = userName;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">getSex</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSex</span><span class="params">(<span class="type">char</span> sex)</span> {</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassWord</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> passWord;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassWord</span><span class="params">(String passWord)</span> {</span><br><span class="line">        <span class="built_in">this</span>.passWord = passWord;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getMoney</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMoney</span><span class="params">(<span class="type">double</span> money)</span> {</span><br><span class="line">        <span class="built_in">this</span>.money = money;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getLimit</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> limit;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLimit</span><span class="params">(<span class="type">double</span> limit)</span> {</span><br><span class="line">        <span class="built_in">this</span>.limit = limit;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>第二步：编写一个ATM类，负责对每一个账户对象进行管理</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ATM</span> {</span><br><span class="line">    <span class="comment">//创建一个存储账户对象的集合；后面每开一个账户，就往集合中添加一个账户对象</span></span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;Account&gt; accounts = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>第三步：在ATM类中，编写欢迎界面</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ATM</span> {</span><br><span class="line">    <span class="comment">//创建一个存储账户对象的集合；后面每开一个账户，就往集合中添加一个账户对象</span></span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;Account&gt; accounts = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(); </span><br><span class="line">    <span class="comment">//为了后面键盘录入方便一点，先创建好一个Scanner对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**启动ATM系统 展示欢迎界面 */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>{</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            System.out.println(<span class="string">"===欢迎您进入到了ATM系统==="</span>);</span><br><span class="line">            System.out.println(<span class="string">"1、用户登录"</span>);</span><br><span class="line">            System.out.println(<span class="string">"2、用户开户"</span>);</span><br><span class="line">            System.out.println(<span class="string">"请选择："</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">command</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            <span class="keyword">switch</span> (command){</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    <span class="comment">// 用户登录</span></span><br><span class="line">                    System.out.println(<span class="string">"进入登录功能"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    <span class="comment">// 用户开户</span></span><br><span class="line">                   	System.out.println(<span class="string">"进入开户功能"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    System.out.println(<span class="string">"没有该操作~~"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="三、开户功能实现"><a href="#三、开户功能实现" class="headerlink" title="三、开户功能实现"></a>三、开户功能实现</h2><p>接下来，我们完成<strong>开户功能</strong>的实现。需求如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551319-c5d25713-59e1-4902-bfcf-27a1916ffc25.png#id=YgQdn&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>为了系统的代码结构更加清晰，在ATM类中，写一个开户的方法。</p>
<p>步骤如下：</p>
<blockquote>
<ul>
<li>1、创建一个账户对象，用于封装用户的开户信息</li>
<li>2、需要用户输入自己的开户信息，赋值给账户对象 <ul>
<li>输入账户名，设置给账户对象</li>
<li>输入性别，如果性别是<code>'男'</code>或者<code>'女'</code>，将性别设置给账户对象；否则重新录入性别知道录入正确为止。</li>
<li>输入账户、并且输入两次密码，只有两次密码相同，才将账户和密码设置给账户对象。</li>
<li>输入提现限额，并且设置给账户对象</li>
</ul>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>3、输出开户成功，的提示语句。</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 完成用户开户操作  */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">createAccount</span><span class="params">()</span>{</span><br><span class="line">    System.out.println(<span class="string">"==系统开户操作=="</span>);</span><br><span class="line">    <span class="comment">// 1、创建一个账户对象，用于封装用户的开户信息</span></span><br><span class="line">    <span class="type">Account</span> <span class="variable">acc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、需要用户输入自己的开户信息，赋值给账户对象</span></span><br><span class="line">    System.out.println(<span class="string">"请您输入您的账户名称："</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> sc.next();</span><br><span class="line">    acc.setUserName(name);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">        System.out.println(<span class="string">"请您输入您的性别："</span>);</span><br><span class="line">        <span class="type">char</span> <span class="variable">sex</span> <span class="operator">=</span> sc.next().charAt(<span class="number">0</span>); <span class="comment">// "男"</span></span><br><span class="line">        <span class="keyword">if</span>(sex == <span class="string">'男'</span> || sex == <span class="string">'女'</span>){</span><br><span class="line">            acc.setSex(sex);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            System.out.println(<span class="string">"您输入的性别有误~只能是男或者女~"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">        System.out.println(<span class="string">"请您输入您的账户密码："</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">passWord</span>  <span class="operator">=</span> sc.next();</span><br><span class="line">        System.out.println(<span class="string">"请您输入您的确认密码："</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">okPassWord</span>  <span class="operator">=</span> sc.next();</span><br><span class="line">        <span class="comment">// 判断2次密码是否一样。</span></span><br><span class="line">        <span class="keyword">if</span>(okPassWord.equals(passWord)){</span><br><span class="line">            acc.setPassWord(okPassWord);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            System.out.println(<span class="string">"您输入的2次密码不一致，请您确认~~"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"请您输入您的取现额度："</span>);</span><br><span class="line">    <span class="type">double</span> <span class="variable">limit</span> <span class="operator">=</span> sc.nextDouble();</span><br><span class="line">    acc.setLimit(limit);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重点：我们需要为这个账户生成一个卡号（由系统自动生成。8位数字表示，不能与其他账户的卡号重复：会在下节课详细讲解）</span></span><br><span class="line">    <span class="comment">//TODO 这里先留着，待会把生成卡号的功能写好，再到这里调用</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、把这个账户对象，存入到账户集合中去</span></span><br><span class="line">    accounts.add(acc);</span><br><span class="line">    System.out.println(<span class="string">"恭喜您，"</span> + acc.getUserName() + <span class="string">"开户成功，您的卡号是："</span> + acc.getCardId());</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>到这里，开户功能其实只完成的一大半。如果细心的同学可能会发现，开户功能中并没有给账户设置卡号。</p>
<p>因为生成卡号比较麻烦，所以在下一节，我们单独来写一个方法用于生成卡号。</p>
<h2 id="四、生成卡号"><a href="#四、生成卡号" class="headerlink" title="四、生成卡号"></a>四、生成卡号</h2><p>各位同学，刚才在完成开户功能的时候，并没有生成卡号，所以我们接着把生成卡号的功能完成。</p>
<blockquote>
<p>第一步：先在ATM类中，写一个判断卡号是否存在的功能。</p>
<ul>
<li>遍历存储Account对象的集合，得到每一个Account对象，获取对象的卡号 </li>
<li>如果卡号存在，返回该卡号对应的Account对象 </li>
<li>如果卡号不存在，返回null</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 根据卡号查询账户对象返回 accounts = [c1, c2, c3 ...]*/</span></span><br><span class="line"><span class="keyword">private</span> Account <span class="title function_">getAccountByCardId</span><span class="params">(String cardId)</span>{</span><br><span class="line">    <span class="comment">// 遍历全部的账户对象</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; accounts.size(); i++) {</span><br><span class="line">        <span class="type">Account</span> <span class="variable">acc</span> <span class="operator">=</span> accounts.get(i);</span><br><span class="line">        <span class="comment">// 判断这个账户对象acc中的卡号是否是我们要找的卡号</span></span><br><span class="line">        <span class="keyword">if</span>(acc.getCardId().equals(cardId)){</span><br><span class="line">            <span class="keyword">return</span> acc;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>; <span class="comment">// 查无此账户，这个卡号不存在的</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>第二步：再在ATM类中，写一个生成卡号的功能</p>
<ul>
<li>1、先随机产生8个[0,9]范围内的随机数，拼接成一个字符串</li>
<li>2、然后再调用getAccountByCardId方法，判断这个卡号字符串是否存在</li>
<li>3、判断生成的卡号是否存在</li>
<li>如果生成的卡号不存在，说明生成的卡号是有效的，把卡号返回，</li>
<li>如果生成的卡号存在，说明生成的卡号无效，循环继续生产卡号。</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 返回一个8位 数字的卡号，而且这个卡号不能与其他账户的卡号重复 */</span></span><br><span class="line"><span class="keyword">private</span> String <span class="title function_">createCardId</span><span class="params">()</span>{</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">        <span class="comment">// 1、定义一个String类型的变量记住8位数字作为一个卡号</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">cardId</span> <span class="operator">=</span> <span class="string">""</span>;</span><br><span class="line">        <span class="comment">// 2、使用循环，循环8次，每次产生一个随机数给cardId连接起来</span></span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">data</span> <span class="operator">=</span> r.nextInt(<span class="number">10</span>); <span class="comment">// 0 - 9</span></span><br><span class="line">            cardId += data;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 3、判断cardId中记住的卡号，是否与其他账户的卡号重复了，没有重复，才可以做为一个新卡号返回。</span></span><br><span class="line">        <span class="type">Account</span> <span class="variable">acc</span> <span class="operator">=</span> getAccountByCardId(cardId);</span><br><span class="line">        <span class="keyword">if</span>(acc == <span class="literal">null</span>){</span><br><span class="line">            <span class="comment">// 说明cardId没有找到账户对象，因此cardId没有与其他账户的卡号重复，可以返回它做为一个新卡号</span></span><br><span class="line">            <span class="keyword">return</span> cardId;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>写完生成卡号的功能后，在开户功能的<code>TODO</code>位置，调用生成卡号的功能，并且将生成的卡号设置到账户对象中。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551423-744ee616-c5f8-4a5c-8f3d-9d41ecaedaa8.png#id=XYbj2&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="五、登录功能"><a href="#五、登录功能" class="headerlink" title="五、登录功能"></a>五、登录功能</h2><p>各位同学，在上面我们已经完成了开户功能。接下来我们来编写登录功能，编写登录功能的时候我们要满足一下需求：</p>
<p>① 如果系统没有任何账户对象，则不允许登录。</p>
<p>② 让用户输入登录的卡号，先判断卡号是否正确，如果不正确要给出提示。</p>
<p>③ 如果卡号正确，再让用户输入账户密码，如果密码不正确要给出提示，如果密码也正确，则给出登录成功的提示。</p>
<blockquote>
<p>登录功能具体实现步骤如下：</p>
<ul>
<li>1、判断系统中是否存在账户对象，存在才能登录，如果不存在，我们直接结束登录操作</li>
<li>2、输入登录的卡号，并判断卡号是否存在</li>
<li>3、如果卡号不存在，直接给出提示</li>
<li>4、如果卡号存在，接着输入用户密码，并判断密码是否正确</li>
<li>5、如果密码也正确，则登录成功，并且记录当前的登录账户</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 完成用户的登录操作 */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">()</span>{</span><br><span class="line">    System.out.println(<span class="string">"==系统登录=="</span>);</span><br><span class="line">    <span class="comment">// 1、判断系统中是否存在账户对象，存在才能登录，如果不存在，我们直接结束登录操作</span></span><br><span class="line">    <span class="keyword">if</span>(accounts.size() == <span class="number">0</span>){</span><br><span class="line">        System.out.println(<span class="string">"当前系统中无任何账户，请先开户再来登录~~"</span>);</span><br><span class="line">        <span class="keyword">return</span>; <span class="comment">// 跳出登录操作。</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、系统中存在账户对象，可以开始进行登录操作了</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">        System.out.println(<span class="string">"请您输入您的登录卡号："</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">cardId</span> <span class="operator">=</span> sc.next();</span><br><span class="line">        <span class="comment">// 3、判断这个卡号是否存在啊？</span></span><br><span class="line">        <span class="type">Account</span> <span class="variable">acc</span> <span class="operator">=</span> getAccountByCardId(cardId);</span><br><span class="line">        <span class="keyword">if</span>(acc == <span class="literal">null</span>){</span><br><span class="line">            <span class="comment">// 说明这个卡号不存在。</span></span><br><span class="line">            System.out.println(<span class="string">"您输入的登录卡号不存在，请确认~~"</span>);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">                <span class="comment">// 卡号存在了，接着让用户输入密码</span></span><br><span class="line">                System.out.println(<span class="string">"请您输入登录密码："</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">passWord</span> <span class="operator">=</span> sc.next();</span><br><span class="line">                <span class="comment">// 4、判断密码是否正确</span></span><br><span class="line">                <span class="keyword">if</span>(acc.getPassWord().equals(passWord)){</span><br><span class="line">                    loginAcc = acc;</span><br><span class="line">                    <span class="comment">// 密码正确了，登录成功了</span></span><br><span class="line">                    System.out.println(<span class="string">"恭喜您，"</span> + acc.getUserName() + <span class="string">"成功登录了系统，您的卡号是："</span> + acc.getCardId());</span><br><span class="line">                    <span class="comment">//TODO 把展示登录界面的功能写成一个方法，写好了再回来调用。                   </span></span><br><span class="line">                    <span class="keyword">return</span>; <span class="comment">// 跳出并结束当前登录方法</span></span><br><span class="line">                }<span class="keyword">else</span> {</span><br><span class="line">                    System.out.println(<span class="string">"您输入的密码不正确，请确认~~"</span>);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="六、展示用户操作界面"><a href="#六、展示用户操作界面" class="headerlink" title="六、展示用户操作界面"></a>六、展示用户操作界面</h2><p>登录成功之后，需要显示登录后的用户操作界面。效果如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551028-608265ab-b1a3-4f92-9725-b971fb4387b6.png#id=E0HXA&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>写成一个方法，用来展示登录成功的操作界面，代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 展示登录后的操作界面的 */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">showUserCommand</span><span class="params">()</span>{</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">        System.out.println(loginAcc.getUserName() + <span class="string">"您可以选择如下功能进行账户的处理===="</span>);</span><br><span class="line">        System.out.println(<span class="string">"1、查询账户"</span>);</span><br><span class="line">        System.out.println(<span class="string">"2、存款"</span>);</span><br><span class="line">        System.out.println(<span class="string">"3、取款"</span>);</span><br><span class="line">        System.out.println(<span class="string">"4、转账"</span>);</span><br><span class="line">        System.out.println(<span class="string">"5、密码修改"</span>);</span><br><span class="line">        System.out.println(<span class="string">"6、退出"</span>);</span><br><span class="line">        System.out.println(<span class="string">"7、注销当前账户"</span>);</span><br><span class="line">        System.out.println(<span class="string">"请选择："</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">command</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="keyword">switch</span> (command){</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="comment">//TODO 查询当前账户</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="comment">//TODO 存款</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="comment">//TODO取款</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                <span class="comment">//TOD 转账</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                <span class="comment">//TODO 密码修改</span></span><br><span class="line">                <span class="keyword">return</span>;<span class="comment">// 跳出并结束当前方法</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">                <span class="comment">//TODO 退出</span></span><br><span class="line">                System.out.println(loginAcc.getUserName() + <span class="string">"您退出系统成功！"</span>);</span><br><span class="line">                <span class="keyword">return</span>; <span class="comment">// 跳出并结束当前方法</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">                <span class="comment">// 注销当前登录的账户</span></span><br><span class="line">                <span class="keyword">if</span>(deleteAccount()){</span><br><span class="line">                    <span class="comment">// 销户成功了，回到欢迎界面</span></span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                System.out.println(<span class="string">"您当前选择的操作是不存在的，请确认~~"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>写好用户操作界面的方法之后，再到登录成功的位置调用，登录成功后，马上显示用户操作界面。刚才在哪里打了一个<code>TODO</code>标记的，回去找找。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551533-03857c68-819d-4935-a998-4eca80ce0703.png#id=aKLi8&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>到这里，登录功能就写好了。</p>
<h2 id="六、查询账户、退出"><a href="#六、查询账户、退出" class="headerlink" title="六、查询账户、退出"></a>六、查询账户、退出</h2><ul>
<li>查询账户：在用户操作界面，选择1查询当前账户信息。效果如下：</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551624-e28d704e-3822-41ff-bc47-6b4b7a508f11.png#id=IM6IU&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>登录成功的时候，已经把当前账户对象用一个成员变量存储了 ，所以直接按照如下格式打印账户对象的属性信息即可。</p>
<p>这里也写成一个方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">展示当前登录的账户信息</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">showLoginAccount</span><span class="params">()</span>{</span><br><span class="line">    System.out.println(<span class="string">"==当前您的账户信息如下：=="</span>);</span><br><span class="line">    System.out.println(<span class="string">"卡号："</span> + loginAcc.getCardId());</span><br><span class="line">    System.out.println(<span class="string">"户主："</span> + loginAcc.getUserName());</span><br><span class="line">    System.out.println(<span class="string">"性别："</span> + loginAcc.getSex());</span><br><span class="line">    System.out.println(<span class="string">"余额："</span> + loginAcc.getMoney());</span><br><span class="line">    System.out.println(<span class="string">"每次取现额度："</span> + loginAcc.getLimit());</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>写好方法之后，到用户操作界面调用。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551724-63d0f55e-9b2e-4f2b-b8a4-6cdf38994cc5.png#id=JbvXC&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>退出功能：其实就是将ATM系统中，在用户界面选择6时，直接结束程序。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551821-9876d031-a8e2-4493-88bf-d469105cc978.png#id=tixFX&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="七、存款"><a href="#七、存款" class="headerlink" title="七、存款"></a>七、存款</h2><p>各位同学，接下来来完成存款操作。</p>
<blockquote>
<h2 id="我们把存款功能也写成一个方法，具体步骤如下："><a href="#我们把存款功能也写成一个方法，具体步骤如下：" class="headerlink" title="我们把存款功能也写成一个方法，具体步骤如下：
 "></a>我们把存款功能也写成一个方法，具体步骤如下：
 </h2><ol>
<li>键盘录入要存入的金额</li>
</ol>
</blockquote>
<blockquote>
<ul>
<li><ol start="2">
<li>在原有余额的基础上，加上存入金额，得到新的余额</li>
</ol>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><ol start="3">
<li>再将新的余额设置给当前账户对象</li>
</ol>
</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 存钱 */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">depositMoney</span><span class="params">()</span> {</span><br><span class="line">    System.out.println(<span class="string">"==存钱操作=="</span>);</span><br><span class="line">    System.out.println(<span class="string">"请您输入存款金额："</span>);</span><br><span class="line">    <span class="type">double</span> <span class="variable">money</span> <span class="operator">=</span> sc.nextDouble();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 更新当前登录的账户的余额。</span></span><br><span class="line">    loginAcc.setMoney(loginAcc.getMoney() + money);</span><br><span class="line">    System.out.println(<span class="string">"恭喜您，您存钱："</span> + money + <span class="string">"成功，存钱后余额是："</span> + loginAcc.getMoney());</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>写好存款的方法之后，在<code>case 2:</code>的下面调用<code>depositMoney()</code>方法</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551903-46c53369-ca94-4b8c-9ca3-598edcefd784.png#id=pqtJJ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>到这里，存款功能就写好了。</p>
<h2 id="八、取款"><a href="#八、取款" class="headerlink" title="八、取款"></a>八、取款</h2><p>各位同学，接下来我们写一下取款的功能。</p>
<blockquote>
<p>把取款的功能也写成一个方法，具体步骤如下</p>
<ul>
<li>1、判断账户余额是否达到了100元，如果不够100元，就不让用户取钱了 </li>
<li>2、让用户输入取款金额 </li>
<li>3、判断账户余额是否足够 <ul>
<li>如果余额足够， 继续判断当前取款金额是否超过了每次限额 <ul>
<li>如果超过限额，提示“每次只能取xxx限额的钱” </li>
<li>如果不超过限额，则在当前余额上减去取钱的金额，得到新的余额<br>并将新的余额设置给账户对象。</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>如果余额不足，提示“你的余额不足，你的账户余额是xxx元”</li>
</ul>
</blockquote>
<p>按照上面分析的步骤，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 取钱 */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">drawMoney</span><span class="params">()</span> {</span><br><span class="line">    System.out.println(<span class="string">"==取钱操作=="</span>);</span><br><span class="line">    <span class="comment">// 1、判断账户余额是否达到了100元，如果不够100元，就不让用户取钱了</span></span><br><span class="line">    <span class="keyword">if</span>(loginAcc.getMoney() &lt; <span class="number">100</span>){</span><br><span class="line">        System.out.println(<span class="string">"您的账户余额不足100元，不允许取钱~~"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、让用户输入取款金额</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">        System.out.println(<span class="string">"请您输入取款金额："</span>);</span><br><span class="line">        <span class="type">double</span> <span class="variable">money</span> <span class="operator">=</span> sc.nextDouble();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、判断账户余额是否足够</span></span><br><span class="line">        <span class="keyword">if</span>(loginAcc.getMoney() &gt;= money){</span><br><span class="line">            <span class="comment">// 账户中的余额是足够的</span></span><br><span class="line">            <span class="comment">// 4、判断当前取款金额是否超过了每次限额</span></span><br><span class="line">            <span class="keyword">if</span>(money &gt; loginAcc.getLimit()){</span><br><span class="line">                System.out.println(<span class="string">"您当前取款金额超过了每次限额，您每次最多可取："</span> + loginAcc.getLimit());</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="comment">// 代表可以开始取钱了。更新当前账户的余额即可</span></span><br><span class="line">                loginAcc.setMoney(loginAcc.getMoney() - money);</span><br><span class="line">                System.out.println(<span class="string">"您取款："</span> + money + <span class="string">"成功，取款后您剩余："</span> + loginAcc.getMoney());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            System.out.println(<span class="string">"余额不足，您的账户中的余额是："</span> + loginAcc.getMoney());</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>写好取钱方法之后，在<code>case 3:</code>的位置调用<code>drawMoney()</code>方法</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057551996-48a5320f-5969-40b9-a6ea-f2d8bdb9331c.png#id=EmShk&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="九、转账"><a href="#九、转账" class="headerlink" title="九、转账"></a>九、转账</h2><p>各位同学，接下来我们来编写转账的功能。转账的意思就是，将一个账户的钱转入另一个账，具体的转账逻辑如下：</p>
<blockquote>
<p>我们把转账功能也写成一个方法</p>
<ul>
<li>1、判断系统中是否存在其他账户 </li>
<li>2、判断自己的账户中是否有钱 </li>
<li>3、真正开始转账了，输入对方卡号 </li>
<li>4、判断对方卡号是否正确啊？ </li>
<li>5、如果卡号正确，就继续让用户输入姓氏， 并判断这个姓氏是否正确？ <ul>
<li>如果姓氏不正确，给出提示“对不起，您姓氏有问题，转账失败！”</li>
</ul>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>6、如果姓氏正确，继续判断这个转账金额是否超过自己的余额。 <ul>
<li>如果转账金额超过余额，给出提示“对不起，余额不足，转账失败！”</li>
</ul>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>7、如果对方卡号存在、姓氏匹配、余额足够，就完成真正的转账操作 <ul>
<li>获取当前自己账户的余额，减去转账金额，就可以得到自己账户新的余额，<br>并将新的余额，设置给当前账户 </li>
<li>并且获取对方的账户余额，加上转账金额，就可以得到对方账户新的余额，<br>并将新的余额，设置给对方账户 </li>
<li>给出提示：“您转账成功了~~~”</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 转账 */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">transferMoney</span><span class="params">()</span> {</span><br><span class="line">    System.out.println(<span class="string">"==用户转账=="</span>);</span><br><span class="line">    <span class="comment">// 1、判断系统中是否存在其他账户。</span></span><br><span class="line">    <span class="keyword">if</span>(accounts.size() &lt; <span class="number">2</span>){</span><br><span class="line">        System.out.println(<span class="string">"当前系统中只有你一个账户，无法为其他账户转账~~"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、判断自己的账户中是否有钱</span></span><br><span class="line">    <span class="keyword">if</span>(loginAcc.getMoney() == <span class="number">0</span>){</span><br><span class="line">        System.out.println(<span class="string">"您自己都没钱，就别转了~~"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">        <span class="comment">// 3、真正开始转账了</span></span><br><span class="line">        System.out.println(<span class="string">"请您输入对方的卡号："</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">cardId</span> <span class="operator">=</span> sc.next();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、判断这个卡号是否正确啊？？</span></span><br><span class="line">        <span class="type">Account</span> <span class="variable">acc</span> <span class="operator">=</span> getAccountByCardId(cardId);</span><br><span class="line">        <span class="keyword">if</span>(acc == <span class="literal">null</span>){</span><br><span class="line">            System.out.println(<span class="string">"您输入的对方的卡号不存在~~"</span>);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            <span class="comment">// 对方的账户存在，继续让用户认证姓氏。</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">"*"</span> + acc.getUserName().substring(<span class="number">1</span>); <span class="comment">// * + 马刘德华</span></span><br><span class="line">            System.out.println(<span class="string">"请您输入【"</span> + name + <span class="string">"】的姓氏："</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">preName</span> <span class="operator">=</span> sc.next();</span><br><span class="line">            <span class="comment">// 5、判断这个姓氏是否正确啊</span></span><br><span class="line">            <span class="keyword">if</span>(acc.getUserName().startsWith(preName)) {</span><br><span class="line">                <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">                    <span class="comment">// 认证通过了：真正转账了</span></span><br><span class="line">                    System.out.println(<span class="string">"请您输入转账给对方的金额："</span>);</span><br><span class="line">                    <span class="type">double</span> <span class="variable">money</span> <span class="operator">=</span> sc.nextDouble();</span><br><span class="line">                    <span class="comment">// 6、判断这个金额是否没有超过自己的余额。</span></span><br><span class="line">                    <span class="keyword">if</span>(loginAcc.getMoney() &gt;= money){</span><br><span class="line">                        <span class="comment">// 7、转给对方了</span></span><br><span class="line">                        <span class="comment">// 更新自己的账户余额</span></span><br><span class="line">                        loginAcc.setMoney(loginAcc.getMoney() - money);</span><br><span class="line">                        <span class="comment">// 更新对方的账户余额</span></span><br><span class="line">                        acc.setMoney(acc.getMoney() + money);</span><br><span class="line">                        System.out.println(<span class="string">"您转账成功了~~~"</span>);</span><br><span class="line">                        <span class="keyword">return</span>; <span class="comment">// 跳出转账方法。。</span></span><br><span class="line">                    }<span class="keyword">else</span> {</span><br><span class="line">                        System.out.println(<span class="string">"您余额不足，无法给对方转这么多钱，最多可转："</span> + loginAcc.getMoney());</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                System.out.println(<span class="string">"对不起，您认证的姓氏有问题~~"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>写好修改转账功能之后，在<code>case 4:</code>这里调用。如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057552089-05ea717a-4357-4160-b05b-1ef74af2b6e3.png#id=sjC11&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>到这里，转账功能就写好了。</p>
<h2 id="十、修改密码"><a href="#十、修改密码" class="headerlink" title="十、修改密码"></a>十、修改密码</h2><p>各位同学，接下来我们完成修改密码的功能。</p>
<blockquote>
<p>把修改密码的功能也是写成一个方法，具体步骤如下</p>
<ul>
<li>1、提醒用户输入当前密码 </li>
<li>2、认证当前密码是否正确 <ul>
<li>如果认证密码错误，提示“您当前输入的密码不正确~~”；重新输入密码，再次认证密码是否正确。</li>
</ul>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>3、如果认证密码正确，开始修改密码，修改密码时需要用户输入2次新密码 </li>
<li>4、判断2次 密码是否一致 <ul>
<li>如果两次密码一致，就将新密码设置给当前账户对象，密码修改成功</li>
<li>如果两次密码不一直，则给出提示“您输入的2次密码不一致~~”；重新输入新密码，并确认密码。</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 账户密码修改 */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">updatePassWord</span><span class="params">()</span> {</span><br><span class="line">    System.out.println(<span class="string">"==账户密码修改操作=="</span>);</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">        <span class="comment">// 1、提醒用户认证当前密码</span></span><br><span class="line">        System.out.println(<span class="string">"请您输入当前账户的密码："</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">passWord</span> <span class="operator">=</span> sc.next();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、认证当前密码是否正确啊</span></span><br><span class="line">        <span class="keyword">if</span>(loginAcc.getPassWord().equals(passWord)){</span><br><span class="line">            <span class="comment">// 认证通过</span></span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">                <span class="comment">// 3、真正开始修改密码了</span></span><br><span class="line">                System.out.println(<span class="string">"请您输入新密码："</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">newPassWord</span> <span class="operator">=</span> sc.next();</span><br><span class="line"></span><br><span class="line">                System.out.println(<span class="string">"请您再次输入密码："</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">okPassWord</span> <span class="operator">=</span> sc.next();</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 4、判断2次 密码是否一致</span></span><br><span class="line">                <span class="keyword">if</span>(okPassWord.equals(newPassWord)){</span><br><span class="line">                    <span class="comment">// 可以真正开始修改密码了</span></span><br><span class="line">                    loginAcc.setPassWord(okPassWord);</span><br><span class="line">                    System.out.println(<span class="string">"恭喜您，您的密码修改成功~~~"</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                }<span class="keyword">else</span> {</span><br><span class="line">                    System.out.println(<span class="string">"您输入的2次密码不一致~~"</span>);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            System.out.println(<span class="string">"您当前输入的密码不正确~~"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>写好修改密码的功能之后。在<code>case 5:</code>的位置调用<code>updatePassWord()</code>方法。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057552228-3cd728a5-f4aa-4e89-9317-f99911662fa7.png#id=blmPe&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>好了，到这里修改密码的功能就写好了。</p>
<h2 id="十一、注销"><a href="#十一、注销" class="headerlink" title="十一、注销"></a>十一、注销</h2><p>各位同学，接下来我们完成最后一个功能，注销功能。</p>
<blockquote>
<p>这里把注销功能也写成一个方法，具体步骤如下</p>
<ul>
<li>1、先确认是否需要注销账户，让用户输入y或者n <ul>
<li>如果输入y，表示确认</li>
<li>如果输入n，表示取消注销操作</li>
</ul>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>2、输入y后，继续判断当前用户的账户是否有钱 <ul>
<li>如果账户有钱，提示：“对不起，您的账户中存钱金额，不允许销”</li>
<li>如果账户没有钱，则把当前账户对象，从系统的集合中删除，完成注销。</li>
</ul>
</li>
</ul>
</blockquote>
<p>按照上面的步骤代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 销户操作 */</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">deleteAccount</span><span class="params">()</span> {</span><br><span class="line">    System.out.println(<span class="string">"==进行销户操作=="</span>);</span><br><span class="line">    <span class="comment">// 1、问问用户是否确定要销户啊</span></span><br><span class="line">    System.out.println(<span class="string">"请问您确认销户吗？y/n"</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">command</span> <span class="operator">=</span> sc.next();</span><br><span class="line">    <span class="keyword">switch</span> (command) {</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"y"</span>:</span><br><span class="line">            <span class="comment">// 确实要销户</span></span><br><span class="line">            <span class="comment">// 2、判断用户的账户中是否有钱：loginAcc</span></span><br><span class="line">            <span class="keyword">if</span>(loginAcc.getMoney() == <span class="number">0</span>) {</span><br><span class="line">                <span class="comment">// 真的销户了</span></span><br><span class="line">                accounts.remove(loginAcc);</span><br><span class="line">                System.out.println(<span class="string">"您好，您的账户已经成功销户~~"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                System.out.println(<span class="string">"对不起，您的账户中存钱金额，不允许销户~~"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            }</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            System.out.println(<span class="string">"好的，您的账户保留！！"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>注销功能写好之后，在用户操作界面的<code>case 7:</code>位置调用<code>deleteAccount()</code>的方法。</p>
<p>代码如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057552329-ff5311c7-289b-4cb9-b579-5ede0d8f4ef0.png#id=NV00m&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<hr>
<p>到这里注销账户的功能就写好了。</p>
<h1 id="day01——面向对象高级"><a href="#day01——面向对象高级" class="headerlink" title="day01——面向对象高级"></a>day01——面向对象高级</h1><p>各位同学，接下来的三天课程中，我们继续学习面向对象的相关课程。面向对象是写Java程序的核心套路，如何你不懂面向对象，那就相当于Java你白学了。所以在接下来的三天时间里，各位同学也需要克服重重困难好好学习。</p>
<p>前面我们说过面向对象最核心的套路是：<strong>设计对象来处理数据，解决问题。</strong> 如果你把面向对象高级这一部分课程学好，你设计出来的对象将更加好用。</p>
<p>在正式学习面向对象高级课程之前，我给大家提一些学习上的建议。目前我们学习的面向对象高级部分的知识点，就像一个一个的螺丝钉，在学习过程中你可能并不知道这些螺丝钉是用在哪里的，解决的什么问题。必须等这些内容都学习完之后，才能知道用这些螺丝钉可以用来搞飞机、造航母、造火箭。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057552500-a6984160-5bca-4298-9979-c5cff79e7b65.png#id=y3P7C&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>所以，现阶段我们在学习过程中，主要关注下面几点就可以了。等整个基础课程学习完之后，再慢慢感在到哪里用。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057552833-4273c67a-3bb7-4bf6-b55a-b3f77f26dd87.png#id=Jnhed&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="一、静态"><a href="#一、静态" class="headerlink" title="一、静态"></a>一、静态</h2><p>接下来，我们学习一下面向对象编程中很常见的一个关键字static.</p>
<p>static读作静态，可以用来修饰成员变量，也能修饰成员方法。我们先来学习static修饰成员变量。</p>
<h3 id="1-1-static修饰成员变量"><a href="#1-1-static修饰成员变量" class="headerlink" title="1.1 static修饰成员变量"></a>1.1 static修饰成员变量</h3><p>Java中的成员变量按照有无static修饰分为两种：<strong>类变量、实例变量</strong>。它们的区别如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057552940-9ecc57d8-ed25-49fc-9f9b-441f5f187cc0.png#id=v3dND&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>由于静态变量是属于类的，只需要通过类名就可以调用：<code>**类名.静态变量**</code></p>
<p>实例变量是属于对象的，需要通过对象才能调用：<code>**对象.实例变量**</code></p>
<ul>
<li>下面是代码演示（注意静态变量，和实例变量是如何调用的）</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057553164-99735ba4-dad4-4b10-a9ce-e6c893e79236.png#id=MRcLh&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>为了让大家对于这两种成员变量的执行过程理解更清楚一点，在这里给大家在啰嗦几句，我们来看一下上面代码的内存原理。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057553295-7047e447-e79a-4bbc-a582-20b701113635.png#id=iqZRZ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>最后总结一下</strong></li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- <span class="number">1.</span>类变量：属于类，在内存中只有一份，用类名调用</span><br><span class="line">- <span class="number">2.</span>实例变量：属于对象，每一个对象都有一份，用对象调用</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-2-static修饰成员变量的应用场景"><a href="#1-2-static修饰成员变量的应用场景" class="headerlink" title="1.2 static修饰成员变量的应用场景"></a>1.2 static修饰成员变量的应用场景</h3><p>学习完static修饰成员变量的基本使用之后，接下来我们学习一下static修饰成员变量在实际工作中的应用。</p>
<p>在实际开发中，如果某个数据只需要一份，且希望能够被共享（访问、修改），则该数据可以定义成类变量来记住。</p>
<blockquote>
<p><strong>我们看一个案例</strong>**</p>
<p>需求：系统启动后，要求用于类可以记住自己创建了多少个用户对象。**</p>
</blockquote>
<ul>
<li>第一步：先定义一个<code>User</code>类，在用户类中定义一个static修饰的变量，用来表示在线人数；</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> number;</span><br><span class="line">    <span class="comment">//每次创建对象时，number自增一下</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span>{</span><br><span class="line">        User.number++;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>第二步：再写一个测试类，再测试类中创建4个User对象，再打印number的值，观察number的值是否再自增。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//创建4个对象</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">User</span>(); </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//查看系统创建了多少个User对象</span></span><br><span class="line">        System.out.println(<span class="string">"系统创建的User对象个数："</span>+User.number);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行上面的代码，查看执行结果是：<code>**系统创建的User对象个数：4**</code></p>
<h3 id="1-3-static修饰成员方法"><a href="#1-3-static修饰成员方法" class="headerlink" title="1.3 static修饰成员方法"></a>1.3 static修饰成员方法</h3><p>各位同学，学习完static修饰成员变量之后，接下来我们学习static修饰成员方法。成员方法根据有无static也分为两类：<strong>类方法、实例方法</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057553502-5a194b38-7fe8-45fb-99f4-39815d14380e.png#id=gLL4T&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<p>有static修饰的方法，是属于类的，称为<strong>类方法</strong>；调用时直接用类名调用即可。</p>
</blockquote>
<blockquote>
<p>无static修饰的方法，是属于对象的，称为实例方法；调用时，需要使用对象调用。</p>
</blockquote>
<p>我们看一个案例，演示类方法、实例方法的基本使用</p>
<ul>
<li>先定义一个Student类，在类中定义一个类方法、定义一个实例方法</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>{</span><br><span class="line">    <span class="type">double</span> score;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//类方法：</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> printHelloWorld{</span><br><span class="line">        System.out.println(<span class="string">"Hello World!"</span>);</span><br><span class="line">        System.out.println(<span class="string">"Hello World!"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//实例方法（对象的方法）</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printPass</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">//打印成绩是否合格</span></span><br><span class="line">        System.out.println(score&gt;=<span class="number">60</span>?<span class="string">"成绩合格"</span>:<span class="string">"成绩不合格"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>在定义一个测试类，注意类方法、对象方法调用的区别</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//1.调用Student类中的类方法</span></span><br><span class="line">        Student.printHelloWorld();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.调用Student类中的实例方法</span></span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();        </span><br><span class="line">        s.printPass();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//使用对象也能调用类方法【不推荐，IDEA连提示都不给你，你就别这么用了】</span></span><br><span class="line">        s.printHelloWorld();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>搞清楚类方法和实例方法如何调用之后，接下来再啰嗦几句，和同学们聊一聊static修饰成员方法的内存原理。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>类方法：<span class="keyword">static</span>修饰的方法，可以被类名调用，是因为它是随着类的加载而加载的；</span><br><span class="line">		 所以类名直接就可以找到<span class="keyword">static</span>修饰的方法</span><br><span class="line">		 </span><br><span class="line"><span class="number">2.</span>实例方法：非<span class="keyword">static</span>修饰的方法，需要创建对象后才能调用，是因为实例方法中可能会访问实			例变量，而实例变量需要创建对象后才存在。</span><br><span class="line">		  所以实例方法，必须创建对象后才能调用。</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057553622-0cff1e70-0d10-47dd-8891-e5752b5460d2.png#id=pkNol&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>关于static修饰成员变量、和静态修饰成员方法这两种用法，到这里就学习完了。</p>
<h3 id="1-4-工具类"><a href="#1-4-工具类" class="headerlink" title="1.4 工具类"></a>1.4 工具类</h3><p>学习完static修饰方法之后，我们讲一个有关类方法的应用知识，叫做工具类。</p>
<p>如果一个类中的方法全都是静态的，那么这个类中的方法就全都可以被类名直接调用，由于调用起来非常方便，就像一个工具一下，所以把这样的类就叫做工具类。</p>
<ul>
<li>我们写一个生成验证码的工具类</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyUtils</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">createCode</span><span class="params">(<span class="type">int</span> n)</span>{</span><br><span class="line">        <span class="comment">//1.定义一个字符串，用来记录产生的验证码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> <span class="string">""</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.验证码是由所有的大写字母、小写字母或者数字字符组成</span></span><br><span class="line">        <span class="comment">//这里先把所有的字符写成一个字符串，一会从字符串中随机找字符</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> <span class="string">"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ"</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.循环n次，产生n个索引,再通过索引获取字符</span></span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;n; i++){</span><br><span class="line">            <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> r.nextInt(data.length());</span><br><span class="line">            <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> data.charAt(index);</span><br><span class="line">            <span class="comment">//4.把获取到的字符，拼接到code验证码字符串上。</span></span><br><span class="line">            code+=ch;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//最后返回code,code的值就是验证码</span></span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>接着可以在任何位置调用<code>MyUtils</code>的<code>createCOde()方法</code>产生任意个数的验证码</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//比如这是一个登录界面</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginDemo</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        System.out.println(MyUtils.createCode());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//比如这是一个注册界面</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">registerDemo</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        System.out.println(MyUtils.createCode());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>工具类的使用就是这样子的，学会了吗？</p>
<blockquote>
<p>在补充一点，工具类里的方法全都是静态的，推荐用类名调用为了防止使用者用对象调用。我们可以把工具类的构造方法私有化。</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyUtils</span>{</span><br><span class="line">    <span class="comment">//私有化构造方法：这样别人就不能使用构造方法new对象了</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">MyUtils</span><span class="params">()</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//类方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">createCode</span><span class="params">(<span class="type">int</span> n)</span>{</span><br><span class="line">       ...</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-5-static的注意事项"><a href="#1-5-static的注意事项" class="headerlink" title="1.5 static的注意事项"></a>1.5 static的注意事项</h3><p>各位同学，到现在在我们已经学会了static修饰的变量、方法如何调用了。但是有一些注意事项还是需要给大家说明一下，目的是让大家知道，使用static写代码时，如果出错了，要知道为什么错、如何改正。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057553788-c3767deb-5e43-49c1-ad2b-bda20143dfd8.png#id=KRDLq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> {</span><br><span class="line">    <span class="keyword">static</span> String schoolName; <span class="comment">// 类变量</span></span><br><span class="line">    <span class="type">double</span> score; <span class="comment">// 实例变量</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1、类方法中可以直接访问类的成员，不可以直接访问实例成员。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printHelloWorld</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">// 注意：同一个类中，访问类成员，可以省略类名不写。</span></span><br><span class="line">        schoolName = <span class="string">"黑马"</span>;</span><br><span class="line">        printHelloWorld2();</span><br><span class="line"></span><br><span class="line">        System.out.println(score); <span class="comment">// 报错的</span></span><br><span class="line">        printPass(); <span class="comment">// 报错的</span></span><br><span class="line"></span><br><span class="line">        ystem.out.println(<span class="built_in">this</span>); <span class="comment">// 报错的</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">	<span class="comment">// 类方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printHelloWorld2</span><span class="params">()</span>{</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 实例方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printPass2</span><span class="params">()</span>{</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 实例方法</span></span><br><span class="line">    <span class="comment">// 2、实例方法中既可以直接访问类成员，也可以直接访问实例成员。</span></span><br><span class="line">    <span class="comment">// 3、实例方法中可以出现this关键字，类方法中不可以出现this关键字的</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printPass</span><span class="params">()</span>{</span><br><span class="line">        schoolName = <span class="string">"黑马2"</span>; <span class="comment">//对的</span></span><br><span class="line">        printHelloWorld2(); <span class="comment">//对的</span></span><br><span class="line"></span><br><span class="line">        System.out.println(score); <span class="comment">//对的</span></span><br><span class="line">        printPass2(); <span class="comment">//对的</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="built_in">this</span>); <span class="comment">//对的</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-6-static应用（代码块）"><a href="#1-6-static应用（代码块）" class="headerlink" title="1.6 static应用（代码块）"></a>1.6 static应用（代码块）</h3><p>各位同学，接下来我们再补充讲解一个知识点，叫代码块；代码块根据有无static修饰分为两种：静态代码块、实例代码块</p>
<blockquote>
<p><strong>我们先类学习静态代码块：</strong></p>
</blockquote>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057553893-c5b826c8-f4f8-4acb-aeaf-ab3d1f40126c.png#id=Rz9OD&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> {</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">80</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">String</span> <span class="variable">schoolName</span> <span class="operator">=</span> <span class="string">"黑马"</span>;</span><br><span class="line">    <span class="comment">// 静态代码块</span></span><br><span class="line">    <span class="keyword">static</span> {</span><br><span class="line">        System.out.println(<span class="string">"静态代码块执行了~~"</span>);</span><br><span class="line">        schoolName = <span class="string">"黑马"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>静态代码块不需要创建对象就能够执行</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：认识两种代码块，了解他们的特点和基本作用。</span></span><br><span class="line">        System.out.println(Student.number);</span><br><span class="line">        System.out.println(Student.number);</span><br><span class="line">        System.out.println(Student.number);</span><br><span class="line"></span><br><span class="line">        System.out.println(Student.schoolName); <span class="comment">// 黑马</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>执行上面代码时，发现没有创建对象，静态代码块就已经执行了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057554051-12499dcc-6412-4eb2-ba90-c36c1cb3f4ee.png#id=V4eN5&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>关于静态代码块重点注意：<strong>静态代码块，随着类的加载而执行，而且只执行一次。</strong></p>
<blockquote>
<p><strong>再来学习一下实例代码块</strong></p>
</blockquote>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057554144-9fb71057-7096-46f8-9ce0-84068d4450c9.png#id=v5pKu&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>实例代码块的作用和构造器的作用是一样的，用来给对象初始化值；而且每次创建对象之前都会先执行实例代码块。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>{</span><br><span class="line">    <span class="comment">//实例变量</span></span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">    <span class="comment">//实例代码块：实例代码块会执行在每一个构造方法之前</span></span><br><span class="line">    {</span><br><span class="line">        System.out.println(<span class="string">"实例代码块执行了~~"</span>);</span><br><span class="line">        age = <span class="number">18</span>;</span><br><span class="line">        System.out.println(<span class="string">"有人创建了对象："</span> + <span class="built_in">this</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"无参数构造器执行了~~"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name)</span>{</span><br><span class="line">        System.out.println(<span class="string">"有参数构造器执行了~~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来在测试类中进行测试，观察创建对象时，实例代码块是否先执行了。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"张三"</span>);</span><br><span class="line">        System.out.println(s1.age);</span><br><span class="line">        System.out.println(s2.age);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>对于实例代码块重点注意：<strong>实例代码块每次创建对象之前都会执行一次</strong></p>
<h3 id="1-7-static应用（单例设计模式）"><a href="#1-7-static应用（单例设计模式）" class="headerlink" title="1.7 static应用（单例设计模式）"></a>1.7 static应用（单例设计模式）</h3><p>各位同学，关于static的应用我们再补充一个使用的技巧，叫做单例设计模式。</p>
<p>所谓设计模式指的是，一类问题可能会有多种解决方案，而设计模式是在编程实践中，多种方案中的一种最优方案。</p>
<p>关于静态的使用到这里，我们就学习完了。</p>
<h2 id="二、继承"><a href="#二、继承" class="headerlink" title="二、继承"></a>二、继承</h2><h3 id="2-1-继承快速入门"><a href="#2-1-继承快速入门" class="headerlink" title="2.1 继承快速入门"></a>2.1 继承快速入门</h3><p>各位同学，我们继续学习面向对象相关内容。面向对象编程之所以能够能够被广大开发者认可，有一个非常重要的原因，是因为它有三大特征，继承、封装和多态。封装我们在基础班已经学过了，接下来我们学习一下继承。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057554233-6f85469c-e7d1-4a6e-97d4-e2f4446a21f4.png#id=Z6YM7&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，我们演示一下使用继承来编写代码，注意观察继承的特点。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A</span>{</span><br><span class="line">    <span class="comment">//公开的成员</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print1</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"===print1==="</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//私有的成员</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> j;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">print2</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"===print2==="</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>然后，写一个B类，让B类继承A类。在继承A类的同时，B类中新增一个方法print3</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print3</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">//由于i和print1是属于父类A的公有成员，在子类中可以直接被使用</span></span><br><span class="line">        System.out.println(i); <span class="comment">//正确</span></span><br><span class="line">        print1(); <span class="comment">//正确</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//由于j和print2是属于父类A的私有成员，在子类中不可以被使用</span></span><br><span class="line">        System.out.println(j); <span class="comment">//错误</span></span><br><span class="line">        print2();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，我们再演示一下，创建B类对象，能否调用父类A的成员。再写一个测试类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">        <span class="comment">//父类公有成员，子类对象是可以调用的</span></span><br><span class="line">        System.out.println(i); <span class="comment">//正确</span></span><br><span class="line">        b.print1();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//父类私有成员，子类对象时不可以调用的</span></span><br><span class="line">        System.out.println(j); <span class="comment">//错误</span></span><br><span class="line">        b.print2(); <span class="comment">//错误</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>到这里，关于继承的基本使用我们就算学会了。为了让大家对继承有更深入的认识，我们来看看继承的内存原理。</p>
<p>这里我们只需要关注一点：<strong>子类对象实际上是由子、父类两张设计图共同创建出来的。</strong></p>
<p>所以，在子类对象的空间中，既有本类的成员，也有父类的成员。但是子类只能调用父类公有的成员。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057554352-886f025b-19d5-44ff-8885-389869e2a1b7.png#id=CA2fN&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-2-继承的好处"><a href="#2-2-继承的好处" class="headerlink" title="2.2 继承的好处"></a>2.2 继承的好处</h3><p>各位同学，学习完继承的快速入门之后，接下来我们学习一下继承的好处，以及它的应用场景。</p>
<p>我们通过一个案例来学习</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057554516-393d9eeb-62c8-4a79-81d5-5e428986bd00.png#id=YOmTz&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>观察代码发现，我们会发现Teacher类中和Consultant类中有相同的代码；其实像这种两个类中有相同代码时，没必要重复写。</p>
<p>我们可以把重复的代码提取出来，作为父类，然后让其他类继承父类就可以了，这样可以提高代码的复用性。改造后的代码如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057554690-3e3e8104-ae70-4f20-ad46-492737145c24.png#id=Hhzkb&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来使用继承来完成上面的案例，这里只演示People类和Teacher类，然后你尝试自己完成Consultant类。</p>
<ul>
<li>先写一个父类 People，用来设计Teacher和Consultant公有的成员。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span>{</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span>{</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>再写两个子类Teacher继承People类，同时在子类中加上自己特有的成员。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> <span class="keyword">extends</span> <span class="title class_">People</span>{</span><br><span class="line">    <span class="keyword">private</span> String skill; <span class="comment">//技能</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSkill</span><span class="params">()</span>{</span><br><span class="line">        <span class="keyword">return</span> skill;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSkill</span><span class="params">(String skill)</span>{</span><br><span class="line">        <span class="built_in">this</span>.skill=skill;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printInfo</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(getName()+<span class="string">"具备的技能："</span>+skill);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>最后再写一个测试类，再测试类中创建Teacher、Consultant对象，并调用方法。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：搞清楚继承的好处。</span></span><br><span class="line">        <span class="type">Teacher</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">        t.setName(<span class="string">"播仔"</span>);</span><br><span class="line">        t.setSkill(<span class="string">"Java、Spring"</span>);</span><br><span class="line">        System.out.println(t.getName());</span><br><span class="line">        System.out.println(t.getSkill());</span><br><span class="line">        t.printInfo();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>执行代码，打印结果如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057554812-6edc3a7a-2f57-4066-8289-24f5d6c80ce4.png#id=BBxwq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>关于继承的好处我们只需要记住：<strong>继承可以提高代码的复用性</strong></p>
<h3 id="2-3-权限修饰符"><a href="#2-3-权限修饰符" class="headerlink" title="2.3 权限修饰符"></a>2.3 权限修饰符</h3><p>各位同学，在刚才使用继承编写的代码中我们有用到两个权限修饰符，一个是public（公有的）、一个是private（私有的），实际上还有两个权限修饰符，一个是protected（受保护的）、一个是缺省的（不写任何修饰符）。</p>
<p>接下来我们就学习一下这四个权限修饰符分别有什么作用。</p>
<blockquote>
<p><strong>什么是权限修饰符呢？</strong></p>
<p>权限修饰符是用来限制类的成员（成员变量、成员方法、构造器…）能够被访问的范围。</p>
</blockquote>
<p>每一种权限修饰符能够被访问的范围如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057554919-9e75620e-654a-4093-a780-706ecac7afe0.png#id=g1yLc&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面我们用代码演示一下，在本类中可以访问到哪些权限修饰的方法。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Fu</span> {</span><br><span class="line">    <span class="comment">// 1、私有:只能在本类中访问</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">privateMethod</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"==private=="</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、缺省：本类，同一个包下的类</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"==缺省=="</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、protected: 本类，同一个包下的类，任意包下的子类</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">protectedMethod</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"==protected=="</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4、public： 本类，同一个包下的类，任意包下的子类，任意包下的任意类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">publicMethod</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"==public=="</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">//在本类中，所有权限都可以被访问到</span></span><br><span class="line">        privateMethod(); <span class="comment">//正确</span></span><br><span class="line">        method(); <span class="comment">//正确</span></span><br><span class="line">        protectedMethod(); <span class="comment">//正确</span></span><br><span class="line">        publicMethod(); <span class="comment">//正确</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，在和Fu类同一个包下，创建一个测试类Demo，演示同一个包下可以访问到哪些权限修饰的方法。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Fu</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Fu</span>();</span><br><span class="line">        <span class="comment">// f.privateMethod();	//私有方法无法使用</span></span><br><span class="line">        f.method();</span><br><span class="line">        f.protectedMethod();</span><br><span class="line">        f.publicMethod();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，在另一个包下创建一个Fu类的子类，演示不同包下的子类中可以访问哪些权限修饰的方法。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Zi</span> <span class="keyword">extends</span> <span class="title class_">Fu</span> {</span><br><span class="line">    <span class="comment">//在不同包下的子类中，只能访问到public、protected修饰的方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">// privateMethod(); // 报错</span></span><br><span class="line">        <span class="comment">// method(); // 报错</span></span><br><span class="line">        protectedMethod();	<span class="comment">//正确</span></span><br><span class="line">        publicMethod();	<span class="comment">//正确</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，在和Fu类不同的包下，创建一个测试类Demo2，演示一下不同包的无关类，能访问到哪些权限修饰的方法；</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Fu</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Fu</span>();</span><br><span class="line">        <span class="comment">// f.privateMethod(); // 报错</span></span><br><span class="line">        <span class="comment">// f.method();		  //报错</span></span><br><span class="line">        <span class="comment">// f.protecedMethod();//报错</span></span><br><span class="line">        f.publicMethod();	<span class="comment">//正确</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Zi</span> <span class="variable">zi</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Zi</span>();</span><br><span class="line">        <span class="comment">// zi.protectedMethod();</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-4-单继承、Object"><a href="#2-4-单继承、Object" class="headerlink" title="2.4 单继承、Object"></a>2.4 单继承、Object</h3><p>刚才我们写的代码中，都是一个子类继承一个父类，那么有同学问到，一个子类可以继承多个父类吗？</p>
<p><strong>Java语言只支持单继承，不支持多继承，但是可以多层继承</strong>。就像家族里儿子、爸爸和爷爷的关系一样：一个儿子只能有一个爸爸，不能有多个爸爸，但是爸爸也是有爸爸的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057555023-bd10595d-4ff3-457d-875f-c13049ddb816.png#id=WEK9F&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握继承的两个注意事项事项。</span></span><br><span class="line">        <span class="comment">// 1、Java是单继承的：一个类只能继承一个直接父类；</span></span><br><span class="line">        <span class="comment">// 2、Object类是Java中所有类的祖宗。</span></span><br><span class="line">        <span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">        <span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        list.add(<span class="string">"java"</span>);</span><br><span class="line">        System.out.println(list.toString());</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> {} <span class="comment">//extends Object{}</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span>{}</span><br><span class="line"><span class="comment">// class C extends B , A{} // 报错</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> <span class="keyword">extends</span> <span class="title class_">B</span>{}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-5-方法重写"><a href="#2-5-方法重写" class="headerlink" title="2.5 方法重写"></a>2.5 方法重写</h3><p>各位同学，学习完继承之后，在继承的基础之上还有一个很重要的现象需要给大家说一下。</p>
<p>叫做方法重写。为了让大家能够掌握方法重写，我们先认识什么是方法重写，再说一下方法的应用场景。</p>
<blockquote>
<p><strong>什么是方法重写</strong></p>
</blockquote>
<p>当子类觉得父类方法不好用，或者无法满足父类需求时，子类可以重写一个方法名称、参数列表一样的方法，去覆盖父类的这个方法，这就是方法重写。</p>
<p><strong>注意：重写后，方法的访问遵循就近原则</strong>。下面我们看一个代码演示</p>
<p>写一个A类作为父类，定义两个方法print1和print2</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print1</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"111"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print2</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>{</span><br><span class="line">        System.out.println(<span class="string">"111111"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再写一个B类作为A类的子类，重写print1和print2方法。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span>{</span><br><span class="line">    <span class="comment">// 方法重写</span></span><br><span class="line">    <span class="meta">@Override</span> <span class="comment">// 安全，可读性好</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print1</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"666"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方法重写</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print2</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>{</span><br><span class="line">        System.out.println(<span class="string">"666666"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，在测试类中创建B类对象，调用方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：认识方法重写，掌握方法重写的常见应用场景。</span></span><br><span class="line">        <span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">        b.print1();</span><br><span class="line">        b.print2(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>执行代码，我们发现真正执行的是B类中的print1和print2方法</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057555180-6b83a081-d7a4-487e-9267-eadb203e432c.png#id=ZSiwI&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>知道什么是方法重写之后，还有一些注意事项，需要和大家分享一下。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- <span class="number">1.</span>重写的方法上面，可以加一个注解<span class="meta">@Override</span>,用于标注这个方法是复写的父类方法</span><br><span class="line">- <span class="number">2.</span>子类复写父类方法时，访问权限必须大于或者等于父类方法的权限</span><br><span class="line">	<span class="keyword">public</span> &gt; <span class="keyword">protected</span> &gt; 缺省</span><br><span class="line">- <span class="number">3.</span> 重写的方法返回值类型，必须与被重写的方法返回值类型一样，或者范围更小</span><br><span class="line">- <span class="number">4.</span> 私有方法、静态方法不能被重写，如果重写会报错。</span><br></pre></td></tr></tbody></table></figure>

<p>关于这些注意事项，同学们其实只需要了解一下就可以了。实际上我们实际写代码时，只要和父类写的一样就可以（ 总结起来就8个字：<strong>声明不变，重新实现</strong>）</p>
<blockquote>
<p><strong>方法重写的应用场景</strong></p>
</blockquote>
<p>学习完方法重写之后，接下来，我们还需要大家掌握方法重写，在实际中的应用场景。方法重写的应用场景之一就是：<strong>子类重写Object的toString()方法，以便返回对象的内容。</strong></p>
<p>比如：有一个Student类，这个类会默认继承Object类。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Object</span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> {</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>其实Object类中有一个toString()方法，直接通过Student对象调用Object的toString()方法，会得到对象的地址值。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"播妞"</span>, <span class="number">19</span>);</span><br><span class="line">        <span class="comment">// System.out.println(s.toString());</span></span><br><span class="line">        System.out.println(s);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057555316-b689900d-4515-4a00-b4fd-b7fd167f9c58.png#id=zGACL&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>但是，此时不想调用父类Object的toString()方法，那就可以在Student类中重新写一个toSting()方法，用于返回对象的属性值。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.d12_extends_override;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Object</span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> {</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Student{"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">'}'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>重新运行测试类，结果如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057555419-87bcf335-79a5-465e-a59d-9feb676fe98b.png#id=Fybqj&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>好了，到这里方法什么是方法重写，以及方法重写的应用场景我们就学习完了。</p>
<h3 id="2-6-子类中访问成员的特点"><a href="#2-6-子类中访问成员的特点" class="headerlink" title="2.6 子类中访问成员的特点"></a>2.6 子类中访问成员的特点</h3><p>各位同学，刚才我们已经学习了继承，我们发现继承至少涉及到两个类，而每一个类中都可能有各自的成员（成员变量、成员方法），就有可能出现子类和父类有相同成员的情况，那么在子类中访问其他成员有什么特点呢？</p>
<ul>
<li><strong>原则：在子类中访问其他成员（成员变量、成员方法），是依据就近原则的</strong></li>
</ul>
<p>定义一个父类，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">F</span> {</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">"父类名字"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print1</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"==父类的print1方法执行=="</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再定义一个子类，代码如下。有一个同名的name成员变量，有一个同名的print1成员方法；</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Z</span> <span class="keyword">extends</span> <span class="title class_">F</span> {</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">"子类名称"</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showName</span><span class="params">()</span>{</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">"局部名称"</span>;</span><br><span class="line">        System.out.println(name); <span class="comment">// 局部名称</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print1</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"==子类的print1方法执行了="</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showMethod</span><span class="params">()</span>{</span><br><span class="line">        print1(); <span class="comment">// 子类的</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来写一个测试类，观察运行结果，我们发现都是调用的子类变量、子类方法。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握子类中访问其他成员的特点：就近原则。</span></span><br><span class="line">        <span class="type">Z</span> <span class="variable">z</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Z</span>();</span><br><span class="line">        z.showName();</span><br><span class="line">        z.showMethod();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>如果子类和父类出现同名变量或者方法，优先使用子类的；此时如果一定要在子类中使用父类的成员，可以加this或者super进行区分。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Z</span> <span class="keyword">extends</span> <span class="title class_">F</span> {</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">"子类名称"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showName</span><span class="params">()</span>{</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">"局部名称"</span>;</span><br><span class="line">        System.out.println(name); <span class="comment">// 局部名称</span></span><br><span class="line">        System.out.println(<span class="built_in">this</span>.name); <span class="comment">// 子类成员变量</span></span><br><span class="line">        System.out.println(<span class="built_in">super</span>.name); <span class="comment">// 父类的成员变量</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print1</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"==子类的print1方法执行了="</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showMethod</span><span class="params">()</span>{</span><br><span class="line">        print1(); <span class="comment">// 子类的</span></span><br><span class="line">        <span class="built_in">super</span>.print1(); <span class="comment">// 父类的</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-7-子类中访问构造器的特点"><a href="#2-7-子类中访问构造器的特点" class="headerlink" title="2.7 子类中访问构造器的特点"></a>2.7 子类中访问构造器的特点</h3><p>各位同学，我们知道一个类中可以写成员变量、成员方法，还有构造器。在继承关系下，子类访问成员变量和成员方法的特点我们已经学过了；接下来再学习子类中访问构造器的特点。</p>
<p>我们先认识子类构造器的语法特点，再讲一下子类构造器的应用场景</p>
<blockquote>
<p><strong>子类中访问构造器的语法规则</strong></p>
</blockquote>
<ul>
<li>首先，子类全部构造器，都会先调用父类构造器，再执行自己。<br>执行顺序，如下图按照① ② ③ 步骤执行：</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057555526-0650cffa-720f-4f80-bde6-b5fb00b3a096.png#id=ZvFzY&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<p><strong>子类访问构造器的应用场景</strong></p>
</blockquote>
<ul>
<li>如果不想使用默认的<code>super()</code>方式调用父类构造器，还可以手动使用<code>super(参数)</code>调用父类有参数构造器。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057555661-4014acd9-9b3f-4b92-aa86-e107604e0a82.png#id=Vbuyq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<p><strong>在本类中访问自己的构造方法</strong></p>
</blockquote>
<p>刚才我们学习了通过<code>super()</code>和<code>super(参数)</code>可以访问父类的构造器。有时候我们也需要访问自己类的构造器。语法如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>(): 调用本类的空参数构造器</span><br><span class="line"><span class="built_in">this</span>(参数): 调用本类有参数的构造器</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057555779-3c93814d-6282-466c-bc0e-8711e4af4293.png#id=kSB16&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<p><strong>最后我们被this和super的用法在总结一下</strong></p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">访问本类成员：</span><br><span class="line">	<span class="built_in">this</span>.成员变量	<span class="comment">//访问本类成员变量</span></span><br><span class="line">	<span class="built_in">this</span>.成员方法	<span class="comment">//调用本类成员方法</span></span><br><span class="line">	<span class="built_in">this</span>()		   <span class="comment">//调用本类空参数构造器</span></span><br><span class="line">    <span class="built_in">this</span>(参数)	  <span class="comment">//调用本类有参数构造器</span></span><br><span class="line">	</span><br><span class="line">访问父类成员：</span><br><span class="line">	<span class="built_in">super</span>.成员变量	<span class="comment">//访问父类成员变量</span></span><br><span class="line">	<span class="built_in">super</span>.成员方法	<span class="comment">//调用父类成员方法</span></span><br><span class="line">	<span class="built_in">super</span>()		   <span class="comment">//调用父类空参数构造器</span></span><br><span class="line">    <span class="built_in">super</span>(参数)	  <span class="comment">//调用父类有参数构造器</span></span><br><span class="line">    </span><br><span class="line">注意：<span class="built_in">this</span>和<span class="built_in">super</span>访问构造方法，只能用到构造方法的第一句，否则会报错。</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day02——面向对象高级"><a href="#day02——面向对象高级" class="headerlink" title="day02——面向对象高级"></a>day02——面向对象高级</h1><p>今天我们继续学习面向对象的语法知识，我们今天学习的主要内容是：多态、抽象、接口。</p>
<p>学会这些语法知识，可以让我们编写代码更灵活，代码的复用性更高。</p>
<h2 id="一、多态"><a href="#一、多态" class="headerlink" title="一、多态"></a>一、多态</h2><p>接下来，我们学习面向对象三大特征的的最后一个特征——多态。</p>
<h3 id="1-1-多态概述"><a href="#1-1-多态概述" class="headerlink" title="1.1 多态概述"></a>1.1 多态概述</h3><blockquote>
<p><strong>什么是多态？</strong></p>
<p>多态是在继承、实现情况下的一种现象，表现为：对象多态、行为多态。</p>
</blockquote>
<p>比如：Teacher和Student都是People的子类，代码可以写成下面的样子</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057555889-33b43ac1-0603-4ae3-9215-8cad06872d3e.png#id=ouXT3&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057555990-b9ea4319-5f09-4c0d-9492-06087a6746b7.png#id=rgLaM&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-2-多态的好处"><a href="#1-2-多态的好处" class="headerlink" title="1.2 多态的好处"></a>1.2 多态的好处</h3><p>各位同学，刚才我们认识了什么是多态。那么多态的写法有什么好处呢？</p>
<blockquote>
<p>在多态形式下，右边的代码是解耦合的，更便于扩展和维护。</p>
</blockquote>
<ul>
<li>怎么理解这句话呢？比如刚开始p1指向Student对象，run方法执行的就是Student对象的业务；假如p1指向Student对象 ，run方法执行的自然是Student对象的业务。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057556092-d943c19e-bbf2-40f6-a4c3-8bddde3f7a23.png#id=xCXLh&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<p>定义方法时，使用父类类型作为形参，可以接收一切子类对象，扩展行更强，更便利。</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握使用多态的好处</span></span><br><span class="line">		<span class="type">Teacher</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">		go(t);</span><br><span class="line"></span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        go(s);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//参数People p既可以接收Student对象，也能接收Teacher对象。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">go</span><span class="params">(People p)</span>{</span><br><span class="line">        System.out.println(<span class="string">"开始------------------------"</span>);</span><br><span class="line">        p.run();</span><br><span class="line">        System.out.println(<span class="string">"结束------------------------"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-3-类型转换"><a href="#1-3-类型转换" class="headerlink" title="1.3 类型转换"></a>1.3 类型转换</h3><p>虽然多态形式下有一些好处，但是也有一些弊端。在多态形式下，不能调用子类特有的方法，比如在Teacher类中多了一个teach方法，在Student类中多了一个study方法，这两个方法在多态形式下是不能直接调用的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057556184-cbe0e714-efbe-42ed-997a-0550e406cd96.png#id=qheYd&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>多态形式下不能直接调用子类特有方法，但是转型后是可以调用的。这里所说的转型就是把父类变量转换为子类类型。格式如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如果p接收的是子类对象</span></span><br><span class="line"><span class="keyword">if</span>(父类变量 instance 子类){</span><br><span class="line">    <span class="comment">//则可以将p转换为子类类型</span></span><br><span class="line">    子类 变量名 = (子类)父类变量;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057556345-fc6fc02e-556f-4246-89c2-8b2683881d76.png#id=YfvbE&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如果类型转换错了，就会出现类型转换异常ClassCastException，比如把Teacher类型转换成了Student类型.</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057556586-a2f88c3f-1bae-4965-9f4c-af79d9ca96af.png#id=vgFFn&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>关于多态转型问题，我们最终记住一句话：<strong>原本是什么类型，才能还原成什么类型</strong></p>
<h2 id="二、final关键字"><a href="#二、final关键字" class="headerlink" title="二、final关键字"></a>二、final关键字</h2><p>各位同学，接下来我们学习一个在面向对象编程中偶尔会用到的一个关键字叫final，也是为后面学习抽象类和接口做准备的。</p>
<h3 id="2-1-final修饰符的特点"><a href="#2-1-final修饰符的特点" class="headerlink" title="2.1 final修饰符的特点"></a>2.1 final修饰符的特点</h3><p>我们先来认识一下final的特点，final关键字是最终的意思，可以修饰类、修饰方法、修饰变量。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- <span class="keyword">final</span>修饰类：该类称为最终类，特点是不能被继承</span><br><span class="line">- <span class="keyword">final</span>修饰方法：该方法称之为最终方法，特点是不能被重写。</span><br><span class="line">- <span class="keyword">final</span>修饰变量：该变量只能被赋值一次。</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>接下来我们分别演示一下，先看final修饰类的特点</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057556737-4309cfb0-faf7-461c-8afd-76a3bd1ab388.png#id=KQ09I&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>再来演示一下final修饰方法的特点<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057556824-cad0e2d3-8975-4625-b472-606591c33167.png#id=vfsRM&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="> </li>
<li>再演示一下final修饰变量的特点 <ul>
<li>情况一</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057556925-e05aa877-649c-42a3-81c9-8c2609a34a2f.png#id=PdUrX&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>情况二</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057557089-4c81eb50-5f5b-4f10-8c4b-c18fa8c7389e.png#id=bTUrq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>情况三</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057557187-a1258ba3-34ac-4d66-9908-6b63738b43ac.png#id=DcWSf&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057557274-b121e3e7-5629-47dc-8c86-99f98bbd6ae8.png#id=rDbAU&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-2-补充知识：常量"><a href="#2-2-补充知识：常量" class="headerlink" title="2.2 补充知识：常量"></a>2.2 补充知识：常量</h3><p>刚刚我们学习了final修饰符的特点，在实际运用当中经常使用final来定义常量。先说一下什么是Java中的常量？</p>
<ul>
<li>被 static final 修饰的成员变量，称之为常量。</li>
<li>通常用于记录系统的配置信息</li>
</ul>
<p>接下来我们用代码来演示一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Constant</span> {</span><br><span class="line">    <span class="comment">//常量: 定义一个常量表示学校名称</span></span><br><span class="line">    <span class="comment">//为了方便在其他类中被访问所以一般还会加上public修饰符</span></span><br><span class="line">    <span class="comment">//常量命名规范：建议都采用大写字母命名，多个单词之前有_隔开</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SCHOOL_NAME</span> <span class="operator">=</span> <span class="string">"传智教育"</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FinalDemo2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">//由于常量是static的所以，在使用时直接用类名就可以调用</span></span><br><span class="line">        System.out.println(Constant.SCHOOL_NAME);</span><br><span class="line">        System.out.println(Constant.SCHOOL_NAME);</span><br><span class="line">        System.out.println(Constant.SCHOOL_NAME);</span><br><span class="line">        System.out.println(Constant.SCHOOL_NAME);</span><br><span class="line">        System.out.println(Constant.SCHOOL_NAME);</span><br><span class="line">        System.out.println(Constant.SCHOOL_NAME);</span><br><span class="line">        System.out.println(Constant.SCHOOL_NAME);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>关于常量的原理，同学们也可以了解一下：在程序编译后，常量会“宏替换”，出现常量的地方，全都会被替换为其记住的字面量。把代码反编译后，其实代码是下面的样子</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FinalDemo2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        System.out.println(<span class="string">"传智教育"</span>);</span><br><span class="line">        System.out.println(<span class="string">"传智教育"</span>E);</span><br><span class="line">        System.out.println(<span class="string">"传智教育"</span>);</span><br><span class="line">        System.out.println(<span class="string">"传智教育"</span>);</span><br><span class="line">        System.out.println(<span class="string">"传智教育"</span>);</span><br><span class="line">        System.out.println(<span class="string">"传智教育"</span>);</span><br><span class="line">        System.out.println(<span class="string">"传智教育"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="三、抽象"><a href="#三、抽象" class="headerlink" title="三、抽象"></a>三、抽象</h2><p>同学们，接下来我们学习Java中一种特殊的类，叫抽象类。为了让同学们掌握抽象类，会先让同学们认识一下什么是抽象类以及抽象类的特点，再学习一个抽象类的常见应用场景。</p>
<h3 id="3-1-认识抽象类"><a href="#3-1-认识抽象类" class="headerlink" title="3.1 认识抽象类"></a>3.1 认识抽象类</h3><p>我们先来认识一下什么是抽象类，以及抽象类有什么特点。</p>
<ul>
<li>在Java中有一个关键字叫abstract，它就是抽象的意思，它可以修饰类也可以修饰方法。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 被<span class="keyword">abstract</span>修饰的类，就是抽象类</span><br><span class="line">- 被<span class="keyword">abstract</span>修饰的方法，就是抽象方法（不允许有方法体）</span><br></pre></td></tr></tbody></table></figure>

<p>接下来用代码来演示一下抽象类和抽象方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//abstract修饰类，这个类就是抽象类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">A</span>{</span><br><span class="line">    <span class="comment">//abstract修饰方法，这个方法就是抽象方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>类的成员（成员变量、成员方法、构造器），类的成员都可以有。如下面代码</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 抽象类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">A</span> {</span><br><span class="line">    <span class="comment">//成员变量</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">static</span> String schoolName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//构造方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">A</span><span class="params">()</span>{</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//抽象方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//实例方法</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>抽象类是不能创建对象的，如果抽象类的对象就会报错</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057557389-f1e4d0eb-c528-4124-bb1e-470e906f09cc.png#id=mIi2q&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>抽象类虽然不能创建对象，但是它可以作为父类让子类继承。而且子类继承父类必须重写父类的所有抽象方法。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//B类继承A类，必须复写test方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span> {</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>子类继承父类如果不复写父类的抽象方法，要想不出错，这个子类也必须是抽象类</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//B类基础A类，此时B类也是抽象类，这个时候就可以不重写A类的抽象方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span> {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-2-抽象类的好处"><a href="#3-2-抽象类的好处" class="headerlink" title="3.2 抽象类的好处"></a>3.2 抽象类的好处</h3><p>接下来我们用一个案例来说一下抽象类的应用场景和好处。需求如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057557521-44e81e27-f51f-442f-bcf6-1503dee6af94.png#id=h6m8i&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>分析需求发现，该案例中猫和狗都有名字这个属性，也都有叫这个行为，所以我们可以将共性的内容抽取成一个父类，Animal类，但是由于猫和狗叫的声音不一样，于是我们在Animal类中将叫的行为写成抽象的。代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span> {</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//动物叫的行为：不具体，是抽象的</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接着写一个Animal的子类，Dog类。代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(getName() + <span class="string">"汪汪汪的叫~~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>然后，再写一个Animal的子类，Cat类。代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(getName() + <span class="string">"喵喵喵的叫~~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最后，再写一个测试类，Test类。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握抽象类的使用场景和好处.</span></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        a.cry();	<span class="comment">//这时执行的是Dog类的cry方法</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再学一招，假设现在系统有需要加一个Pig类，也有叫的行为，这时候也很容易原有功能扩展。只需要让Pig类继承Animal，复写cry方法就行。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pig</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(getName() + <span class="string">"嚯嚯嚯~~~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>此时，创建对象时，让Animal接收Pig，就可以执行Pig的cry方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握抽象类的使用场景和好处.</span></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pig</span>();</span><br><span class="line">        a.cry();	<span class="comment">//这时执行的是Pig类的cry方法</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>综上所述，我们总结一下抽象类的使用场景和好处</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>用抽象类可以把父类中相同的代码，包括方法声明都抽取到父类，这样能更好的支持多态，一提高代码的灵活性。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>反过来用，我们不知道系统未来具体的业务实现时，我们可以先定义抽象类，将来让子类去实现，以方便系统的扩展。</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-3-模板方法模式"><a href="#3-3-模板方法模式" class="headerlink" title="3.3 模板方法模式"></a>3.3 模板方法模式</h3><p>学习完抽象类的语法之后，接下来，我们学习一种利用抽象类实现的一种设计模式。先解释下一什么是设计模式？<strong>设计模式是解决某一类问题的最优方案</strong>。</p>
<p>设计模式在一些源码中经常会出现，还有以后面试的时候偶尔也会被问到，所以在合适的机会，就会给同学们介绍一下设计模式的知识。</p>
<p>那模板方法设计模式解决什么问题呢？<strong>模板方法模式主要解决方法中存在重复代码的问题</strong></p>
<p>比如A类和B类都有sing()方法，sing()方法的开头和结尾都是一样的，只是中间一段内容不一样。此时A类和B类的sing()方法中就存在一些相同的代码。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057557658-f74a9c9b-dcb2-4611-8bb7-d9175411ee4f.png#id=hu4xf&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>怎么解决上面的重复代码问题呢？ 我们可以写一个抽象类C类，在C类中写一个doSing()的抽象方法。再写一个sing()方法，代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 模板方法设计模式</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">C</span> {</span><br><span class="line">    <span class="comment">// 模板方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">sing</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"唱一首你喜欢的歌："</span>);</span><br><span class="line"></span><br><span class="line">        doSing();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"唱完了!"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">doSing</span><span class="params">()</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>然后，写一个A类继承C类，复写doSing()方法，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A</span> <span class="keyword">extends</span> <span class="title class_">C</span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSing</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"我是一只小小小小鸟，想要飞就能飞的高~~~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接着，再写一个B类继承C类，也复写doSing()方法，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">C</span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSing</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"我们一起学猫叫，喵喵喵喵喵喵喵~~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最后，再写一个测试类Test</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：搞清楚模板方法设计模式能解决什么问题，以及怎么写。</span></span><br><span class="line">        <span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">        b.sing();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>综上所述：模板方法模式解决了多个子类中有相同代码的问题。具体实现步骤如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">第<span class="number">1</span>步：定义一个抽象类，把子类中相同的代码写成一个模板方法。</span><br><span class="line">第<span class="number">2</span>步：把模板方法中不能确定的代码写成抽象方法，并在模板方法中调用。</span><br><span class="line">第<span class="number">3</span>步：子类继承抽象类，只需要父类抽象方法就可以了。</span><br></pre></td></tr></tbody></table></figure>

<h2 id="四、接口"><a href="#四、接口" class="headerlink" title="四、接口"></a>四、接口</h2><p>同学们，接下来我们学习一个比抽象类抽象得更加彻底的一种特殊结构，叫做接口。在学习接口是什么之前，有一些事情需要给大家交代一下：Java已经发展了20多年了，在发展的过程中不同JDK版本的接口也有一些变化，所以我们在学习接口时，先以老版本为基础，学习完老版本接口的特性之后，再顺带着了解一些新版本接口的特性就可以了。</p>
<h3 id="4-1-认识接口"><a href="#4-1-认识接口" class="headerlink" title="4.1 认识接口"></a>4.1 认识接口</h3><p>我们先来认识一下接口？Java提供了一个关键字interface，用这个关键字来定义接口这种特殊结构。格式如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> interface 接口名{</span><br><span class="line">    <span class="comment">//成员变量（常量）</span></span><br><span class="line">    <span class="comment">//成员方法（抽象方法）</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>按照接口的格式，我们定义一个接口看看</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">A</span>{</span><br><span class="line">    <span class="comment">//这里public static final可以加，可以不加。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SCHOOL_NAME</span> <span class="operator">=</span> <span class="string">"黑马程序员"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//这里的public abstract可以加，可以不加。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>写好A接口之后，在写一个测试类，用一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//打印A接口中的常量</span></span><br><span class="line">        System.out.println(A.SCHOOL_NAME);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//接口是不能创建对象的</span></span><br><span class="line">        <span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>我们发现定义好接口之后，是不能创建对象的。那接口到底什么使用呢？需要我注意下面两点</p>
<ul>
<li><strong>接口是用来被类实现（implements）的，我们称之为实现类。</strong></li>
<li><strong>一个类是可以实现多个接口的（接口可以理解成干爹），类实现接口必须重写所有接口的全部抽象方法，否则这个类也必须是抽象类</strong></li>
</ul>
<p>比如，再定义一个B接口，里面有两个方法testb1()，testb2()</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">B</span> {</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testb1</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testb2</span><span class="params">()</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接着，再定义一个C接口，里面有两个方法testc1(), testc2()</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">C</span> {</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testc1</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testc2</span><span class="params">()</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>然后，再写一个实现类D，同时实现B接口和C接口，此时就需要复写四个方法，如下代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">D</span> <span class="keyword">implements</span> <span class="title class_">B</span>, C{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testb1</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testb2</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testc1</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testc2</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最后，定义一个测试类Test</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：认识接口。</span></span><br><span class="line">        System.out.println(A.SCHOOL_NAME);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// A a = new A();</span></span><br><span class="line">        <span class="type">D</span> <span class="variable">d</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">D</span>();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-2-接口的好处"><a href="#4-2-接口的好处" class="headerlink" title="4.2 接口的好处"></a>4.2 接口的好处</h3><p>同学们，刚刚上面我们学习了什么是接口，以及接口的基本特点。那使用接口到底有什么好处呢？主要有下面的两点</p>
<ul>
<li>弥补了类单继承的不足，一个类同时可以实现多个接口。</li>
<li>让程序可以面向接口编程，这样程序员可以灵活方便的切换各种业务实现。</li>
</ul>
<p>我们看一个案例演示，假设有一个Studnet学生类，还有一个Driver司机的接口，还有一个Singer歌手的接口。</p>
<p>现在要写一个A类，想让他既是学生，偶然也是司机能够开车，偶尔也是歌手能够唱歌。那我们代码就可以这样设计，如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Driver</span>{</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">drive</span><span class="params">()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Singer</span>{</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">sing</span><span class="params">()</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//A类是Student的子类，同时也实现了Dirver接口和Singer接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> <span class="keyword">extends</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Driver</span>, Singer{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drive</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sing</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">//想唱歌的时候，A类对象就表现为Singer类型</span></span><br><span class="line">        <span class="type">Singer</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">        s.sing();</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//想开车的时候，A类对象就表现为Driver类型</span></span><br><span class="line">        <span class="type">Driver</span> <span class="variable">d</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">        d.drive();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>综上所述：接口弥补了单继承的不足，同时可以轻松实现在多种业务场景之间的切换。</p>
<h3 id="4-3-接口的案例"><a href="#4-3-接口的案例" class="headerlink" title="4.3 接口的案例"></a>4.3 接口的案例</h3><p>各位同学，关于接口的特点以及接口的好处我们都已经学习完了。接下来我们做一个案例，先来看一下案例需求.</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057557748-73ce97cd-bf00-4ea3-ace9-1f39c9ddf740.png#id=SQyHz&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>首先我们写一个学生类，用来描述学生的相关信息</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> {</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">char</span> sex;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> score;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">char</span> sex, <span class="type">double</span> score)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">        <span class="built_in">this</span>.score = score;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">getSex</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSex</span><span class="params">(<span class="type">char</span> sex)</span> {</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getScore</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> score;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setScore</span><span class="params">(<span class="type">double</span> score)</span> {</span><br><span class="line">        <span class="built_in">this</span>.score = score;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接着，写一个StudentOperator接口，表示学生信息管理系统的两个功能。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">StudentOperator</span> {</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">printAllInfo</span><span class="params">(ArrayList&lt;Student&gt; students)</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">printAverageScore</span><span class="params">(ArrayList&lt;Student&gt; students)</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>然后，写一个StudentOperator接口的实现类StudentOperatorImpl1，采用第1套方案对业务进行实现。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentOperatorImpl1</span> <span class="keyword">implements</span> <span class="title class_">StudentOperator</span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printAllInfo</span><span class="params">(ArrayList&lt;Student&gt; students)</span> {</span><br><span class="line">        System.out.println(<span class="string">"----------全班全部学生信息如下--------------"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; students.size(); i++) {</span><br><span class="line">            <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> students.get(i);</span><br><span class="line">            System.out.println(<span class="string">"姓名："</span> + s.getName() + <span class="string">", 性别："</span> + s.getSex() + <span class="string">", 成绩："</span> + s.getScore());</span><br><span class="line">        }</span><br><span class="line">        System.out.println(<span class="string">"-----------------------------------------"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printAverageScore</span><span class="params">(ArrayList&lt;Student&gt; students)</span> {</span><br><span class="line">        <span class="type">double</span> <span class="variable">allScore</span> <span class="operator">=</span> <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; students.size(); i++) {</span><br><span class="line">            <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> students.get(i);</span><br><span class="line">            allScore += s.getScore();</span><br><span class="line">        }</span><br><span class="line">        System.out.println(<span class="string">"平均分："</span> + (allScore) / students.size());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接着，再写一个StudentOperator接口的实现类StudentOperatorImpl2，采用第2套方案对业务进行实现。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentOperatorImpl2</span> <span class="keyword">implements</span> <span class="title class_">StudentOperator</span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printAllInfo</span><span class="params">(ArrayList&lt;Student&gt; students)</span> {</span><br><span class="line">        System.out.println(<span class="string">"----------全班全部学生信息如下--------------"</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">count1</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count2</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; students.size(); i++) {</span><br><span class="line">            <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> students.get(i);</span><br><span class="line">            System.out.println(<span class="string">"姓名："</span> + s.getName() + <span class="string">", 性别："</span> + s.getSex() + <span class="string">", 成绩："</span> + s.getScore());</span><br><span class="line">            <span class="keyword">if</span>(s.getSex() == <span class="string">'男'</span>){</span><br><span class="line">                count1++;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                count2 ++;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(<span class="string">"男生人数是："</span> + count1  + <span class="string">", 女士人数是："</span> + count2);</span><br><span class="line">        System.out.println(<span class="string">"班级总人数是："</span> + students.size());</span><br><span class="line">        System.out.println(<span class="string">"-----------------------------------------"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printAverageScore</span><span class="params">(ArrayList&lt;Student&gt; students)</span> {</span><br><span class="line">        <span class="type">double</span> <span class="variable">allScore</span> <span class="operator">=</span> <span class="number">0.0</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">max</span> <span class="operator">=</span> students.get(<span class="number">0</span>).getScore();</span><br><span class="line">        <span class="type">double</span> <span class="variable">min</span> <span class="operator">=</span> students.get(<span class="number">0</span>).getScore();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; students.size(); i++) {</span><br><span class="line">            <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> students.get(i);</span><br><span class="line">            <span class="keyword">if</span>(s.getScore() &gt; max) max = s.getScore();</span><br><span class="line">            <span class="keyword">if</span>(s.getScore() &lt; min) min = s.getScore();</span><br><span class="line">            allScore += s.getScore();</span><br><span class="line">        }</span><br><span class="line">        System.out.println(<span class="string">"学生的最高分是："</span> + max);</span><br><span class="line">        System.out.println(<span class="string">"学生的最低分是："</span> + min);</span><br><span class="line">        System.out.println(<span class="string">"平均分："</span> + (allScore - max - min) / (students.size() - <span class="number">2</span>));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再写一个班级管理类ClassManager，在班级管理类中使用StudentOperator的实现类StudentOperatorImpl1对学生进行操作</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClassManager</span> {</span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">StudentOperator</span> <span class="variable">studentOperator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StudentOperatorImpl1</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ClassManager</span><span class="params">()</span>{</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"迪丽热巴"</span>, <span class="string">'女'</span>, <span class="number">99</span>));</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"古力娜扎"</span>, <span class="string">'女'</span>, <span class="number">100</span>));</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"马尔扎哈"</span>, <span class="string">'男'</span>, <span class="number">80</span>));</span><br><span class="line">        students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"卡尔扎巴"</span>, <span class="string">'男'</span>, <span class="number">60</span>));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 打印全班全部学生的信息</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printInfo</span><span class="params">()</span>{</span><br><span class="line">        studentOperator.printAllInfo(students);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 打印全班全部学生的平均分</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printScore</span><span class="params">()</span>{</span><br><span class="line">        studentOperator.printAverageScore(students);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最后，再写一个测试类Test，在测试类中使用ClassMananger完成班级学生信息的管理。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：完成班级学生信息管理的案例。</span></span><br><span class="line">        <span class="type">ClassManager</span> <span class="variable">clazz</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassManager</span>();</span><br><span class="line">        clazz.printInfo();</span><br><span class="line">        clazz.printScore();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>注意：如果想切换班级管理系统的业务功能，随时可以将StudentOperatorImpl1切换为StudentOperatorImpl2。自己试试</p>
<h3 id="4-4-接口JDK8的新特性"><a href="#4-4-接口JDK8的新特性" class="headerlink" title="4.4 接口JDK8的新特性"></a>4.4 接口JDK8的新特性</h3><p>各位同学，对于接口最常见的特性我们都学习完了。随着JDK版本的升级，在JDK8版本以后接口中能够定义的成员也做了一些更新，从JDK8开始，接口中新增的三种方法形式。</p>
<p>我们看一下这三种方法分别有什么特点？</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">A</span> {</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 1、默认方法：必须使用default修饰，默认会被public修饰</span></span><br><span class="line"><span class="comment">     * 实例方法：对象的方法，必须使用实现类的对象来访问。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"===默认方法=="</span>);</span><br><span class="line">        test2();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 2、私有方法：必须使用private修饰。(JDK 9开始才支持的)</span></span><br><span class="line"><span class="comment">     *   实例方法：对象的方法。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"===私有方法=="</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 3、静态方法：必须使用static修饰，默认会被public修饰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">     <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"==静态方法=="</span>);</span><br><span class="line">     }</span><br><span class="line"></span><br><span class="line">     <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>;</span><br><span class="line">     <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span>;</span><br><span class="line">     <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">test6</span><span class="params">()</span>{</span><br><span class="line"></span><br><span class="line">     }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来我们写一个B类，实现A接口。B类作为A接口的实现类，只需要重写抽象方法就尅了，对于默认方法不需要子类重写。代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">implements</span> <span class="title class_">A</span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最后，写一个测试类，观察接口中的三种方法，是如何调用的</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握接口新增的三种方法形式</span></span><br><span class="line">        <span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">        b.test1();	<span class="comment">//默认方法使用对象调用</span></span><br><span class="line">        <span class="comment">// b.test2();	//A接口中的私有方法，B类调用不了</span></span><br><span class="line">        A.test3();	<span class="comment">//静态方法，使用接口名调用</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>综上所述：JDK8对接口新增的特性，有利于对程序进行扩展。</p>
<h3 id="4-5-接口的其他细节"><a href="#4-5-接口的其他细节" class="headerlink" title="4.5 接口的其他细节"></a>4.5 接口的其他细节</h3><p>最后，给同学们介绍一下使用接口的其他细节，或者说注意事项：</p>
<ul>
<li>一个接口可以继承多个接口</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：理解接口的多继承。</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>{</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span>{</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">C</span>{}</span><br><span class="line"></span><br><span class="line"><span class="comment">//比如：D接口继承C、B、A</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">D</span> <span class="keyword">extends</span> <span class="title class_">C</span>, B, A{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//E类在实现D接口时，必须重写D接口、以及其父类中的所有抽象方法。</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">E</span> <span class="keyword">implements</span> <span class="title class_">D</span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接口除了上面的多继承特点之外，在多实现、继承和实现并存时，有可能出现方法名冲突的问题，需要了解怎么解决（仅仅只是了解一下，实际上工作中几乎不会出现这种情况）</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>一个接口继承多个接口，如果多个接口中存在相同的方法声明，则此时不支持多继承</span><br><span class="line"><span class="number">2.</span>一个类实现多个接口，如果多个接口中存在相同的方法声明，则此时不支持多实现</span><br><span class="line"><span class="number">3.</span>一个类继承了父类，又同时实现了接口，父类中和接口中有同名的默认方法，实现类会有限使用父类的方法</span><br><span class="line"><span class="number">4.</span>一个类实现类多个接口，多个接口中有同名的默认方法，则这个类必须重写该方法。</span><br></pre></td></tr></tbody></table></figure>

<p>综上所述：一个接口可以继承多个接口，接口同时也可以被类实现。</p>
<h1 id="day03——面向对象高级"><a href="#day03——面向对象高级" class="headerlink" title="day03——面向对象高级"></a>day03——面向对象高级</h1><p>各位同学，前面两天我们已经把面向对象最主要的内容学习完了，剩下的这些语法知识学完，那么Java语法知识就算全齐活了。</p>
<p>今天学习的内容同学们学习起来会更轻松一些，有一些语法知识只需要了解一下就可以了，因为实际工作用得并不多。</p>
<p>我们先来了解第一个语法知识，内部类。</p>
<h2 id="一、内部类"><a href="#一、内部类" class="headerlink" title="一、内部类"></a>一、内部类</h2><p>内部类是类中的五大成分之一（成员变量、方法、构造器、内部类、代码块），如果一个类定义在另一个类的内部，这个类就是内部类。</p>
<p>当一个类的内部，包含一个完整的事物，且这个事物没有必要单独设计时，就可以把这个事物设计成内部类。</p>
<p>比如：汽车、的内部有发动机，发动机是包含在汽车内部的一个完整事物，可以把发动机设计成内部类。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span>{</span><br><span class="line">	<span class="comment">//内部类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Engine</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>内部类有四种形式，分别是成员内部类、静态内部类、局部内部类、匿名内部类。</p>
<p>我们先来学习成员内部类</p>
<h3 id="1-1-成员内部类"><a href="#1-1-成员内部类" class="headerlink" title="1.1 成员内部类"></a>1.1 成员内部类</h3><p>成员内部类就是类中的一个普通成员，类似于成员变量、成员方法。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Outer</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">99</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String a=<span class="string">"黑马"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 成员内部类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Inner</span>{</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line">        <span class="keyword">private</span>  <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">88</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//在内部类中既可以访问自己类的成员，也可以访问外部类的成员</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>{</span><br><span class="line">            System.out.println(age); <span class="comment">//88</span></span><br><span class="line">            System.out.println(a);   <span class="comment">//黑马</span></span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">77</span>;</span><br><span class="line">            System.out.println(age); <span class="comment">//77</span></span><br><span class="line">            System.out.println(<span class="built_in">this</span>.age); <span class="comment">//88</span></span><br><span class="line">            System.out.println(Outer.<span class="built_in">this</span>.age); <span class="comment">//99</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> {</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> {</span><br><span class="line">            <span class="built_in">this</span>.name = name;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> {</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> {</span><br><span class="line">            <span class="built_in">this</span>.age = age;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>成员内部类如何创建对象，格式如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//外部类.内部类 变量名 = new 外部类().new 内部类();</span></span><br><span class="line">Outer.<span class="type">Inner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>().<span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line"><span class="comment">//调用内部类的方法</span></span><br><span class="line">in.test();</span><br></pre></td></tr></tbody></table></figure>

<p>总结一下内部类访问成员的特点</p>
<ul>
<li>既可以访问内部类成员、也可以访问外部类成员</li>
<li>如果内部类成员和外部类成员同名，可以使用<code>**类名.this.成员**</code>区分</li>
</ul>
<h3 id="1-2-静态内部类"><a href="#1-2-静态内部类" class="headerlink" title="1.2 静态内部类"></a>1.2 静态内部类</h3><p>静态内部类，其实就是在成员内部类的前面加了一个static关键字。静态内部类属于外部类自己持有。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Outer</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">99</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String schoolName=<span class="string">"黑马"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态内部类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Inner</span>{</span><br><span class="line">        <span class="comment">//静态内部类访问外部类的静态变量，是可以的；</span></span><br><span class="line">        <span class="comment">//静态内部类访问外部类的实例变量，是不行的</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>{</span><br><span class="line">            System.out.println(schoolName); <span class="comment">//99</span></span><br><span class="line">            <span class="comment">//System.out.println(age);   //报错</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>静态内部类创建对象时，需要使用外部类的类名调用。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//格式：外部类.内部类 变量名 = new 外部类.内部类();</span></span><br><span class="line">Outer.<span class="type">Inner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>.Inner();</span><br><span class="line">in.test();</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-3-局部内部类"><a href="#1-3-局部内部类" class="headerlink" title="1.3 局部内部类"></a>1.3 局部内部类</h3><p>局部内部类是定义在方法中的类，和局部变量一样，只能在方法中有效。所以局部内部类的局限性很强，一般在开发中是不会使用的。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Outer</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">//局部内部类</span></span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Inner</span>{</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>{</span><br><span class="line">                System.out.println(<span class="string">"Inner...show"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//局部内部类只能在方法中创建对象，并使用</span></span><br><span class="line">        <span class="type">Inner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">        in.show();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-4-匿名内部类"><a href="#1-4-匿名内部类" class="headerlink" title="1.4 匿名内部类"></a>1.4 匿名内部类</h3><blockquote>
<p><strong>1.4.1 认识匿名内部类，基本使用</strong></p>
</blockquote>
<p>各位同学，接下来学习一种再实际开发中用得最多的一种内部类，叫<strong>匿名内部类。相比于前面几种内部类，匿名内部类就比较重要的。</strong></p>
<p>我们还是先认识一下什么是匿名内部类？</p>
<p>匿名内部类是一种特殊的局部内部类；所谓匿名，指的是程序员不需要为这个类声明名字。</p>
<p>下面就是匿名内部类的格式：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> 父类/接口(参数值){</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    重写父类/接口的方法;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>匿名内部类本质上是一个没有名字的子类对象、或者接口的实现类对象。</p>
<p>比如，先定义一个Animal抽象类，里面定义一个cry()方法，表示所有的动物有叫的行为，但是因为动物还不具体，cry()这个行为并不能具体化，所以写成抽象方法。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，我想要在不定义子类的情况下创建Animal的子类对象，就可以使用匿名内部类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//这里后面new 的部分，其实就是一个Animal的子类对象</span></span><br><span class="line">        <span class="comment">//这里隐含的有多态的特性： Animal a = Animal子类对象;</span></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Animal</span>(){</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span>{</span><br><span class="line">                System.out.println(<span class="string">"猫喵喵喵的叫~~~"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        a.eat(); <span class="comment">//直线上面重写的cry()方法</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>需要注意的是，匿名内部类在编写代码时没有名字，<strong>编译后系统会为自动为匿名内部类生产字节码</strong>，字节码的名称会<strong>以</strong><code>**外部类$1.class**</code><strong>的方法命名</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057557869-44c38cc6-8394-4dac-9750-901423ad4099.png#id=m7KUd&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>匿名内部类的作用：简化了创建子类对象、实现类对象的书写格式。</strong></p>
<blockquote>
<p><strong>1.4.2 匿名内部类的应用场景</strong></p>
</blockquote>
<p>学习完匿名内部类的基本使用之后，我们再来看一下匿名内部类在实际中的应用场景。其实一般我们会主动的使用匿名内部类。</p>
<p><strong>只有在调用方法时，当方法的形参是一个接口或者抽象类，为了简化代码书写，而直接传递匿名内部类对象给方法。</strong>这样就可以少写一个类。比如，看下面代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Swimming</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swim</span><span class="params">()</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="type">Swimming</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Swimming</span>(){</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swim</span><span class="params">()</span>{</span><br><span class="line">                System.out.println(<span class="string">"狗刨飞快"</span>);</span><br><span class="line">            }</span><br><span class="line">        };</span><br><span class="line">        go(s1);</span><br><span class="line">        </span><br><span class="line">        <span class="type">Swimming</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Swimming</span>(){</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swim</span><span class="params">()</span>{</span><br><span class="line">                System.out.println(<span class="string">"猴子游泳也还行"</span>);</span><br><span class="line">            }</span><br><span class="line">        };</span><br><span class="line">        go(s1);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//形参是Swimming接口，实参可以接收任意Swimming接口的实现类对象</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">go</span><span class="params">(Swimming s)</span>{</span><br><span class="line">        System.out.println(<span class="string">"开始~~~~~~~~"</span>);</span><br><span class="line">        s.swim();</span><br><span class="line">        System.out.println(<span class="string">"结束~~~~~~~~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="二、枚举"><a href="#二、枚举" class="headerlink" title="二、枚举"></a>二、枚举</h2><h3 id="2-1-认识枚举"><a href="#2-1-认识枚举" class="headerlink" title="2.1 认识枚举"></a>2.1 认识枚举</h3><blockquote>
<p><strong>2.1.1 认识枚举、枚举的原理</strong></p>
</blockquote>
<p>同学们，接下来我们学习一个新的知识点，枚举。枚举是我们以后在项目开发中偶尔会用到的知识。话不多说，我们还是先来认识一下枚举。</p>
<p>枚举是一种特殊的类，它的格式是：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> 枚举类名{</span><br><span class="line">    枚举项<span class="number">1</span>,枚举项<span class="number">2</span>,枚举项<span class="number">3</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>其实枚举项就表示枚举类的对象，只是这些对象在定义枚举类时就预先写好了，以后就只能用这几个固定的对象。</p>
<p>我们用代码演示一下，定义一个枚举类A，在枚举类中定义三个枚举项X, Y, Z</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">A</span>{</span><br><span class="line">    X,Y,Z;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>想要获取枚举类中的枚举项，只需要用类名调用就可以了</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//获取枚举A类的，枚举项</span></span><br><span class="line">        <span class="type">A</span> <span class="variable">a1</span> <span class="operator">=</span> A.X;</span><br><span class="line">        <span class="type">A</span> <span class="variable">a2</span> <span class="operator">=</span> A.Y;</span><br><span class="line">        <span class="type">A</span> <span class="variable">a3</span> <span class="operator">=</span> A.Z;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>刚才说，枚举项实际上是枚举类的对象，这一点其实可以通过反编译的形式来验证（需要用到反编译的命令，这里不能直接将字节码拖进idea反编译）</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057557965-1028066b-1206-484b-96d1-537c971a72a5.png#id=RebEG&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们会看到，枚举类A是用class定义的，说明枚举确实是一个类，而且X，Y，Z都是A类的对象；而且每一个枚举项都是被<code>public static final</code>修饰，所以被可以类名调用，而且不能更改。</p>
<blockquote>
<p><strong>2.1.2 枚举深入</strong></p>
</blockquote>
<p>既然枚举是一个类的话，我们能不能在枚举类中定义构造器、成员变量、成员方法呢？答案是可以的。来看一下代码吧</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">A</span>{</span><br><span class="line">    <span class="comment">//定义枚举项</span></span><br><span class="line">    X,Y,Z(<span class="string">"张三"</span>); <span class="comment">//枚举项后面加括号，就是在执行枚举类的带参数构造方法。</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//定义空构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">A</span><span class="params">()</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//成员变量</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">//定义带参数构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">A</span><span class="params">(String name)</span>{</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//成员方法</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span>{</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>虽然枚举类中可以像类一样，写一些类的其他成员，但是一般不会这么写，如果你真要这么干的话，到不如直接写普通类来的直接。</p>
<h3 id="2-2-枚举的应用场景"><a href="#2-2-枚举的应用场景" class="headerlink" title="2.2 枚举的应用场景"></a>2.2 枚举的应用场景</h3><p>刚才我们认识了一下什么是枚举，接下来我们看一下枚举在实际中的运用，枚举的应用场景是这样的：<strong>枚举一般表示一组信息，然后作为参数进行传输。</strong></p>
<p>我们来看一个案例。比如我们现在有这么一个应用，用户进入应用时，需要让用户选择是女生、还是男生，然后系统会根据用户选择的是男生，还是女生推荐不同的信息给用户观看。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057558061-f75178c5-53ee-4dba-ad71-ba042bde51d0.png#id=Sb3DU&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>这里我们就可以先定义一个枚举类，用来表示男生、或者女生</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Constant</span>{</span><br><span class="line">    BOY,GRIL</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再定义一个测试类，完成用户进入系统后的选择</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//调用方法，传递男生</span></span><br><span class="line">        provideInfo(Constant.BOY);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">provideInfo</span><span class="params">(Constant c)</span>{</span><br><span class="line">        <span class="keyword">switch</span>(c){</span><br><span class="line">            <span class="keyword">case</span> BOY:</span><br><span class="line">                System.out.println(<span class="string">"展示一些信息给男生看"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> GRIL:</span><br><span class="line">                System.out.println(<span class="string">"展示一些信息给女生看"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最终再总结一下枚举的应用场景：<strong>枚举一般表示几个固定的值，然后作为参数进行传输</strong>。</p>
<h2 id="三、泛型"><a href="#三、泛型" class="headerlink" title="三、泛型"></a>三、泛型</h2><h3 id="3-1-认识泛型"><a href="#3-1-认识泛型" class="headerlink" title="3.1 认识泛型"></a>3.1 认识泛型</h3><p>所谓泛型指的是，在定义类、接口、方法时，同时声明了一个或者多个类型变量（如：），称为泛型类、泛型接口、泛型方法、它们统称为泛型。</p>
<p>比如我们前面学过的ArrayList类就是一个泛型类，我们可以打开API文档看一下ArrayList类的声明。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057558209-1677f48a-8853-4497-b348-875644138bcd.png#id=IqOCI&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>ArrayList集合的设计者在定义ArrayList集合时，就已经明确ArrayList集合时给别人装数据用的，但是别人用ArrayList集合时候，装什么类型的数据他不知道，所以就用一个<code>&lt;E&gt;</code>表示元素的数据类型。</p>
<p>当别人使用ArrayList集合创建对象时，<code>new ArrayList&lt;String&gt;</code>就表示元素为String类型，<code>new ArrayList&lt;Integer&gt;</code>表示元素为Integer类型。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057558294-1bea35f5-8890-4ff7-80e6-30d84191c410.png#id=aUrVb&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们总结一下泛型的作用、本质：</p>
<ul>
<li><strong>泛型的好处：在编译阶段可以避免出现一些非法的数据。</strong> </li>
<li><strong>泛型的本质：把具体的数据类型传递给类型变量。</strong></li>
</ul>
<h3 id="3-2-自定义泛型类"><a href="#3-2-自定义泛型类" class="headerlink" title="3.2 自定义泛型类"></a>3.2 自定义泛型类</h3><p>接下来我们学习一下自定义泛型类，但是有一些话需要给大家提前交代一下：泛型类，在实际工作中一般都是源代码中写好，我们直接用的，就是ArrayList这样的，自己定义泛型类是非常少的。</p>
<p>自定义泛型类的格式如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里的&lt;T,W&gt;其实指的就是类型变量，可以是一个，也可以是多个。</span></span><br><span class="line"><span class="keyword">public</span> class 类名&lt;T,W&gt;{</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，我们自己定义一个MyArrayList泛型类，模拟一下自定义泛型类的使用。注意这里重点仅仅只是模拟泛型类的使用，所以方法中的一些逻辑是次要的，也不会写得太严谨。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个泛型类，用来表示一个容器</span></span><br><span class="line"><span class="comment">//容器中存储的数据，它的类型用&lt;E&gt;先代替用着，等调用者来确认&lt;E&gt;的具体类型。</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyArrayList</span>&lt;E&gt;{</span><br><span class="line">    <span class="keyword">private</span> Object[] array = <span class="keyword">new</span> <span class="title class_">Object</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="comment">//定一个索引，方便对数组进行操作</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> index;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//添加元素</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(E e)</span>{</span><br><span class="line">        array[index]=e;</span><br><span class="line">        index++;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//获取元素</span></span><br><span class="line">    <span class="keyword">public</span> E <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span>{</span><br><span class="line">        <span class="keyword">return</span> (E)array[index];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，我们写一个测试类，来测试自定义的泛型类MyArrayList是否能够正常使用</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//1.确定MyArrayList集合中，元素类型为String类型</span></span><br><span class="line">        MyArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">MyArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//此时添加元素时，只能添加String类型</span></span><br><span class="line">        list.add(<span class="string">"张三"</span>);</span><br><span class="line">        list.add(<span class="string">"李四"</span>);</span><br><span class="line">        </span><br><span class="line">         <span class="comment">//2.确定MyArrayList集合中，元素类型为Integer类型</span></span><br><span class="line">        MyArrayList&lt;Integer&gt; list1 = <span class="keyword">new</span> <span class="title class_">MyArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//此时添加元素时，只能添加String类型</span></span><br><span class="line">        list.add(<span class="number">100</span>);</span><br><span class="line">        list.add(<span class="number">200</span>);</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>关于自定义泛型类，你们把这个案例理解，对于初学者来说，就已经非常好了。</p>
<h3 id="3-3-自定义泛型接口"><a href="#3-3-自定义泛型接口" class="headerlink" title="3.3 自定义泛型接口"></a>3.3 自定义泛型接口</h3><p>在上一节中，我们已经学习了自定义泛型类，接下来我们学习一下泛型接口。泛型接口其实指的是在接口中把不确定的数据类型用<code>&lt;类型变量&gt;</code>表示。定义格式如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里的类型变量，一般是一个字母，比如&lt;E&gt;</span></span><br><span class="line"><span class="keyword">public</span> interface 接口名&lt;类型变量&gt;{</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>比如，我们现在要做一个系统要处理学生和老师的数据，需要提供2个功能，保存对象数据、根据名称查询数据，要求：这两个功能处理的数据既能是老师对象，也能是学生对象。</p>
<p>首先我们得有一个学生类和老师类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span>{</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>{</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>我们定义一个<code>Data&lt;T&gt;</code>泛型接口，T表示接口中要处理数据的类型。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Data</span>&lt;T&gt;{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(T t)</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;T&gt; <span class="title function_">getByName</span><span class="params">(String name)</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，我们写一个处理Teacher对象的接口实现类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此时确定Data&lt;E&gt;中的E为Teacher类型，</span></span><br><span class="line"><span class="comment">//接口中add和getByName方法上的T也都会变成Teacher类型</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TeacherData</span> <span class="keyword">implements</span> <span class="title class_">Data</span>&lt;Teacher&gt;{</span><br><span class="line">   	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Teacher t)</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;Teacher&gt; <span class="title function_">getByName</span><span class="params">(String name)</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，我们写一个处理Student对象的接口实现类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此时确定Data&lt;E&gt;中的E为Student类型，</span></span><br><span class="line"><span class="comment">//接口中add和getByName方法上的T也都会变成Student类型</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentData</span> <span class="keyword">implements</span> <span class="title class_">Data</span>&lt;Student&gt;{</span><br><span class="line">   	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Student t)</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;Student&gt; <span class="title function_">getByName</span><span class="params">(String name)</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再啰嗦几句，在实际工作中，一般也都是框架底层源代码把泛型接口写好，我们实现泛型接口就可以了。</p>
<h3 id="3-4-泛型方法"><a href="#3-4-泛型方法" class="headerlink" title="3.4 泛型方法"></a>3.4 泛型方法</h3><p>同学们，接下来我们学习一下泛型方法。下面就是泛型方法的格式</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;泛型变量,泛型变量&gt; 返回值类型 方法名(形参列表){</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>下图中在返回值类型和修饰符之间有定义的才是泛型方法。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057558428-47e637bc-dee7-42ff-abf6-50c311a0a19e.png#id=DWIsH&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下我们看一个泛型方法的案例</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//调用test方法，传递字符串数据，那么test方法的泛型就是String类型</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> test(<span class="string">"test"</span>);</span><br><span class="line">    </span><br><span class="line">        <span class="comment">//调用test方法，传递Dog对象，那么test方法的泛型就是Dog类型</span></span><br><span class="line">    	<span class="type">Dog</span> <span class="variable">d</span> <span class="operator">=</span> test(<span class="keyword">new</span> <span class="title class_">Dog</span>()); </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//这是一个泛型方法&lt;T&gt;表示一个不确定的数据类型，由调用者确定</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; test(T t){</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-5-泛型限定"><a href="#3-5-泛型限定" class="headerlink" title="3.5 泛型限定"></a>3.5 泛型限定</h3><p>接着，我们来学习一个泛型的特殊用法，叫做泛型限定。泛型限定的意思是对泛型的数据类型进行范围的限制。有如下的三种格式</p>
<ul>
<li>表示任意类型 </li>
<li>表示指定类型或者指定类型的子类 </li>
<li>表示指定类型或者指定类型的父类</li>
</ul>
<p>下面我们演示一下，假设有Car作为父类，BENZ，BWM两个类作为Car的子类，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>{}</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BENZ</span> <span class="keyword">extends</span> <span class="title class_">Car</span>{}</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BWN</span> <span class="keyword">extends</span> <span class="title class_">Car</span>{}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//1.集合中的元素不管是什么类型，test1方法都能接收</span></span><br><span class="line">        ArrayList&lt;BWM&gt; list1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        ArrayList&lt;Benz&gt; list2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        ArrayList&lt;String&gt; list3 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        test1(list1);</span><br><span class="line">        test1(list2);</span><br><span class="line">        test1(list3);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.集合中的元素只能是Car或者Car的子类类型，才能被test2方法接收</span></span><br><span class="line">        ArrayList&lt;Car&gt; list4 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        ArrayList&lt;BWM&gt; list5 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        test2(list4);</span><br><span class="line">        test2(list5);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.集合中的元素只能是Car或者Car的父类类型，才能被test3方法接收</span></span><br><span class="line">        ArrayList&lt;Car&gt; list6 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        ArrayList&lt;Object&gt; list7 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        test3(list6);</span><br><span class="line">        test3(list7);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">(ArrayList&lt;?&gt; list)</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">(ArrayList&lt;? extends Car&gt; list)</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">   	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">(ArrayList&lt;? <span class="built_in">super</span> Car&gt; list)</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-6-泛型擦除"><a href="#3-6-泛型擦除" class="headerlink" title="3.6 泛型擦除"></a>3.6 泛型擦除</h3><p>最后，关于泛型还有一个特点需要给同学们介绍一下，就是泛型擦除。什么意思呢？<strong>也就是说泛型只能编译阶段有效，一旦编译成字节码，字节码中是不包含泛型的</strong>。而且泛型只支持引用数据类型，不支持基本数据类型。</p>
<p>把下面的代码的字节码进行反编译</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057558548-bd04f956-0274-4836-b3b5-5178b8676ae8.png#id=oOsgy&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面是反编译之后的代码，我们发现ArrayList后面没有泛型</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057558661-bded455d-61df-4e60-a714-70fb23de1bde.png#id=PG6Ba&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="四、常用API"><a href="#四、常用API" class="headerlink" title="四、常用API"></a>四、常用API</h2><p>各位同学，恭喜大家，到目前位置我们关于面向对象的语法知识就全部学习完了。接下来我们就可以拿着这些语法知识，去学习一个一个的API方法，掌握的API方法越多，那么Java的编程能力就越强。</p>
<p>API（Application Programming interface）意思是应用程序编程接口，说人话就是Java帮我们写好的一些程序，如：类、方法等，我们直接拿过来用就可以解决一些问题。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057558761-24bea8a7-81d9-4378-980b-a093e3d7189a.png#id=Ig75g&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们要学习那些API呢？把下面一种图中的所有类的常用方法学会了，那我们JavaSE进阶的课程就算你全学会了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057558878-cc41ec2a-bf59-4bff-ad05-fbe729f146d9.png#id=H974W&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>很多初学者给我反应的问题是，这些API一听就会，但是就是记住不！送同学们一句话<strong>，</strong></p>
<p><strong>“千里之行始于足下，多记、多查、多些代码、孰能生巧！”</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057559017-d79147db-407a-416f-bced-371e0a247040.png#id=savvZ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-1-Object类"><a href="#4-1-Object类" class="headerlink" title="4.1 Object类"></a>4.1 Object类</h3><p>各位小伙伴，我们要学习的第一个API就是Object类。Object类是Java中所有类的祖宗类，因此，Java中所有类的对象都可以直接使用Object类中提供的一些方法。</p>
<p>按照下图的提示，可以搜索到你想要找的类</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057559111-9fc6ed37-d3f0-405d-ac91-2c9ef3df452e.png#id=BPzI2&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们找到Object类的下面两个方法</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057559211-67ca4687-0060-4c48-beb9-7b12369f2b9b.png#id=OEFku&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>4.1.1 toString()方法</strong></li>
</ul>
<p>我们先来学习toString()方法。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">    调用toString()方法可以返回对象的字符串表示形式。</span><br><span class="line">    默认的格式是：“包名.类名@哈希值<span class="number">16</span>进制”</span><br></pre></td></tr></tbody></table></figure>

<p>假设有一个学生类如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span>{</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再定义一个测试类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"赵敏"</span>,<span class="number">23</span>);</span><br><span class="line">        System.out.println(s1.toString()); </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>打印结果如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057559328-8ef609d1-8aba-451f-b583-3d512401e2f6.png#id=ZAIzP&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如果，在Student类重写toString()方法，那么我们可以返回对象的属性值，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span>{</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Student{name=‘"</span>+name+<span class="string">"’, age="</span>+age+<span class="string">"}"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行测试类，结果如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057559431-6e2f8a55-a9cb-4c29-a329-00281643b684.png#id=OTjaQ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<p><strong>4.1.2 equals(Object o)方法</strong></p>
</blockquote>
<p>接下来，我们学习一下Object类的equals方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span></span><br><span class="line">    判断此对象与参数对象是否<span class="string">"相等"</span></span><br></pre></td></tr></tbody></table></figure>

<p>我们写一个测试类，测试一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"赵薇"</span>,<span class="number">23</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"赵薇"</span>,<span class="number">23</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//equals本身也是比较对象的地址，和"=="没有区别</span></span><br><span class="line">        System.out.println(s1.equals(s2)); <span class="comment">//false</span></span><br><span class="line">         <span class="comment">//"=="比较对象的地址</span></span><br><span class="line">        System.out.println(s1==s2); <span class="comment">//false</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>但是如果我们在Student类中，把equals方法重写了，就按照对象的属性值进行比较</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span>{</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Student{name=‘"</span>+name+<span class="string">"’, age="</span>+age+<span class="string">"}"</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//重写equals方法，按照对象的属性值进行比较</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> {</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> (Student) o;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (age != student.age) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> name != <span class="literal">null</span> ? name.equals(student.name) : student.name == <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再运行测试类，效果如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057559548-4a5fdf85-30d7-4fb5-b7b7-72f0fc5a8f7d.png#id=n8giO&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>总结一下Object的toString方法和equals方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">   	返回对象的字符串表示形式。默认的格式是：“包名.类名@哈希值<span class="number">16</span>进制”</span><br><span class="line">   	【子类重写后，返回对象的属性值】</span><br><span class="line">   	</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span></span><br><span class="line">    判断此对象与参数对象是否<span class="string">"相等"</span>。默认比较对象的地址值，和<span class="string">"=="</span>没有区别</span><br><span class="line">    【子类重写后，比较对象的属性值】</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p><strong>4.1.3 clone() 方法</strong></p>
</blockquote>
<p>接下来，我们学习Object类的clone()方法，克隆。意思就是某一个对象调用这个方法，这个方法会复制一个一模一样的新对象，并返回。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Object <span class="title function_">clone</span><span class="params">()</span></span><br><span class="line">    克隆当前对象，返回一个新对象</span><br></pre></td></tr></tbody></table></figure>

<p>想要调用clone()方法，必须让被克隆的类实现Cloneable接口。如我们准备克隆User类的对象，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span>{</span><br><span class="line">    <span class="keyword">private</span> String id; <span class="comment">//编号</span></span><br><span class="line">    <span class="keyword">private</span> String username; <span class="comment">//用户名</span></span><br><span class="line">    <span class="keyword">private</span> String password; <span class="comment">//密码</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span>[] scores; <span class="comment">//分数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String id, String username, String password, <span class="type">double</span>[] scores)</span> {</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">        <span class="built_in">this</span>.scores = scores;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//...get和set...方法自己加上</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Object <span class="title function_">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.clone();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接着，我们写一个测试类，克隆User类的对象。并观察打印的结果</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException {</span><br><span class="line">        <span class="type">User</span> <span class="variable">u1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1</span>,<span class="string">"zhangsan"</span>,<span class="string">"wo666"</span>,<span class="keyword">new</span> <span class="title class_">double</span>[]{<span class="number">99.0</span>,<span class="number">99.5</span>});</span><br><span class="line">		<span class="comment">//调用方法克隆得到一个新对象</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">u2</span> <span class="operator">=</span> (User) u1.clone();</span><br><span class="line">        System.out.println(u2.getId());</span><br><span class="line">        System.out.println(u2.getUsername());</span><br><span class="line">        System.out.println(u2.getPassword());</span><br><span class="line">        System.out.println(u2.getScores()); </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>我们发现，克隆得到的对象u2它的属性值和原来u1对象的属性值是一样的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057559649-ebe4f5c3-e168-4bd0-bc40-445c15a66e9a.png#id=JgLTM&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>上面演示的克隆方式，是一种浅克隆的方法，浅克隆的意思：<strong>拷贝出来的对象封装的数据与原对象封装的数据一模一样（引用类型拷贝的是地址值）</strong>。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057559736-2515cad8-4534-4375-bff9-79ff04f286c5.png#id=XMtRd&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>还有一种拷贝方式，称之为深拷贝，拷贝原理如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057559843-627728e0-ce97-4604-bce8-9a68e56c6411.png#id=oZw9J&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面演示一下深拷贝User对象</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span>{</span><br><span class="line">    <span class="keyword">private</span> String id; <span class="comment">//编号</span></span><br><span class="line">    <span class="keyword">private</span> String username; <span class="comment">//用户名</span></span><br><span class="line">    <span class="keyword">private</span> String password; <span class="comment">//密码</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span>[] scores; <span class="comment">//分数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String id, String username, String password, <span class="type">double</span>[] scores)</span> {</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">        <span class="built_in">this</span>.scores = scores;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//...get和set...方法自己加上</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Object <span class="title function_">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException {</span><br><span class="line">        <span class="comment">//先克隆得到一个新对象</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">u</span> <span class="operator">=</span> (User) <span class="built_in">super</span>.clone();</span><br><span class="line">        <span class="comment">//再将新对象中的引用类型数据，再次克隆</span></span><br><span class="line">        u.scores = u.scores.clone();</span><br><span class="line">        <span class="keyword">return</span> u;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057559983-8d5244a1-009d-49bd-b00f-71bc96b7c258.png#id=OD9Hy&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-2-Objects类"><a href="#4-2-Objects类" class="headerlink" title="4.2 Objects类"></a>4.2 Objects类</h3><p>Objects是一个工具类，提供了一些方法可以对任意对象进行操作。主要方法如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057560064-974d3c1d-c9b2-4b0d-bf5d-298998f34eac.png#id=XOjCk&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面写代码演示一下这几个方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">"itheima"</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//这里会出现NullPointerException异常，调用者不能为null</span></span><br><span class="line">        System.out.println(s1.equals(s2));</span><br><span class="line">        <span class="comment">//此时不会有NullPointerException异常，底层会自动先判断空</span></span><br><span class="line">        System.out.println(Objects.equals(s1,s2));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//判断对象是否为null，等价于==</span></span><br><span class="line">        System.out.println(Objects.isNull(s1)); <span class="comment">//true</span></span><br><span class="line">        System.out.println(s1==<span class="literal">null</span>); <span class="comment">//true</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//判断对象是否不为null，等价于!=</span></span><br><span class="line">        System.out.println(Objects.nonNull(s2)); <span class="comment">//true</span></span><br><span class="line">        System.out.println(s2!=<span class="literal">null</span>); <span class="comment">//true</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-3-基本类型包装类"><a href="#4-3-基本类型包装类" class="headerlink" title="4.3 基本类型包装类"></a>4.3 基本类型包装类</h3><p>同学们，接下来我们学习一下包装类。为什么要学习包装类呢？因为在Java中有一句很经典的话，万物皆对象。Java中的8种基本数据类型还不是对象，所以要把它们变成对象，变成对象之后，可以提供一些方法对数据进行操作。</p>
<p>Java中8种基本数据类型都用一个包装类与之对一个，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057560207-24bc0f68-d1d0-4e59-b1ec-d51ad780d266.png#id=cGZdz&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们学习包装类，主要学习两点：</p>
<ul>
<li><ol>
<li>创建包装类的对象方式、自动装箱和拆箱的特性；</li>
</ol>
</li>
<li><ol start="2">
<li>利用包装类提供的方法对字符串和基本类型数据进行相互转换</li>
</ol>
</li>
</ul>
<blockquote>
<p><strong>4.2.1 创建包装类对象</strong></p>
</blockquote>
<p>我们先来学习，创建包装类对象的方法，以及包装类的一个特性叫自动装箱和自动拆箱。我们以Integer为例，其他的可以自己学，都是类似的。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建Integer对象，封装基本类型数据10</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.使用Integer类的静态方法valueOf(数据)</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">b</span> <span class="operator">=</span> Integer.valueOf(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.还有一种自动装箱的写法（意思就是自动将基本类型转换为引用类型）</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.有装箱肯定还有拆箱（意思就是自动将引用类型转换为基本类型）</span></span><br><span class="line"><span class="type">int</span> <span class="variable">d</span> <span class="operator">=</span> c;</span><br><span class="line"></span><br><span class="line"><span class="comment">//5.装箱和拆箱在使用集合时就有体现</span></span><br><span class="line">ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//添加的元素是基本类型，实际上会自动装箱为Integer类型</span></span><br><span class="line">list.add(<span class="number">100</span>);</span><br><span class="line"><span class="comment">//获取元素时，会将Integer类型自动拆箱为int类型</span></span><br><span class="line"><span class="type">int</span> <span class="variable">e</span> <span class="operator">=</span> list.get(<span class="number">0</span>);</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p><strong>4.2.2 包装类数据类型转换</strong></p>
</blockquote>
<p>在开发中，经常使用包装类对字符串和基本类型数据进行相互转换。</p>
<ul>
<li>把字符串转换为数值型数据：包装类.parseXxx(字符串)</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">parseInt</span><span class="params">(String s)</span></span><br><span class="line">    把字符串转换为基本数据类型</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>将数值型数据转换为字符串：包装类.valueOf(数据);</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">valueOf</span><span class="params">(<span class="type">int</span> a)</span></span><br><span class="line">    把基本类型数据转换为</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>写一个测试类演示一下</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.字符串转换为数值型数据</span></span><br><span class="line"><span class="type">String</span> <span class="variable">ageStr</span> <span class="operator">=</span> <span class="string">"29"</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">age1</span> <span class="operator">=</span> Integer.parseInt(ageStr);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">scoreStr</span> <span class="operator">=</span> <span class="number">3.14</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">score</span> <span class="operator">=</span> Double.prarseDouble(scoreStr);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.整数转换为字符串，以下几种方式都可以（挑中你喜欢的记一下）</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">23</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> Integer.toString(a);</span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> a.toString();</span><br><span class="line"><span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> a+<span class="string">""</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s4</span> <span class="operator">=</span> String.valueOf(a);</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day04——常用API"><a href="#day04——常用API" class="headerlink" title="day04——常用API"></a>day04——常用API</h1><h2 id="一、-StringBuilder类"><a href="#一、-StringBuilder类" class="headerlink" title="一、 StringBuilder类"></a>一、 StringBuilder类</h2><ul>
<li>StringBuilder代表可变字符串对象，相当于是一个容器，它里面的字符串是可以改变的，就是用来操作字符串的。</li>
<li>好处：StringBuilder比String更合适做字符串的修改操作，效率更高，代码也更加简洁。</li>
</ul>
<p><strong>1.1 StringBuilder方法演示</strong></p>
<p>接下来我们用代码演示一下StringBuilder的用法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">"itehima"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.拼接内容</span></span><br><span class="line">        sb.append(<span class="number">12</span>);</span><br><span class="line">        sb.append(<span class="string">"黑马"</span>);</span><br><span class="line">        sb.append(<span class="literal">true</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.append方法，支持临时编程</span></span><br><span class="line">        sb.append(<span class="number">666</span>).append(<span class="string">"黑马2"</span>).append(<span class="number">666</span>);</span><br><span class="line">        System.out.println(sb); <span class="comment">//打印：12黑马666黑马2666</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.反转操作</span></span><br><span class="line">        sb.reverse();</span><br><span class="line">        System.out.println(sb); <span class="comment">//打印：6662马黑666马黑21</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.返回字符串的长度</span></span><br><span class="line">        System.out.println(sb.length());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//5.StringBuilder还可以转换为字符串</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> sb.toString();</span><br><span class="line">        System.out.println(s); <span class="comment">//打印：6662马黑666马黑21</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>为什么要用StringBuilder对字符串进行操作呢？因为它的效率比String更高，我们可以下面两段代码验证一下。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057560298-d606b78b-33e3-4bc6-bf0f-334838976c2e.png#id=exNmD&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>经过我的验证，直接使用Stirng拼接100万次，等了1分钟，还没结束，我等不下去了；但是使用StringBuilder做拼接，不到1秒钟出结果了。</p>
<p><strong>1.2 StringBuilder应用案例</strong></p>
<p>接下来，我们通过一个案例把StringBuilder运用下，案例需求如下图所示</p>
<p>代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> getArrayData( <span class="keyword">new</span> <span class="title class_">int</span>[]{<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>});</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//方法作用：将int数组转换为指定格式的字符串</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getArrayData</span><span class="params">(<span class="type">int</span>[] arr)</span>{</span><br><span class="line">        <span class="comment">//1.判断数组是否为null</span></span><br><span class="line">        <span class="keyword">if</span>(arr==<span class="literal">null</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//2.如果数组不为null，再遍历，并拼接数组中的元素</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">"["</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;arr.length; i++){</span><br><span class="line">            <span class="keyword">if</span>(i==arr.legnth-<span class="number">1</span>){</span><br><span class="line">                sb.append(arr[i]).append(<span class="string">"]"</span>);;</span><br><span class="line">            }<span class="keyword">else</span>{</span><br><span class="line">                sb.append(arr[i]).append(<span class="string">","</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//3、把StirngBuilder转换为String，并返回。</span></span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="二、StringJoiner类"><a href="#二、StringJoiner类" class="headerlink" title="二、StringJoiner类"></a>二、StringJoiner类</h2><p>接下来，我们学习一个类叫做StringJoiner，学习这个类干嘛用呢？是因为我们前面使用StringBuilder拼接字符串的时，代码写起来还是有一点麻烦，而StringJoiner号称是拼接神器，不仅效率高，而且代码简洁。</p>
<p>下面演示一下StringJoiner的基本使用</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="type">StringJoiner</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringJoiner</span>(<span class="string">","</span>);</span><br><span class="line">        s.add(<span class="string">"java1"</span>);</span><br><span class="line">        s.add(<span class="string">"java2"</span>);</span><br><span class="line">        s.add(<span class="string">"java3"</span>);</span><br><span class="line">        System.out.println(s); <span class="comment">//结果为： java1,java2,java3</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//参数1：间隔符</span></span><br><span class="line">        <span class="comment">//参数2：开头</span></span><br><span class="line">        <span class="comment">//参数3：结尾</span></span><br><span class="line">        <span class="type">StringJoiner</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringJoiner</span>(<span class="string">","</span>,<span class="string">"["</span>,<span class="string">"]"</span>);</span><br><span class="line">        s1.add(<span class="string">"java1"</span>);</span><br><span class="line">        s1.add(<span class="string">"java2"</span>);</span><br><span class="line">        s1.add(<span class="string">"java3"</span>);</span><br><span class="line">        System.out.println(s1); <span class="comment">//结果为： [java1,java2,java3]</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>使用StirngJoiner改写前面把数组转换为字符串的案例</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> getArrayData( <span class="keyword">new</span> <span class="title class_">int</span>[]{<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>});</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//方法作用：将int数组转换为指定格式的字符串</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getArrayData</span><span class="params">(<span class="type">int</span>[] arr)</span>{</span><br><span class="line">        <span class="comment">//1.判断数组是否为null</span></span><br><span class="line">        <span class="keyword">if</span>(arr==<span class="literal">null</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//2.如果数组不为null，再遍历，并拼接数组中的元素</span></span><br><span class="line">        <span class="type">StringJoiner</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringJoiner</span>(<span class="string">", "</span>,<span class="string">"["</span>,<span class="string">"]"</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;arr.length; i++){</span><br><span class="line">            <span class="comment">//加""是因为add方法的参数要的是String类型</span></span><br><span class="line">            s.add(String.valueOf(arr[i]));</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//3、把StringJoiner转换为String，并返回。</span></span><br><span class="line">        <span class="keyword">return</span> s.toString();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="三、Math类"><a href="#三、Math类" class="headerlink" title="三、Math类"></a>三、Math类</h2><p>Math是数学的意思，该类提供了很多个进行数学运算的方法，如求绝对值，求最大值，四舍五入等，话不多说，直接上代码。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MathTest</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：了解下Math类提供的常见方法。</span></span><br><span class="line">        <span class="comment">// 1、public static int abs(int a)：取绝对值（拿到的结果一定是正数）</span></span><br><span class="line">        <span class="comment">//    public static double abs(double a)</span></span><br><span class="line">        System.out.println(Math.abs(-<span class="number">12</span>)); <span class="comment">// 12</span></span><br><span class="line">        System.out.println(Math.abs(<span class="number">123</span>)); <span class="comment">// 123</span></span><br><span class="line">        System.out.println(Math.abs(-<span class="number">3.14</span>)); <span class="comment">// 3.14</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、public static double ceil(double a): 向上取整</span></span><br><span class="line">        System.out.println(Math.ceil(<span class="number">4.0000001</span>)); <span class="comment">// 5.0</span></span><br><span class="line">        System.out.println(Math.ceil(<span class="number">4.0</span>)); <span class="comment">// 4.0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、public static double floor(double a): 向下取整</span></span><br><span class="line">        System.out.println(Math.floor(<span class="number">4.999999</span>)); <span class="comment">// 4.0</span></span><br><span class="line">        System.out.println(Math.floor(<span class="number">4.0</span>)); <span class="comment">// 4.0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、public static long round(double a)：四舍五入</span></span><br><span class="line">        System.out.println(Math.round(<span class="number">3.4999</span>)); <span class="comment">// 3</span></span><br><span class="line">        System.out.println(Math.round(<span class="number">3.50001</span>)); <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、public static int max(int a, int b)：取较大值</span></span><br><span class="line">        <span class="comment">//   public static int min(int a, int b)：取较小值</span></span><br><span class="line">        System.out.println(Math.max(<span class="number">10</span>, <span class="number">20</span>)); <span class="comment">// 20</span></span><br><span class="line">        System.out.println(Math.min(<span class="number">10</span>, <span class="number">20</span>)); <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、 public static double pow(double a, double b)：取次方</span></span><br><span class="line">        System.out.println(Math.pow(<span class="number">2</span>, <span class="number">3</span>)); <span class="comment">// 2的3次方   8.0</span></span><br><span class="line">        System.out.println(Math.pow(<span class="number">3</span>, <span class="number">2</span>)); <span class="comment">// 3的2次方   9.0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7、public static double random()： 取随机数 [0.0 , 1.0) (包前不包后)</span></span><br><span class="line">        System.out.println(Math.random());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="四、-System类"><a href="#四、-System类" class="headerlink" title="四、 System类"></a>四、 System类</h2><p>接下来，学习一个System类，这是系统类，提供了一些获取获取系统数据的方法。比如获取系统时间。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：了解下System类的常见方法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SystemTest</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1、public static void exit(int status):</span></span><br><span class="line">        <span class="comment">//   终止当前运行的Java虚拟机。</span></span><br><span class="line">        <span class="comment">//   该参数用作状态代码; 按照惯例，非零状态代码表示异常终止。</span></span><br><span class="line">        System.exit(<span class="number">0</span>); <span class="comment">// 人为的终止虚拟机。(不要使用)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、public static long currentTimeMillis():</span></span><br><span class="line">        <span class="comment">//    获取当前系统的时间</span></span><br><span class="line">        <span class="comment">//    返回的是long类型的时间毫秒值：指的是从1970-1-1 0:0:0开始走到此刻的总的毫秒值，1s = 1000ms</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(time);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000000</span>; i++) {</span><br><span class="line">            System.out.println(<span class="string">"输出了："</span> + i);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">time2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println((time2 - time) / <span class="number">1000.0</span> + <span class="string">"s"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="五、Runtime类"><a href="#五、Runtime类" class="headerlink" title="五、Runtime类"></a>五、Runtime类</h2><p>接下来，我们再学习一个Java的运行时类，叫Runtime类。这个类可以用来获取JVM的一些信息，也可以用这个类去执行其他的程序。话不多少，上代码。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  目标：了解下Runtime的几个常见方法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RuntimeTest</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, InterruptedException {</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1、public static Runtime getRuntime() 返回与当前Java应用程序关联的运行时对象。</span></span><br><span class="line">        <span class="type">Runtime</span> <span class="variable">r</span> <span class="operator">=</span> Runtime.getRuntime();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、public void exit(int status) 终止当前运行的虚拟机,该参数用作状态代码; 按照惯例，非零状态代码表示异常终止。</span></span><br><span class="line">        <span class="comment">// r.exit(0);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、public int availableProcessors(): 获取虚拟机能够使用的处理器数。</span></span><br><span class="line">        System.out.println(r.availableProcessors());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、public long totalMemory() 返回Java虚拟机中的内存总量。</span></span><br><span class="line">        System.out.println(r.totalMemory()/<span class="number">1024.0</span>/<span class="number">1024.0</span> + <span class="string">"MB"</span>); <span class="comment">// 1024 = 1K     1024 * 1024 = 1M</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、public long freeMemory() 返回Java虚拟机中的可用内存量</span></span><br><span class="line">        System.out.println(r.freeMemory()/<span class="number">1024.0</span>/<span class="number">1024.0</span> + <span class="string">"MB"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、public Process exec(String command) 启动某个程序，并返回代表该程序的对象。</span></span><br><span class="line">        <span class="comment">// r.exec("D:\\soft\\XMind\\XMind.exe");</span></span><br><span class="line">        <span class="type">Process</span> <span class="variable">p</span> <span class="operator">=</span> r.exec(<span class="string">"QQ"</span>);</span><br><span class="line">        Thread.sleep(<span class="number">5000</span>); <span class="comment">// 让程序在这里暂停5s后继续往下走！！</span></span><br><span class="line">        p.destroy(); <span class="comment">// 销毁！关闭程序！</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="六、BigDecimal类"><a href="#六、BigDecimal类" class="headerlink" title="六、BigDecimal类"></a>六、BigDecimal类</h2><p>各位同学，接下来我们学习的这个类叫BigDecimal，至于它是干什么用的，我们先不说。我们先看一段代码，看这个代码有什么问题？再说BigDeimal这个类是干什么用的，这样会更好理解一些。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        System.out.println(<span class="number">0.1</span> + <span class="number">0.2</span>);</span><br><span class="line">        System.out.println(<span class="number">1.0</span> - <span class="number">0.32</span>);</span><br><span class="line">        System.out.println(<span class="number">1.015</span> * <span class="number">100</span>);</span><br><span class="line">        System.out.println(<span class="number">1.301</span> / <span class="number">100</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行以上代码，我们会发现，结果并和我们想看到的不太一样。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057560399-9dcfc7a6-7b56-4737-a7c8-89a9214da0cc.png#id=nAwhK&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>为了解决计算精度损失的问题，Java给我们提供了BigDecimal类，它提供了一些方法可以对数据进行四则运算，而且不丢失精度，同时还可以保留指定的小数位。下面看代码，演示一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握BigDecimal进行精确运算的方案。</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0.1</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0.2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1、把浮点型数据封装成BigDecimal对象，再来参与运算。</span></span><br><span class="line">        <span class="comment">// a、public BigDecimal(double val) 得到的BigDecimal对象是无法精确计算浮点型数据的。 注意：不推荐使用这个，</span></span><br><span class="line">        <span class="comment">// b、public BigDecimal(String val)  得到的BigDecimal对象是可以精确计算浮点型数据的。 可以使用。</span></span><br><span class="line">        <span class="comment">// c、public static BigDecimal valueOf(double val): 通过这个静态方法得到的BigDecimal对象是可以精确运算的。是最好的方案。</span></span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">a1</span> <span class="operator">=</span> BigDecimal.valueOf(a);</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">b1</span> <span class="operator">=</span> BigDecimal.valueOf(b);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、public BigDecimal add(BigDecimal augend): 加法</span></span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">c1</span> <span class="operator">=</span> a1.add(b1);</span><br><span class="line">        System.out.println(c1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、public BigDecimal subtract(BigDecimal augend): 减法</span></span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">c2</span> <span class="operator">=</span> a1.subtract(b1);</span><br><span class="line">        System.out.println(c2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、public BigDecimal multiply(BigDecimal augend): 乘法</span></span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">c3</span> <span class="operator">=</span> a1.multiply(b1);</span><br><span class="line">        System.out.println(c3);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、public BigDecimal divide(BigDecimal b): 除法</span></span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">c4</span> <span class="operator">=</span> a1.divide(b1);</span><br><span class="line">        System.out.println(c4);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        BigDecimal d1 = BigDecimal.valueOf(0.1);</span></span><br><span class="line"><span class="comment">//        BigDecimal d2 = BigDecimal.valueOf(0.3);</span></span><br><span class="line"><span class="comment">//        BigDecimal d3 = d1.divide(d2);</span></span><br><span class="line"><span class="comment">//        System.out.println(d3);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、public BigDecimal divide(另一个BigDecimal对象，精确几位，舍入模式) : 除法，可以设置精确几位。</span></span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">d1</span> <span class="operator">=</span> BigDecimal.valueOf(<span class="number">0.1</span>);</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">d2</span> <span class="operator">=</span> BigDecimal.valueOf(<span class="number">0.3</span>);</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">d3</span> <span class="operator">=</span> d1.divide(d2,  <span class="number">2</span>, RoundingMode.HALF_UP); <span class="comment">// 0.33</span></span><br><span class="line">        System.out.println(d3);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7、public double doubleValue() : 把BigDecimal对象又转换成double类型的数据。</span></span><br><span class="line">        <span class="comment">//print(d3);</span></span><br><span class="line">        <span class="comment">//print(c1);</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">db1</span> <span class="operator">=</span> d3.doubleValue();</span><br><span class="line">        <span class="type">double</span> <span class="variable">db2</span> <span class="operator">=</span> c1.doubleValue();</span><br><span class="line">        print(db1);</span><br><span class="line">        print(db2);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(<span class="type">double</span> a)</span>{</span><br><span class="line">        System.out.println(a);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="五、Date类"><a href="#五、Date类" class="headerlink" title="五、Date类"></a>五、Date类</h2><p>接下来，我们学习一下Date类，Java中是由这个类的对象用来表示日期或者时间。</p>
<p>Date对象记录的时间是用毫秒值来表示的。Java语言规定，1970年1月1日0时0分0秒认为是时间的起点，此时记作0，那么1000（1秒=1000毫秒）就表示1970年1月1日0时0分1秒，依次内推。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057560494-c0a3f798-0063-4f67-98f4-7b509a23c485.png#id=nIFW7&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面是Date类的构造方法，和常见的成员方法，利用这些API写代码尝试一下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057560612-34f787c5-47e7-467e-a2ce-08942ce0fbd3.png#id=f46eX&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1Date</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握Date日期类的使用。</span></span><br><span class="line">        <span class="comment">// 1、创建一个Date的对象：代表系统当前时间信息的。</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">d</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        System.out.println(d);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、拿到时间毫秒值。</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> d.getTime();</span><br><span class="line">        System.out.println(time);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、把时间毫秒值转换成日期对象： 2s之后的时间是多少。</span></span><br><span class="line">        time += <span class="number">2</span> * <span class="number">1000</span>;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">d2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(time);</span><br><span class="line">        System.out.println(d2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、直接把日期对象的时间通过setTime方法进行修改</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">d3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        d3.setTime(time);</span><br><span class="line">        System.out.println(d3);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="六、SimpleDateFormat类"><a href="#六、SimpleDateFormat类" class="headerlink" title="六、SimpleDateFormat类"></a>六、SimpleDateFormat类</h2><p>各位同学，前面我们打印Date对象时，发现打印输出的日期格式我们并不喜欢，是不是？你们喜欢那种格式呢？是不是像下面页面中这种格式啊？接下来我们学习的SimpleDateFormat类就可以转换Date对象表示日期时间的显示格式。</p>
<ul>
<li>我们把Date对象转换为指定格式的日期字符串这个操作，叫做<strong>日期格式化，</strong> </li>
<li>反过来把指定格式的日期符串转换为Date对象的操作，叫做<strong>日期解析。</strong></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057560717-4c23f0fc-b4ed-46c5-99c3-03404b2446d0.png#id=uBDJB&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，我们先演示一下日期格式化，需要用到如下的几个方法</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057560809-f99594f7-5da1-42ea-aab3-c8a764e10b7f.png#id=rcEVe&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>注意：创建SimpleDateFormat对象时，在构造方法的参数位置传递日期格式，而日期格式是由一些特定的字母拼接而来的。我们需要记住常用的几种日期/时间格式</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">字母	   表示含义</span><br><span class="line">yyyy	年</span><br><span class="line">MM		月</span><br><span class="line">dd		日</span><br><span class="line">HH		时</span><br><span class="line">mm		分</span><br><span class="line">ss		秒</span><br><span class="line">SSS		毫秒</span><br><span class="line"></span><br><span class="line"><span class="string">"2022年12月12日"</span> 的格式是 <span class="string">"yyyy年MM月dd日"</span></span><br><span class="line"><span class="string">"2022-12-12 12:12:12"</span> 的格式是 <span class="string">"yyyy-MM-dd HH:mm:ss"</span></span><br><span class="line">按照上面的格式可以任意拼接，但是字母不能写错</span><br></pre></td></tr></tbody></table></figure>

<p>最后，上代码演示一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2SimpleDateFormat</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException {</span><br><span class="line">        <span class="comment">// 目标：掌握SimpleDateFormat的使用。</span></span><br><span class="line">        <span class="comment">// 1、准备一些时间</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">d</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        System.out.println(d);</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> d.getTime();</span><br><span class="line">        System.out.println(time);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、格式化日期对象，和时间 毫秒值。</span></span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">"yyyy年MM月dd日 HH:mm:ss EEE a"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> sdf.format(d);</span><br><span class="line">        <span class="type">String</span> <span class="variable">rs2</span> <span class="operator">=</span> sdf.format(time);</span><br><span class="line">        System.out.println(rs);</span><br><span class="line">        System.out.println(rs2);</span><br><span class="line">        System.out.println(<span class="string">"----------------------------------------------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 目标：掌握SimpleDateFormat解析字符串时间 成为日期对象。</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">dateStr</span> <span class="operator">=</span> <span class="string">"2022-12-12 12:12:11"</span>;</span><br><span class="line">        <span class="comment">// 1、创建简单日期格式化对象 , 指定的时间格式必须与被解析的时间格式一模一样，否则程序会出bug.</span></span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">d2</span> <span class="operator">=</span> sdf2.parse(dateStr);</span><br><span class="line">        System.out.println(d2);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p><strong>日期格式化&amp;解析案例</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057560913-f88417b4-29e8-4673-acd5-53269481ebeb.png#id=qX03Y&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException {</span><br><span class="line">        <span class="comment">// 目标：完成秒杀案例。</span></span><br><span class="line">        <span class="comment">// 1、把开始时间、结束时间、小贾下单时间、小皮下单时间拿到程序中来。</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">start</span> <span class="operator">=</span> <span class="string">"2023年11月11日 0:0:0"</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">end</span> <span class="operator">=</span> <span class="string">"2023年11月11日 0:10:0"</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">xj</span> <span class="operator">=</span> <span class="string">"2023年11月11日 0:01:18"</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">xp</span> <span class="operator">=</span> <span class="string">"2023年11月11日 0:10:57"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、把字符串的时间解析成日期对象。</span></span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">"yyyy年MM月dd日 HH:mm:ss"</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">startDt</span> <span class="operator">=</span> sdf.parse(start);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">endDt</span> <span class="operator">=</span> sdf.parse(end);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">xjDt</span> <span class="operator">=</span> sdf.parse(xj);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">xpDt</span> <span class="operator">=</span> sdf.parse(xp);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、开始判断小皮和小贾是否秒杀成功了。</span></span><br><span class="line">        <span class="comment">// 把日期对象转换成时间毫秒值来判断</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> startDt.getTime();</span><br><span class="line">        <span class="type">long</span> <span class="variable">endTime</span> <span class="operator">=</span> endDt.getTime();</span><br><span class="line">        <span class="type">long</span> <span class="variable">xjTime</span> <span class="operator">=</span> xjDt.getTime();</span><br><span class="line">        <span class="type">long</span> <span class="variable">xpTime</span> <span class="operator">=</span> xpDt.getTime();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(xjTime &gt;= startTime &amp;&amp; xjTime &lt;= endTime){</span><br><span class="line">            System.out.println(<span class="string">"小贾您秒杀成功了~~"</span>);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            System.out.println(<span class="string">"小贾您秒杀失败了~~"</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(xpTime &gt;= startTime &amp;&amp; xpTime &lt;= endTime){</span><br><span class="line">            System.out.println(<span class="string">"小皮您秒杀成功了~~"</span>);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            System.out.println(<span class="string">"小皮您秒杀失败了~~"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="七、Calendar类"><a href="#七、Calendar类" class="headerlink" title="七、Calendar类"></a>七、Calendar类</h2><p>学完Date类和SimpleDateFormat类之后，我们再学习一个和日期相关的类，它是Calendar类。Calendar类表示日历，它提供了一些比Date类更好用的方法。</p>
<p>比如下面的案例，用Date类就不太好做，而用Calendar就特别方便。因为Calendar类提供了方法可以直接对日历中的年、月、日、时、分、秒等进行运算。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057561025-09083bff-4650-4e7e-8972-f740eb3d4057.png#id=seoru&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057561130-771cdca8-a925-49e1-93c5-bd2dc1b5ce50.png#id=bzyNG&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test4Calendar</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握Calendar的使用和特点。</span></span><br><span class="line">        <span class="comment">// 1、得到系统此刻时间对应的日历对象。</span></span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">now</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">        System.out.println(now);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、获取日历中的某个信息</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">year</span> <span class="operator">=</span> now.get(Calendar.YEAR);</span><br><span class="line">        System.out.println(year);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">days</span> <span class="operator">=</span> now.get(Calendar.DAY_OF_YEAR);</span><br><span class="line">        System.out.println(days);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、拿到日历中记录的日期对象。</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">d</span> <span class="operator">=</span> now.getTime();</span><br><span class="line">        System.out.println(d);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、拿到时间毫秒值</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> now.getTimeInMillis();</span><br><span class="line">        System.out.println(time);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、修改日历中的某个信息</span></span><br><span class="line">        now.set(Calendar.MONTH, <span class="number">9</span>); <span class="comment">// 修改月份成为10月份。</span></span><br><span class="line">        now.set(Calendar.DAY_OF_YEAR, <span class="number">125</span>); <span class="comment">// 修改成一年中的第125天。</span></span><br><span class="line">        System.out.println(now);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、为某个信息增加或者减少多少</span></span><br><span class="line">        now.add(Calendar.DAY_OF_YEAR, <span class="number">100</span>);</span><br><span class="line">        now.add(Calendar.DAY_OF_YEAR, -<span class="number">10</span>);</span><br><span class="line">        now.add(Calendar.DAY_OF_MONTH, <span class="number">6</span>);</span><br><span class="line">        now.add(Calendar.HOUR, <span class="number">12</span>);</span><br><span class="line">        now.set(<span class="number">2026</span>, <span class="number">11</span>, <span class="number">22</span>);</span><br><span class="line">        System.out.println(now);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="八、为什么JDK8要新增日期类"><a href="#八、为什么JDK8要新增日期类" class="headerlink" title="八、为什么JDK8要新增日期类"></a>八、为什么JDK8要新增日期类</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  目标：搞清楚为什么要用JDK 8开始新增的时间类。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 传统的时间类（Date、SimpleDateFormat、Calendar）存在如下问题：</span></span><br><span class="line">        <span class="comment">// 1、设计不合理，使用不方便，很多都被淘汰了。</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">d</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="comment">//System.out.println(d.getYear() + 1900);</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">c</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">        <span class="type">int</span> <span class="variable">year</span> <span class="operator">=</span> c.get(Calendar.YEAR);</span><br><span class="line">        System.out.println(year);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、都是可变对象，修改后会丢失最开始的时间信息。</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、线程不安全。</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、不能精确到纳秒，只能精确到毫秒。</span></span><br><span class="line">        <span class="comment">// 1秒 = 1000毫秒</span></span><br><span class="line">        <span class="comment">// 1毫秒 = 1000微妙</span></span><br><span class="line">        <span class="comment">// 1微妙 = 1000纳秒</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="九、JDK8日期、时间、日期时间"><a href="#九、JDK8日期、时间、日期时间" class="headerlink" title="九、JDK8日期、时间、日期时间"></a>九、JDK8日期、时间、日期时间</h2><p>接下来，我们学习一下JDK8新增的日期类。为什么以前的Date类就可以表示日期，为什么要有新增的日期类呢？原因如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057561247-96265514-6161-4b41-92b2-a0064ca98eae.png#id=en3uu&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>JDK8新增的日期类分得更细致一些，比如表示年月日用LocalDate类、表示时间秒用LocalTime类、而表示年月日时分秒用LocalDateTime类等；除了这些类还提供了对时区、时间间隔进行操作的类等。它们几乎把对日期/时间的所有操作都通过了API方法，用起来特别方便。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057561340-d74eb205-41f7-4080-bb6b-396f771ed2f0.png#id=EWZQr&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>先学习表示日期、时间、日期时间的类；有LocalDate、LocalTime、以及LocalDateTime类。仔细阅读代码，你会发现这三个类的用法套路都是一样的。</p>
<ul>
<li>LocalDate类的基本使用</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1_LocalDate</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 0、获取本地日期对象(不可变对象)</span></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">ld</span> <span class="operator">=</span> LocalDate.now(); <span class="comment">// 年 月 日</span></span><br><span class="line">        System.out.println(ld);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1、获取日期对象中的信息</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">year</span> <span class="operator">=</span> ld.getYear(); <span class="comment">// 年</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">month</span> <span class="operator">=</span> ld.getMonthValue(); <span class="comment">// 月(1-12)</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">day</span> <span class="operator">=</span> ld.getDayOfMonth(); <span class="comment">// 日</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">dayOfYear</span> <span class="operator">=</span> ld.getDayOfYear();  <span class="comment">// 一年中的第几天</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">dayOfWeek</span> <span class="operator">=</span> ld.getDayOfWeek().getValue(); <span class="comment">// 星期几</span></span><br><span class="line">        System.out.println(year);</span><br><span class="line">        System.out.println(day);</span><br><span class="line">        System.out.println(dayOfWeek);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、直接修改某个信息: withYear、withMonth、withDayOfMonth、withDayOfYear</span></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">ld2</span> <span class="operator">=</span> ld.withYear(<span class="number">2099</span>);</span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">ld3</span> <span class="operator">=</span> ld.withMonth(<span class="number">12</span>);</span><br><span class="line">        System.out.println(ld2);</span><br><span class="line">        System.out.println(ld3);</span><br><span class="line">        System.out.println(ld);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、把某个信息加多少: plusYears、plusMonths、plusDays、plusWeeks</span></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">ld4</span> <span class="operator">=</span> ld.plusYears(<span class="number">2</span>);</span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">ld5</span> <span class="operator">=</span> ld.plusMonths(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、把某个信息减多少：minusYears、minusMonths、minusDays、minusWeeks</span></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">ld6</span> <span class="operator">=</span> ld.minusYears(<span class="number">2</span>);</span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">ld7</span> <span class="operator">=</span> ld.minusMonths(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、获取指定日期的LocalDate对象： public static LocalDate of(int year, int month, int dayOfMonth)</span></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">ld8</span> <span class="operator">=</span> LocalDate.of(<span class="number">2099</span>, <span class="number">12</span>, <span class="number">12</span>);</span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">ld9</span> <span class="operator">=</span> LocalDate.of(<span class="number">2099</span>, <span class="number">12</span>, <span class="number">12</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、判断2个日期对象，是否相等，在前还是在后： equals isBefore isAfter</span></span><br><span class="line">        System.out.println(ld8.equals(ld9));<span class="comment">// true</span></span><br><span class="line">        System.out.println(ld8.isAfter(ld)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(ld8.isBefore(ld)); <span class="comment">// false</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>LocalTime类的基本使用</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2_LocalTime</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 0、获取本地时间对象</span></span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt</span> <span class="operator">=</span> LocalTime.now(); <span class="comment">// 时 分 秒 纳秒 不可变的</span></span><br><span class="line">        System.out.println(lt);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1、获取时间中的信息</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">hour</span> <span class="operator">=</span> lt.getHour(); <span class="comment">//时</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">minute</span> <span class="operator">=</span> lt.getMinute(); <span class="comment">//分</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">second</span> <span class="operator">=</span> lt.getSecond(); <span class="comment">//秒</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">nano</span> <span class="operator">=</span> lt.getNano(); <span class="comment">//纳秒</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、修改时间：withHour、withMinute、withSecond、withNano</span></span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt3</span> <span class="operator">=</span> lt.withHour(<span class="number">10</span>);</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt4</span> <span class="operator">=</span> lt.withMinute(<span class="number">10</span>);</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt5</span> <span class="operator">=</span> lt.withSecond(<span class="number">10</span>);</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt6</span> <span class="operator">=</span> lt.withNano(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、加多少：plusHours、plusMinutes、plusSeconds、plusNanos</span></span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt7</span> <span class="operator">=</span> lt.plusHours(<span class="number">10</span>);</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt8</span> <span class="operator">=</span> lt.plusMinutes(<span class="number">10</span>);</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt9</span> <span class="operator">=</span> lt.plusSeconds(<span class="number">10</span>);</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt10</span> <span class="operator">=</span> lt.plusNanos(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、减多少：minusHours、minusMinutes、minusSeconds、minusNanos</span></span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt11</span> <span class="operator">=</span> lt.minusHours(<span class="number">10</span>);</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt12</span> <span class="operator">=</span> lt.minusMinutes(<span class="number">10</span>);</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt13</span> <span class="operator">=</span> lt.minusSeconds(<span class="number">10</span>);</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt14</span> <span class="operator">=</span> lt.minusNanos(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、获取指定时间的LocalTime对象：</span></span><br><span class="line">        <span class="comment">// public static LocalTime of(int hour, int minute, int second)</span></span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt15</span> <span class="operator">=</span> LocalTime.of(<span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>);</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt16</span> <span class="operator">=</span> LocalTime.of(<span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、判断2个时间对象，是否相等，在前还是在后： equals isBefore isAfter</span></span><br><span class="line">        System.out.println(lt15.equals(lt16)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(lt15.isAfter(lt)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(lt15.isBefore(lt)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>LocalDateTime类的基本使用</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3_LocalDateTime</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 0、获取本地日期和时间对象。</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">ldt</span> <span class="operator">=</span> LocalDateTime.now(); <span class="comment">// 年 月 日 时 分 秒 纳秒</span></span><br><span class="line">        System.out.println(ldt);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1、可以获取日期和时间的全部信息</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">year</span> <span class="operator">=</span> ldt.getYear(); <span class="comment">// 年</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">month</span> <span class="operator">=</span> ldt.getMonthValue(); <span class="comment">// 月</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">day</span> <span class="operator">=</span> ldt.getDayOfMonth(); <span class="comment">// 日</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">dayOfYear</span> <span class="operator">=</span> ldt.getDayOfYear();  <span class="comment">// 一年中的第几天</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">dayOfWeek</span> <span class="operator">=</span> ldt.getDayOfWeek().getValue();  <span class="comment">// 获取是周几</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">hour</span> <span class="operator">=</span> ldt.getHour(); <span class="comment">//时</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">minute</span> <span class="operator">=</span> ldt.getMinute(); <span class="comment">//分</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">second</span> <span class="operator">=</span> ldt.getSecond(); <span class="comment">//秒</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">nano</span> <span class="operator">=</span> ldt.getNano(); <span class="comment">//纳秒</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、修改时间信息：</span></span><br><span class="line">        <span class="comment">// withYear withMonth withDayOfMonth withDayOfYear withHour</span></span><br><span class="line">        <span class="comment">// withMinute withSecond withNano</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">ldt2</span> <span class="operator">=</span> ldt.withYear(<span class="number">2029</span>);</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">ldt3</span> <span class="operator">=</span> ldt.withMinute(<span class="number">59</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、加多少:</span></span><br><span class="line">        <span class="comment">// plusYears  plusMonths plusDays plusWeeks plusHours plusMinutes plusSeconds plusNanos</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">ldt4</span> <span class="operator">=</span> ldt.plusYears(<span class="number">2</span>);</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">ldt5</span> <span class="operator">=</span> ldt.plusMinutes(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、减多少：</span></span><br><span class="line">        <span class="comment">// minusDays minusYears minusMonths minusWeeks minusHours minusMinutes minusSeconds minusNanos</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">ldt6</span> <span class="operator">=</span> ldt.minusYears(<span class="number">2</span>);</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">ldt7</span> <span class="operator">=</span> ldt.minusMinutes(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、获取指定日期和时间的LocalDateTime对象：</span></span><br><span class="line">        <span class="comment">// public static LocalDateTime of(int year, Month month, int dayOfMonth, int hour,</span></span><br><span class="line">        <span class="comment">//                                  int minute, int second, int nanoOfSecond)</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">ldt8</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2029</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">1222</span>);</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">ldt9</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2029</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">12</span>, <span class="number">1222</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、 判断2个日期、时间对象，是否相等，在前还是在后： equals、isBefore、isAfter</span></span><br><span class="line">        System.out.println(ldt9.equals(ldt8));</span><br><span class="line">        System.out.println(ldt9.isAfter(ldt));</span><br><span class="line">        System.out.println(ldt9.isBefore(ldt));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7、可以把LocalDateTime转换成LocalDate和LocalTime</span></span><br><span class="line">        <span class="comment">// public LocalDate toLocalDate()</span></span><br><span class="line">        <span class="comment">// public LocalTime toLocalTime()</span></span><br><span class="line">        <span class="comment">// public static LocalDateTime of(LocalDate date, LocalTime time)</span></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">ld</span> <span class="operator">=</span> ldt.toLocalDate();</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">lt</span> <span class="operator">=</span> ldt.toLocalTime();</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">ldt10</span> <span class="operator">=</span> LocalDateTime.of(ld, lt);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="十、JDK8日期（时区）"><a href="#十、JDK8日期（时区）" class="headerlink" title="十、JDK8日期（时区）"></a>十、JDK8日期（时区）</h2><p>接着，我们学习代表时区的两个类。由于世界各个国家与地区的经度不同，各地区的时间也有所不同，因此会划分为不同的时区。每一个时区的时间也不太一样。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057561443-87d1fde4-790a-4e3b-ad0d-5071165a03df.png#id=AclIw&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test4_ZoneId_ZonedDateTime</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：了解时区和带时区的时间。</span></span><br><span class="line">        <span class="comment">// 1、ZoneId的常见方法：</span></span><br><span class="line">        <span class="comment">// public static ZoneId systemDefault(): 获取系统默认的时区</span></span><br><span class="line">        <span class="type">ZoneId</span> <span class="variable">zoneId</span> <span class="operator">=</span> ZoneId.systemDefault();</span><br><span class="line">        System.out.println(zoneId.getId());</span><br><span class="line">        System.out.println(zoneId);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// public static Set&lt;String&gt; getAvailableZoneIds(): 获取Java支持的全部时区Id</span></span><br><span class="line">        System.out.println(ZoneId.getAvailableZoneIds());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// public static ZoneId of(String zoneId) : 把某个时区id封装成ZoneId对象。</span></span><br><span class="line">        <span class="type">ZoneId</span> <span class="variable">zoneId1</span> <span class="operator">=</span> ZoneId.of(<span class="string">"America/New_York"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、ZonedDateTime：带时区的时间。</span></span><br><span class="line">        <span class="comment">// public static ZonedDateTime now(ZoneId zone): 获取某个时区的ZonedDateTime对象。</span></span><br><span class="line">        <span class="type">ZonedDateTime</span> <span class="variable">now</span> <span class="operator">=</span> ZonedDateTime.now(zoneId1);</span><br><span class="line">        System.out.println(now);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 世界标准时间了</span></span><br><span class="line">        <span class="type">ZonedDateTime</span> <span class="variable">now1</span> <span class="operator">=</span> ZonedDateTime.now(Clock.systemUTC());</span><br><span class="line">        System.out.println(now1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// public static ZonedDateTime now()：获取系统默认时区的ZonedDateTime对象</span></span><br><span class="line">        <span class="type">ZonedDateTime</span> <span class="variable">now2</span> <span class="operator">=</span> ZonedDateTime.now();</span><br><span class="line">        System.out.println(now2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Calendar instance = Calendar.getInstance(TimeZone.getTimeZone(zoneId1));</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="十一、JDK8日期（Instant类）"><a href="#十一、JDK8日期（Instant类）" class="headerlink" title="十一、JDK8日期（Instant类）"></a>十一、JDK8日期（Instant类）</h2><p>接下来，我们来学习Instant这个类。通过获取Instant的对象可以拿到此刻的时间，该时间由两部分组成：从1970-01-01 00:00:00 开始走到此刻的总秒数+不够1秒的纳秒数。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057561529-3745431b-101e-4cd3-a4c5-828f2dcb89ad.png#id=ieNWZ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>该类提供的方法如下图所示，可以用来获取当前时间，也可以对时间进行加、减、获取等操作。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057561752-f561e173-58eb-45aa-b9ad-42620fc94cfc.png#id=CjmoY&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>作用：可以用来记录代码的执行时间，或用于记录用户操作某个事件的时间点。</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握Instant的使用。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test5_Instant</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">       <span class="comment">// 1、创建Instant的对象，获取此刻时间信息</span></span><br><span class="line">        <span class="type">Instant</span> <span class="variable">now</span> <span class="operator">=</span> Instant.now(); <span class="comment">// 不可变对象</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、获取总秒数</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">second</span> <span class="operator">=</span> now.getEpochSecond();</span><br><span class="line">        System.out.println(second);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、不够1秒的纳秒数</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">nano</span> <span class="operator">=</span> now.getNano();</span><br><span class="line">        System.out.println(nano);</span><br><span class="line"></span><br><span class="line">        System.out.println(now);</span><br><span class="line"></span><br><span class="line">        <span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> now.plusNanos(<span class="number">111</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Instant对象的作用：做代码的性能分析，或者记录用户的操作时间点</span></span><br><span class="line">        <span class="type">Instant</span> <span class="variable">now1</span> <span class="operator">=</span> Instant.now();</span><br><span class="line">        <span class="comment">// 代码执行。。。。</span></span><br><span class="line">        <span class="type">Instant</span> <span class="variable">now2</span> <span class="operator">=</span> Instant.now();</span><br><span class="line"></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">l</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="十二、JDK8日期（格式化器）"><a href="#十二、JDK8日期（格式化器）" class="headerlink" title="十二、JDK8日期（格式化器）"></a>十二、JDK8日期（格式化器）</h2><p>接下来，我们学习一个新增的日期格式化类，叫DateTimeFormater。它可以从来对日期进行格式化和解析。它代替了原来的SimpleDateFormat类。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057561931-19c926cb-f4dd-43e4-a8e8-b69f7d44610b.png#id=OyGo5&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>需要用到的方法，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057562068-544a0d8f-98bc-427e-a154-3954b9659477.png#id=WaAK6&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，将上面的方法用代码来演示一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  目标：掌握JDK 8新增的DateTimeFormatter格式化器的用法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test6_DateTimeFormatter</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、创建一个日期时间格式化器对象出来。</span></span><br><span class="line">        <span class="type">DateTimeFormatter</span> <span class="variable">formatter</span> <span class="operator">=</span> DateTimeFormatter.ofPattern(<span class="string">"yyyy年MM月dd日 HH:mm:ss"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、对时间进行格式化</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">now</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">        System.out.println(now);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> formatter.format(now); <span class="comment">// 正向格式化</span></span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、格式化时间，其实还有一种方案。</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs2</span> <span class="operator">=</span> now.format(formatter); <span class="comment">// 反向格式化</span></span><br><span class="line">        System.out.println(rs2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、解析时间：解析时间一般使用LocalDateTime提供的解析方法来解析。</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">dateStr</span> <span class="operator">=</span> <span class="string">"2029年12月12日 12:12:11"</span>;</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">ldt</span> <span class="operator">=</span> LocalDateTime.parse(dateStr, formatter);</span><br><span class="line">        System.out.println(ldt);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="十三、JDK8日期（Period类）"><a href="#十三、JDK8日期（Period类）" class="headerlink" title="十三、JDK8日期（Period类）"></a>十三、JDK8日期（Period类）</h2><p>除以了上新增的类，JDK8还补充了两个类，一个叫Period类、一个叫Duration类；这两个类可以用来对计算两个时间点的时间间隔。</p>
<p>其中Period用来计算日期间隔（年、月、日），Duration用来计算时间间隔（时、分、秒、纳秒）</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057562196-2f1b53c4-a0c5-4707-b88b-c611c52f8473.png#id=cbKoK&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>先来演示Period类的用法，它的方法如下图所示。可以用来计算两个日期之间相隔的年、相隔的月、相隔的日。<strong>只能两个计算LocalDate对象之间的间隔</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057562330-418de745-02a3-4090-a660-bf68b4ce28d1.png#id=zwe19&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握Period的作用：计算机两个日期相差的年数，月数、天数。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test7_Period</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">start</span> <span class="operator">=</span> LocalDate.of(<span class="number">2029</span>, <span class="number">8</span>, <span class="number">10</span>);</span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">end</span> <span class="operator">=</span> LocalDate.of(<span class="number">2029</span>, <span class="number">12</span>, <span class="number">15</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1、创建Period对象，封装两个日期对象。</span></span><br><span class="line">        <span class="type">Period</span> <span class="variable">period</span> <span class="operator">=</span> Period.between(start, end);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、通过period对象获取两个日期对象相差的信息。</span></span><br><span class="line">        System.out.println(period.getYears());</span><br><span class="line">        System.out.println(period.getMonths());</span><br><span class="line">        System.out.println(period.getDays());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="十四、JDK8日期（Duration类）"><a href="#十四、JDK8日期（Duration类）" class="headerlink" title="十四、JDK8日期（Duration类）"></a>十四、JDK8日期（Duration类）</h2><p>接下来，我们学习Duration类。它是用来表示两个时间对象的时间间隔。<strong>可以用于计算两个时间对象相差的天数、小时数、分数、秒数、纳秒数；支持LocalTime、LocalDateTime、Instant等时间</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057562437-c63a5630-e476-4775-9fad-404068154c49.png#id=QcHqP&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test8_Duration</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">start</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2025</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">end</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2025</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">11</span>);</span><br><span class="line">        <span class="comment">// 1、得到Duration对象</span></span><br><span class="line">        <span class="type">Duration</span> <span class="variable">duration</span> <span class="operator">=</span> Duration.between(start, end);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、获取两个时间对象间隔的信息</span></span><br><span class="line">        System.out.println(duration.toDays());<span class="comment">// 间隔多少天</span></span><br><span class="line">        System.out.println(duration.toHours());<span class="comment">// 间隔多少小时</span></span><br><span class="line">        System.out.println(duration.toMinutes());<span class="comment">// 间隔多少分</span></span><br><span class="line">        System.out.println(duration.toSeconds());<span class="comment">// 间隔多少秒</span></span><br><span class="line">        System.out.println(duration.toMillis());<span class="comment">// 间隔多少毫秒</span></span><br><span class="line">        System.out.println(duration.toNanos());<span class="comment">// 间隔多少纳秒</span></span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day05-算法和数据结构"><a href="#day05-算法和数据结构" class="headerlink" title="day05-算法和数据结构"></a>day05-算法和数据结构</h1><h2 id="一、Arrays类"><a href="#一、Arrays类" class="headerlink" title="一、Arrays类"></a>一、Arrays类</h2><p>接下来我们学习的类叫做Arrays，其实Arrays并不是重点，但是我们通过Arrays这个类的学习有助于我们理解下一个知识点Lambda的学习。所以我们这里先学习Arrays，再通过Arrays来学习Lamdba这样学习会更丝滑一些_.</p>
<h3 id="1-1-Arrays基本使用"><a href="#1-1-Arrays基本使用" class="headerlink" title="1.1 Arrays基本使用"></a>1.1 Arrays基本使用</h3><p>我们先认识一下Arrays是干什么用的，Arrays是操作数组的工具类，它可以很方便的对数组中的元素进行遍历、拷贝、排序等操作。</p>
<p>下面我们用代码来演示一下：<strong>遍历、拷贝、排序等操作</strong>。需要用到的方法如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057562550-1abf6911-3045-4b80-b17e-eb44503f8006.png#id=Lj2fi&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握Arrays类的常用方法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArraysTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、public static String toString(类型[] arr): 返回数组的内容</span></span><br><span class="line">        <span class="type">int</span>[] arr = {<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>};</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、public static 类型[] copyOfRange(类型[] arr, 起始索引, 结束索引) ：拷贝数组（指定范围，包前不包后）</span></span><br><span class="line">        <span class="type">int</span>[] arr2 = Arrays.copyOfRange(arr, <span class="number">1</span>, <span class="number">4</span>);</span><br><span class="line">        System.out.println(Arrays.toString(arr2));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、public static copyOf(类型[] arr, int newLength)：拷贝数组，可以指定新数组的长度。</span></span><br><span class="line">        <span class="type">int</span>[] arr3 = Arrays.copyOf(arr, <span class="number">10</span>);</span><br><span class="line">        System.out.println(Arrays.toString(arr3));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、public static setAll(double[] array, IntToDoubleFunction generator)：把数组中的原数据改为新数据又存进去。</span></span><br><span class="line">        <span class="type">double</span>[] prices = {<span class="number">99.8</span>, <span class="number">128</span>, <span class="number">100</span>};</span><br><span class="line">        <span class="comment">//                  0     1    2</span></span><br><span class="line">        <span class="comment">// 把所有的价格都打八折，然后又存进去。</span></span><br><span class="line">        Arrays.setAll(prices, <span class="keyword">new</span> <span class="title class_">IntToDoubleFunction</span>() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">applyAsDouble</span><span class="params">(<span class="type">int</span> value)</span> {</span><br><span class="line">                <span class="comment">// value = 0  1  2</span></span><br><span class="line">                <span class="keyword">return</span> prices[value] * <span class="number">0.8</span>;</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">        System.out.println(Arrays.toString(prices));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、public static void sort(类型[] arr)：对数组进行排序(默认是升序排序)</span></span><br><span class="line">        Arrays.sort(prices);</span><br><span class="line">        System.out.println(Arrays.toString(prices));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-2-Arrays操作对象数组"><a href="#1-2-Arrays操作对象数组" class="headerlink" title="1.2 Arrays操作对象数组"></a>1.2 Arrays操作对象数组</h3><p>刚才我们使用Arrays操作数组时，数组中存储存储的元素是int类型、double类型，是可以直接排序的，而且默认是升序排列。</p>
<p>如果数组中存储的元素类型是自定义的对象，如何排序呢？接下来，我们就学习一下Arrays如何对对象数组进行排序。</p>
<p>首先我们要准备一个Student类，代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">double</span> height, <span class="type">int</span> age)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.height = height;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Student{"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", height="</span> + height +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">'}'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>然后再写一个测试类，往数组中存储4个学生对象，代码如下。此时，运行代码你会发现是会报错的。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArraysTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握如何对数组中的对象进行排序。</span></span><br><span class="line">        Student[] students = <span class="keyword">new</span> <span class="title class_">Student</span>[<span class="number">4</span>];</span><br><span class="line">        students[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">169.5</span>, <span class="number">23</span>);</span><br><span class="line">        students[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>, <span class="number">163.8</span>, <span class="number">26</span>);</span><br><span class="line">        students[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>, <span class="number">163.8</span>, <span class="number">26</span>);</span><br><span class="line">        students[<span class="number">3</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"至尊宝"</span>, <span class="number">167.5</span>, <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1、public static void sort(类型[] arr)：对数组进行排序。</span></span><br><span class="line">		Arrays.sort(students);</span><br><span class="line">		System.out.println(Arrays.toString(students));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057562728-0b8c4665-eec9-4b61-b14a-9039aaa838a2.png#id=fC0B5&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>上面的代码为什么会报错呢？因为Arrays根本就不知道按照什么规则进行排序。为了让Arrays知道按照什么规则排序，我们有如下的两种办法。</p>
<ul>
<li><strong>排序方式1：</strong>让Student类实现Comparable接口，同时重写compareTo方法。Arrays的sort方法底层会根据compareTo方法的返回值是正数、负数、还是0来确定谁大、谁小、谁相等。代码如下：</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//...get、set、空参数构造方法、有参数构造方法...自己补全</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定比较规则</span></span><br><span class="line">    <span class="comment">// this  o</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span> {</span><br><span class="line">        <span class="comment">// 约定1：认为左边对象 大于 右边对象 请您返回正整数</span></span><br><span class="line">        <span class="comment">// 约定2：认为左边对象 小于 右边对象 请您返回负整数</span></span><br><span class="line">        <span class="comment">// 约定3：认为左边对象 等于 右边对象 请您一定返回0</span></span><br><span class="line">		<span class="comment">/* if(this.age &gt; o.age){</span></span><br><span class="line"><span class="comment">            return 1;</span></span><br><span class="line"><span class="comment">        }else if(this.age &lt; o.age){</span></span><br><span class="line"><span class="comment">            return -1;</span></span><br><span class="line"><span class="comment">        }</span></span><br><span class="line"><span class="comment">        return 0;*/</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//上面的if语句，也可以简化为下面的一行代码</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age - o.age; <span class="comment">// 按照年龄升序排列</span></span><br><span class="line">        <span class="comment">// return o.age - this.age; // 按照年龄降序排列</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Student{"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", height="</span> + height +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">'}'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>排序方式2：</strong>在调用<code>Arrays.sort(数组,Comparator比较器);</code>时，除了传递数组之外，传递一个Comparator比较器对象。Arrays的sort方法底层会根据Comparator比较器对象的compare方法方法的返回值是正数、负数、还是0来确定谁大、谁小、谁相等。代码如下</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArraysTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：掌握如何对数组中的对象进行排序。</span></span><br><span class="line">        Student[] students = <span class="keyword">new</span> <span class="title class_">Student</span>[<span class="number">4</span>];</span><br><span class="line">        students[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">169.5</span>, <span class="number">23</span>);</span><br><span class="line">        students[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>, <span class="number">163.8</span>, <span class="number">26</span>);</span><br><span class="line">        students[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>, <span class="number">163.8</span>, <span class="number">26</span>);</span><br><span class="line">        students[<span class="number">3</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"至尊宝"</span>, <span class="number">167.5</span>, <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 2、public static &lt;T&gt; void sort(T[] arr, Comparator&lt;? super T&gt; c)</span></span><br><span class="line">        <span class="comment">// 参数一：需要排序的数组</span></span><br><span class="line">        <span class="comment">// 参数二：Comparator比较器对象（用来制定对象的比较规则）</span></span><br><span class="line">        Arrays.sort(students, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> {</span><br><span class="line">                <span class="comment">// 制定比较规则了：左边对象 o1   右边对象 o2</span></span><br><span class="line">                <span class="comment">// 约定1：认为左边对象 大于 右边对象 请您返回正整数</span></span><br><span class="line">                <span class="comment">// 约定2：认为左边对象 小于 右边对象 请您返回负整数</span></span><br><span class="line">                <span class="comment">// 约定3：认为左边对象 等于 右边对象 请您一定返回0</span></span><br><span class="line"><span class="comment">//                if(o1.getHeight() &gt; o2.getHeight()){</span></span><br><span class="line"><span class="comment">//                    return 1;</span></span><br><span class="line"><span class="comment">//                }else if(o1.getHeight() &lt; o2.getHeight()){</span></span><br><span class="line"><span class="comment">//                    return -1;</span></span><br><span class="line"><span class="comment">//                }</span></span><br><span class="line"><span class="comment">//                return 0; // 升序</span></span><br><span class="line">                 <span class="keyword">return</span> Double.compare(o1.getHeight(), o2.getHeight()); <span class="comment">// 升序</span></span><br><span class="line">                <span class="comment">// return Double.compare(o2.getHeight(), o1.getHeight()); // 降序</span></span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">        System.out.println(Arrays.toString(students));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="二、Lambda表达式"><a href="#二、Lambda表达式" class="headerlink" title="二、Lambda表达式"></a>二、Lambda表达式</h2><p>接下来，我们学习一个JDK8新增的一种语法形式，叫做Lambda表达式。<strong>作用：用于简化匿名内部类代码的书写。</strong></p>
<h3 id="2-1-Lambda表达式基本使用"><a href="#2-1-Lambda表达式基本使用" class="headerlink" title="2.1 Lambda表达式基本使用"></a>2.1 Lambda表达式基本使用</h3><p>怎么去简化呢？Lamdba是有特有的格式的，按照下面的格式来编写Lamdba。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(被重写方法的形参列表) -&gt; {</span><br><span class="line">    被重写方法的方法体代码;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>需要给说明一下的是，在使用Lambda表达式之前，必须先有一个接口，而且接口中只能有一个抽象方法。<strong>（注意：不能是抽象类，只能是接口）</strong></p>
<p>像这样的接口，我们称之为函数式接口，只有基于函数式接口的匿名内部类才能被Lambda表达式简化。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Swimming</span>{</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">swim</span><span class="params">()</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>有了以上的Swimming接口之后，接下来才能再演示，使用Lambda表达式，简化匿名内部类书写。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LambdaTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：认识Lambda表达式.</span></span><br><span class="line">        <span class="comment">//1.创建一个Swimming接口的匿名内部类对象</span></span><br><span class="line">		<span class="type">Swimming</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Swimming</span>(){</span><br><span class="line">             <span class="meta">@Override</span></span><br><span class="line">             <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swim</span><span class="params">()</span> {</span><br><span class="line">                 System.out.println(<span class="string">"学生快乐的游泳~~~~"</span>);</span><br><span class="line">             }</span><br><span class="line">         };</span><br><span class="line">         s.swim();</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//2.使用Lambda表达式对Swimming接口的匿名内部类进行简化</span></span><br><span class="line">        <span class="type">Swimming</span> <span class="variable">s1</span> <span class="operator">=</span> () -&gt; {</span><br><span class="line">              System.out.println(<span class="string">"学生快乐的游泳~~~~"</span>);</span><br><span class="line">        };</span><br><span class="line">        s1.swim();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>好的，我们现在已经知道Lamdba表达式可以简化基于函数式接口的匿名内部类的书写。接下来，我们可以把刚才使用Arrays方法时的代码，使用Lambda表达式简化一下了。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LambdaTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：使用Lambda简化函数式接口。</span></span><br><span class="line">        <span class="type">double</span>[] prices = {<span class="number">99.8</span>, <span class="number">128</span>, <span class="number">100</span>};</span><br><span class="line">		<span class="comment">//1.把所有元素*0.8: 先用匿名内部类写法</span></span><br><span class="line">        Arrays.setAll(prices, <span class="keyword">new</span> <span class="title class_">IntToDoubleFunction</span>() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">applyAsDouble</span><span class="params">(<span class="type">int</span> value)</span> {</span><br><span class="line">                <span class="comment">// value = 0  1  2</span></span><br><span class="line">                <span class="keyword">return</span> prices[value] * <span class="number">0.8</span>;</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">		<span class="comment">//2.把所有元素*0.8: 改用Lamdba表达式写法</span></span><br><span class="line">        Arrays.setAll(prices, (<span class="type">int</span> value) -&gt; {</span><br><span class="line">                <span class="keyword">return</span> prices[value] * <span class="number">0.8</span>;</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        System.out.println(Arrays.toString(prices));</span><br><span class="line">        System.out.println(<span class="string">"-----------------------------------------------"</span>);</span><br><span class="line">		</span><br><span class="line">        Student[] students = <span class="keyword">new</span> <span class="title class_">Student</span>[<span class="number">4</span>];</span><br><span class="line">        students[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">169.5</span>, <span class="number">23</span>);</span><br><span class="line">        students[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>, <span class="number">163.8</span>, <span class="number">26</span>);</span><br><span class="line">        students[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>, <span class="number">163.8</span>, <span class="number">26</span>);</span><br><span class="line">        students[<span class="number">3</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"至尊宝"</span>, <span class="number">167.5</span>, <span class="number">24</span>);</span><br><span class="line">		<span class="comment">//3.对数组中的元素按照年龄升序排列: 先用匿名内部类写法</span></span><br><span class="line">        Arrays.sort(students, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> {</span><br><span class="line">                <span class="keyword">return</span> Double.compare(o1.getHeight(), o2.getHeight()); <span class="comment">// 升序</span></span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">		<span class="comment">//4.对数组中的元素按照年龄升序排列: 改用Lambda写法</span></span><br><span class="line">        Arrays.sort(students, (Student o1, Student o2) -&gt; {</span><br><span class="line">                <span class="keyword">return</span> Double.compare(o1.getHeight(), o2.getHeight()); <span class="comment">// 升序</span></span><br><span class="line">        });</span><br><span class="line">        System.out.println(Arrays.toString(students));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>好的，各位同学，恭喜大家！到这里，你已经学会了Lambda表达式的基本使用了。</p>
<h3 id="2-2-Lambda表达式省略规则"><a href="#2-2-Lambda表达式省略规则" class="headerlink" title="2.2 Lambda表达式省略规则"></a>2.2 Lambda表达式省略规则</h3><p>刚才我们学习了Lambda表达式的基本使用。Java觉得代码还不够简单，于是还提供了Lamdba表达式的几种简化写法。具体的简化规则如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>Lambda的标准格式</span><br><span class="line">	(参数类型<span class="number">1</span> 参数名<span class="number">1</span>, 参数类型<span class="number">2</span> 参数名<span class="number">2</span>)-&gt;{</span><br><span class="line">		...方法体的代码...</span><br><span class="line">		<span class="keyword">return</span> 返回值;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>在标准格式的基础上()中的参数类型可以直接省略</span><br><span class="line">	(参数名<span class="number">1</span>, 参数名<span class="number">2</span>)-&gt;{</span><br><span class="line">		...方法体的代码...</span><br><span class="line">		<span class="keyword">return</span> 返回值;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line"><span class="number">3.</span>如果{}总的语句只有一条语句，则{}可以省略、<span class="keyword">return</span>关键字、以及最后的“;”都可以省略</span><br><span class="line">	(参数名<span class="number">1</span>, 参数名<span class="number">2</span>)-&gt; 结果</span><br><span class="line">	</span><br><span class="line"><span class="number">4.</span>如果()里面只有一个参数，则()可以省略</span><br><span class="line">	(参数名)-&gt;结果</span><br></pre></td></tr></tbody></table></figure>

<p>接下来从匿名内部类开始、到Lambda标准格式、再到Lambda简化格式，一步一步来简化一下。同学们体会一下简化的过程。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LambdaTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 目标：使用Lambda简化函数式接口。</span></span><br><span class="line">        <span class="type">double</span>[] prices = {<span class="number">99.8</span>, <span class="number">128</span>, <span class="number">100</span>};</span><br><span class="line">		<span class="comment">//1.对数组中的每一个元素*0.8: 匿名内部类写法</span></span><br><span class="line">        Arrays.setAll(prices, <span class="keyword">new</span> <span class="title class_">IntToDoubleFunction</span>() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">applyAsDouble</span><span class="params">(<span class="type">int</span> value)</span> {</span><br><span class="line">                <span class="comment">// value = 0  1  2</span></span><br><span class="line">                <span class="keyword">return</span> prices[value] * <span class="number">0.8</span>;</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">		<span class="comment">//2.需求：对数组中的每一个元素*0.8,使用Lambda表达式标准写法</span></span><br><span class="line">        Arrays.setAll(prices, (<span class="type">int</span> value) -&gt; {</span><br><span class="line">                <span class="keyword">return</span> prices[value] * <span class="number">0.8</span>;</span><br><span class="line">        });</span><br><span class="line">		<span class="comment">//3.使用Lambda表达式简化格式1——省略参数类型</span></span><br><span class="line">        Arrays.setAll(prices, (value) -&gt; {</span><br><span class="line">            <span class="keyword">return</span> prices[value] * <span class="number">0.8</span>;</span><br><span class="line">        });</span><br><span class="line">		<span class="comment">//4.使用Lambda表达式简化格式2——省略()</span></span><br><span class="line">        Arrays.setAll(prices, value -&gt; {</span><br><span class="line">            <span class="keyword">return</span> prices[value] * <span class="number">0.8</span>;</span><br><span class="line">        });</span><br><span class="line">        <span class="comment">//5.使用Lambda表达式简化格式3——省略{}</span></span><br><span class="line">        Arrays.setAll(prices, value -&gt; prices[value] * <span class="number">0.8</span> );</span><br><span class="line"></span><br><span class="line">        System.out.println(Arrays.toString(prices));</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">"------------------------------------</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Student[] students = new Student[4];</span></span><br><span class="line"><span class="string">        students[0] = new Student("</span>蜘蛛精<span class="string">", 169.5, 23);</span></span><br><span class="line"><span class="string">        students[1] = new Student("</span>紫霞<span class="string">", 163.8, 26);</span></span><br><span class="line"><span class="string">        students[2] = new Student("</span>紫霞<span class="string">", 163.8, 26);</span></span><br><span class="line"><span class="string">        students[3] = new Student("</span>至尊宝<span class="string">", 167.5, 24);</span></span><br><span class="line"><span class="string">		</span></span><br><span class="line"><span class="string">        //1.使用匿名内部类</span></span><br><span class="line"><span class="string">        Arrays.sort(students, new Comparator&lt;Student&gt;() {</span></span><br><span class="line"><span class="string">            @Override</span></span><br><span class="line"><span class="string">            public int compare(Student o1, Student o2) {</span></span><br><span class="line"><span class="string">                return Double.compare(o1.getHeight(), o2.getHeight()); // 升序</span></span><br><span class="line"><span class="string">            }</span></span><br><span class="line"><span class="string">        });</span></span><br><span class="line"><span class="string">		//2.使用Lambda表达式表达式——标准格式</span></span><br><span class="line"><span class="string">        Arrays.sort(students, (Student o1, Student o2) -&gt; {</span></span><br><span class="line"><span class="string">                return Double.compare(o1.getHeight(), o2.getHeight()); // 升序</span></span><br><span class="line"><span class="string">        });</span></span><br><span class="line"><span class="string">		//3.使用Lambda表达式表达式——省略参数类型</span></span><br><span class="line"><span class="string">        Arrays.sort(students, ( o1,  o2) -&gt; {</span></span><br><span class="line"><span class="string">            return Double.compare(o1.getHeight(), o2.getHeight()); // 升序</span></span><br><span class="line"><span class="string">        });</span></span><br><span class="line"><span class="string">		//4.使用Lambda表达式表达式——省略{}</span></span><br><span class="line"><span class="string">        Arrays.sort(students, ( o1,  o2) -&gt; Double.compare(o1.getHeight(), o2.getHeight()));</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        System.out.println(Arrays.toString(students));</span></span><br><span class="line"><span class="string">    }</span></span><br><span class="line"><span class="string">}</span></span><br></pre></td></tr></tbody></table></figure>

<p>到这里，恭喜你，对Lamdba表达式的所有写法，就学习完毕了。</p>
<h2 id="三、JDK8新特性（方法引用）"><a href="#三、JDK8新特性（方法引用）" class="headerlink" title="三、JDK8新特性（方法引用）"></a>三、JDK8新特性（方法引用）</h2><p>各位小伙伴，接下来我们学习JDK8的另一个新特性，叫做方法引用。我们知道Lambda是用来简化匿名代码的书写格式的，而方法引用是用来进一步简化Lambda表达式的，它简化的更加过分。</p>
<p>到这里有小伙伴可能就想慰问Java爸爸了：“之前的代码挺好的呀！好不容易学会，你又来搞这些，把我都搞晕了。“ &nbsp; &nbsp;说句大实话，确实有这样的问题，学习新的东西肯定会增加我们的学习成本，从心理上来说多少是有写抗拒的。但是从另一个角度想，一旦我们学会了，会大大简化我们的代码书写，提高我们编写代码的效率，而且这些新的语法都是有前提条件的，遇到的时候就简化得了。再退一步想，就算你没有学会，还是用以前的办法一点问题也没有。</p>
<p>给大家交代清楚了，学习方法引用可能存在的一些心理特点之后，接下来我们再正式学习方法引用的代码怎么编写。</p>
<h3 id="3-1-静态方法引用"><a href="#3-1-静态方法引用" class="headerlink" title="3.1 静态方法引用"></a>3.1 静态方法引用</h3><p>我们先学习静态方法的引用，还是用之前Arrays代码来做演示。现在准备好下面的代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        Student[] students = <span class="keyword">new</span> <span class="title class_">Student</span>[<span class="number">4</span>];</span><br><span class="line">        students[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">169.5</span>, <span class="number">23</span>);</span><br><span class="line">        students[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>, <span class="number">163.8</span>, <span class="number">26</span>);</span><br><span class="line">        students[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>, <span class="number">163.8</span>, <span class="number">26</span>);</span><br><span class="line">        students[<span class="number">3</span>] = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"至尊宝"</span>, <span class="number">167.5</span>, <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 原始写法：对数组中的学生对象，按照年龄升序排序</span></span><br><span class="line">        Arrays.sort(students, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> {</span><br><span class="line">                <span class="keyword">return</span> o1.getAge() - o2.getAge(); <span class="comment">// 按照年龄升序排序</span></span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用Lambda简化后的形式</span></span><br><span class="line">        Arrays.sort(students, (o1, o2) -&gt; o1.getAge() - o2.getAge());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>现在，我想要把下图中Lambda表达式的方法体，用一个静态方法代替</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057562833-8e1529d9-4754-41e3-b870-2529fc015727.png#id=Orwz7&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>准备另外一个类CompareByData类，用于封装Lambda表达式的方法体代码；</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CompareByData</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">compareByAge</span><span class="params">(Student o1, Student o2)</span>{</span><br><span class="line">        <span class="keyword">return</span> o1.getAge() - o2.getAge(); <span class="comment">// 升序排序的规则</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>现在我们就可以把Lambda表达式的方法体代码，改为下面的样子</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Arrays.sort(students, (o1, o2) -&gt; CompareByData.compareByAge(o1, o2));</span><br></pre></td></tr></tbody></table></figure>

<p>Java为了简化上面Lambda表达式的写法，利用方法引用可以改进为下面的样子。<strong>实际上就是用类名调用方法，但是把参数给省略了。</strong>这就是静态方法引用</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//静态方法引用：类名::方法名</span></span><br><span class="line">Arrays.sort(students, CompareByData::compareByAge);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-2-实例方法引用"><a href="#3-2-实例方法引用" class="headerlink" title="3.2 实例方法引用"></a>3.2 实例方法引用</h3><p>还是基于上面的案例，我们现在来学习一下实例方法的引用。现在，我想要把下图中Lambda表达式的方法体，用一个实例方法代替。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057562833-8e1529d9-4754-41e3-b870-2529fc015727.png#id=npdzw&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>在CompareByData类中，再添加一个实例方法，用于封装Lambda表达式的方法体</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057562928-e933d9d3-0586-4f62-9dc7-d0302243a1b3.png#id=kuunR&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，我们把Lambda表达式的方法体，改用对象调用方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">CompareByData</span> <span class="variable">compare</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CompareByData</span>();</span><br><span class="line">Arrays.sort(students, (o1, o2) -&gt; compare.compareByAgeDesc(o1, o2)); <span class="comment">// 降序</span></span><br></pre></td></tr></tbody></table></figure>

<p>最后，再将Lambda表达式的方法体，直接改成方法引用写法。<strong>实际上就是用类名调用方法，但是省略的参数</strong>。这就是实例方法引用</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">CompareByData</span> <span class="variable">compare</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CompareByData</span>();</span><br><span class="line">Arrays.sort(students, compare::compareByAgeDesc); <span class="comment">// 降序</span></span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>给小伙伴的寄语：一定要按照老师写的步骤，一步一步来做，你一定能学会的！！！</p>
</blockquote>
<h3 id="3-2-特定类型的方法引用"><a href="#3-2-特定类型的方法引用" class="headerlink" title="3.2 特定类型的方法引用"></a>3.2 特定类型的方法引用</h3><p>各位小伙伴，我们继续学习特定类型的方法引用。在学习之前还是需要给大家说明一下，这种特定类型的方法引用是没有什么道理的，只是语法的一种约定，遇到这种场景，就可以这样用。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Java约定：</span><br><span class="line">    如果某个Lambda表达式里只是调用一个实例方法，并且前面参数列表中的第一个参数作为方法的主调，	后面的所有参数都是作为该实例方法的入参时，则就可以使用特定类型的方法引用。</span><br><span class="line">格式：</span><br><span class="line">	类型::方法名</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        String[] names = {<span class="string">"boby"</span>, <span class="string">"angela"</span>, <span class="string">"Andy"</span> ,<span class="string">"dlei"</span>, <span class="string">"caocao"</span>, <span class="string">"Babo"</span>, <span class="string">"jack"</span>, <span class="string">"Cici"</span>};</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 要求忽略首字符大小写进行排序。</span></span><br><span class="line">        Arrays.sort(names, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;String&gt;() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(String o1, String o2)</span> {</span><br><span class="line">                <span class="comment">// 制定比较规则。o1 = "Andy"  o2 = "angela"</span></span><br><span class="line">                <span class="keyword">return</span> o1.compareToIgnoreCase(o2);</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//lambda表达式写法</span></span><br><span class="line">        Arrays.sort(names, ( o1,  o2) -&gt; o1.compareToIgnoreCase(o2) );</span><br><span class="line">        <span class="comment">//特定类型的方法引用！</span></span><br><span class="line">        Arrays.sort(names, String::compareToIgnoreCase);</span><br><span class="line"></span><br><span class="line">        System.out.println(Arrays.toString(names));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-3-构造器引用"><a href="#3-3-构造器引用" class="headerlink" title="3.3 构造器引用"></a>3.3 构造器引用</h3><p>各位小伙伴，我们学习最后一种方法引用的形式，叫做构造器引用。还是先说明一下，构造器引用在实际开发中应用的并不多，目前还没有找到构造器的应用场景。所以大家在学习的时候，也只是关注语法就可以了。</p>
<p>现在，我们准备一个JavaBean类，Car类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> {</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">()</span> {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String name, <span class="type">double</span> price)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getPrice</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(<span class="type">double</span> price)</span> {</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Car{"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", price="</span> + price +</span><br><span class="line">                <span class="string">'}'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>因为方法引用是基于Lamdba表达式简化的，所以也要按照Lamdba表达式的使用前提来用，需要一个函数式接口，接口中代码的返回值类型是Car类型</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">CreateCar</span>{</span><br><span class="line">    Car <span class="title function_">create</span><span class="params">(String name, <span class="type">double</span> price)</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最后，再准备一个测试类，在测试类中创建CreateCar接口的实现类对象，先用匿名内部类创建、再用Lambda表达式创建，最后改用方法引用创建。同学们只关注格式就可以，不要去想为什么（语法就是这么设计的）。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、创建这个接口的匿名内部类对象。</span></span><br><span class="line">        <span class="type">CreateCar</span> <span class="variable">cc1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CreateCar</span>(){</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Car <span class="title function_">create</span><span class="params">(String name, <span class="type">double</span> price)</span> {</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Car</span>(name, price);</span><br><span class="line">            }</span><br><span class="line">        };</span><br><span class="line">		<span class="comment">//2、使用匿名内部类改进</span></span><br><span class="line">        <span class="type">CreateCar</span> <span class="variable">cc2</span> <span class="operator">=</span> (name,  price) -&gt; <span class="keyword">new</span> <span class="title class_">Car</span>(name, price);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、使用方法引用改进：构造器引用</span></span><br><span class="line">        <span class="type">CreateCar</span> <span class="variable">cc3</span> <span class="operator">=</span> Car::<span class="keyword">new</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//注意：以上是创建CreateCar接口实现类对象的几种形式而已，语法一步一步简化。</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4、对象调用方法</span></span><br><span class="line">        <span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> cc3.create(<span class="string">"奔驰"</span>, <span class="number">49.9</span>);</span><br><span class="line">        System.out.println(car);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="四、常见算法"><a href="#四、常见算法" class="headerlink" title="四、常见算法"></a>四、常见算法</h2><h3 id="1-1-认识算法"><a href="#1-1-认识算法" class="headerlink" title="1.1 认识算法"></a>1.1 认识算法</h3><p>接下来，我们认识一下什么是算法。算法其实是解决某个实际问题的过程和方法。比如百度地图给你规划路径，计算最优路径的过程就需要用到算法。再比如你在抖音上刷视频时，它会根据你的喜好给你推荐你喜欢看的视频，这里也需要用到算法。</p>
<p>我们为什么要学习算法呢？主要目的是训练我们的编程思维，还有就是面试的时候，面试官也喜欢问一下算法的问题来考察你的技术水平。最后一点，学习算法是成为一个高级程序员的必经之路。</p>
<p>当然我们现在并不会学习非常复杂的算法，万丈高楼平地起，我们现在只需要学习几种常见的基础算法就可以了。而且Java语言本身就内置了一些基础算法给我们使用，实际上自己也不会去写这些算法。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057563030-c06c0a5a-b5e4-4f42-bff8-16e4f8de4aee.png#id=yYcOt&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-2-冒泡排序"><a href="#1-2-冒泡排序" class="headerlink" title="1.2 冒泡排序"></a>1.2 冒泡排序</h3><p>接下来，我们学习一种算法叫排序算法，它可以价格无序的整数，排列成从小到大的形式（升序），或者从大到小的形式（降序）</p>
<p>排序算法有很多种，我们这里只学习比较简单的两种，一种是冒泡排序，一种是选择排序。学习算法我们先要搞清楚算法的流程，然后再去“推敲“如何写代码。（<strong>注意，我这里用的次是推敲，也就是说算法这样的代码并不是一次成型的，是需要反复修改才能写好的</strong>）。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057563385-a745c5c1-38d5-484b-8e4d-d9680fa27f42.png#id=H6Ywg&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>先来学习冒泡排序，先来介绍一下，冒泡排序的流程</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">冒泡排序核心思路：每次将相邻的两个元素继续比较</span><br><span class="line">如下图所示：</span><br><span class="line">   第一轮比较 <span class="number">3</span>次</span><br><span class="line">   第二轮比较 <span class="number">2</span>次</span><br><span class="line">   第三轮比较 <span class="number">1</span>次</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057563499-956f6a00-e5cb-4dd4-9c30-ee05d4ae1ab8.png#id=xpi4i&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、准备一个数组</span></span><br><span class="line">        <span class="type">int</span>[] arr = {<span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>};</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、定义一个循环控制排几轮</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) {</span><br><span class="line">            <span class="comment">// i = 0  1  2           【5， 2， 3， 1】    次数</span></span><br><span class="line">            <span class="comment">// i = 0 第一轮            0   1   2         3</span></span><br><span class="line">            <span class="comment">// i = 1 第二轮            0   1             2</span></span><br><span class="line">            <span class="comment">// i = 2 第三轮            0                 1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3、定义一个循环控制每轮比较几次。</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; arr.length - i - <span class="number">1</span>; j++) {</span><br><span class="line">                <span class="comment">// 判断当前位置的元素值，是否大于后一个位置处的元素值，如果大则交换。</span></span><br><span class="line">                <span class="keyword">if</span>(arr[j] &gt; arr[j+<span class="number">1</span>]){</span><br><span class="line">                    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[j + <span class="number">1</span>];</span><br><span class="line">                    arr[j + <span class="number">1</span>] = arr[j];</span><br><span class="line">                    arr[j] = temp;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-2-选择排序"><a href="#1-2-选择排序" class="headerlink" title="1.2 选择排序"></a>1.2 选择排序</h3><p>刚才我们学习了冒泡排序，接下来我们学习了另一种排序方法，叫做选择排序。按照我们刚才给大家介绍的算法的学习方式。先要搞清楚算法的流程，再去推敲代码怎么写。</p>
<p>所以我们先分析选择排序算法的流程：选择排序的核心思路是，每一轮选定一个固定的元素，和其他的每一个元素进行比较；经过几轮比较之后，每一个元素都能比较到了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057563611-b3613740-88ab-433d-9d68-02dbe3ff173a.png#id=C8EmC&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，按照选择排序的流程编写代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ublic <span class="keyword">class</span> <span class="title class_">Test2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、准备好一个数组</span></span><br><span class="line">        <span class="type">int</span>[] arr = {<span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>};</span><br><span class="line">        <span class="comment">//           0  1  2  3</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、控制选择几轮</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) {</span><br><span class="line">            <span class="comment">// i = 0 第一轮    j = 1 2 3</span></span><br><span class="line">            <span class="comment">// i = 1 第二轮    j = 2 3</span></span><br><span class="line">            <span class="comment">// i = 2 第三轮    j = 3</span></span><br><span class="line">            <span class="comment">// 3、控制每轮选择几次。</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; arr.length; j++) {</span><br><span class="line">                <span class="comment">// 判断当前位置是否大于后面位置处的元素值，若大于则交换。</span></span><br><span class="line">                <span class="keyword">if</span>(arr[i] &gt; arr[j]){</span><br><span class="line">                    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">                    arr[i] = arr[j];</span><br><span class="line">                    arr[j] = temp;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-3-查找算法"><a href="#1-3-查找算法" class="headerlink" title="1.3 查找算法"></a>1.3 查找算法</h3><p>接下来，我们学习一个查找算法叫做二分查找。在学习二分查找之前，我们先来说一下基本查找，从基本查找的弊端，我们再引入二分查找，这样我们的学习也会更加丝滑一下。</p>
<p><strong>先聊一聊基本查找：</strong>假设我们要查找的元素是81，如果是基本查找的话，只能从0索引开始一个一个往后找，但是如果元素比较多，你要查找的元素比较靠后的话，这样查找的此处就比较多。性能比较差。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057563708-f8c96f8c-2dd6-4c5a-a729-7bdf441fc082.png#id=Lquia&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>再讲二分查找</strong>：二分查找的主要特点是，每次查找能排除一般元素，这样效率明显提高。<strong>但是二分查找要求比较苛刻，它要求元素必须是有序的，否则不能进行二分查找。</strong></p>
<ul>
<li>二分查找的核心思路</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">第<span class="number">1</span>步：先定义两个变量，分别记录开始索引(left)和结束索引(right)</span><br><span class="line">第<span class="number">2</span>步：计算中间位置的索引，mid = (left+right)/<span class="number">2</span>;</span><br><span class="line">第<span class="number">3</span>步：每次查找中间mid位置的元素，和目标元素key进行比较</span><br><span class="line">		如果中间位置元素比目标元素小，那就说明mid前面的元素都比目标元素小</span><br><span class="line">			此时：left = mid+<span class="number">1</span></span><br><span class="line">    	如果中间位置元素比目标元素大，那说明mid后面的元素都比目标元素大</span><br><span class="line">    		此时：right = mid-<span class="number">1</span></span><br><span class="line">		如果中间位置元素和目标元素相等，那说明mid就是我们要找的位置</span><br><span class="line">			此时：把mid返回		</span><br><span class="line">注意：一搬查找一次肯定是不够的，所以需要把第<span class="number">1</span>步和第<span class="number">2</span>步循环来做，只到left&gt;end就结束，如果最后还没有找到目标元素，就返回-<span class="number">1.</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057563814-465ac737-f174-4c82-85a2-a40259bd130a.png#id=z6YJS&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握二分查找算法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、准备好一个数组。</span></span><br><span class="line">        <span class="type">int</span>[] arr = {<span class="number">7</span>, <span class="number">23</span>, <span class="number">79</span>, <span class="number">81</span>, <span class="number">103</span>, <span class="number">127</span>, <span class="number">131</span>, <span class="number">147</span>};</span><br><span class="line"></span><br><span class="line">        System.out.println(binarySearch(arr, <span class="number">150</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(Arrays.binarySearch(arr, <span class="number">81</span>));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> data)</span>{</span><br><span class="line">        <span class="comment">// 1、定义两个变量，一个站在左边位置，一个站在右边位置</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> arr.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、定义一个循环控制折半。</span></span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right){</span><br><span class="line">            <span class="comment">// 3、每次折半，都算出中间位置处的索引</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">middle</span> <span class="operator">=</span> (left + right) / <span class="number">2</span>;</span><br><span class="line">            <span class="comment">// 4、判断当前要找的元素值，与中间位置处的元素值的大小情况。</span></span><br><span class="line">            <span class="keyword">if</span>(data &lt; arr[middle]){</span><br><span class="line">                <span class="comment">// 往左边找，截止位置（右边位置） = 中间位置 - 1</span></span><br><span class="line">                right = middle - <span class="number">1</span>;</span><br><span class="line">            }<span class="keyword">else</span> <span class="keyword">if</span>(data &gt; arr[middle]){</span><br><span class="line">                <span class="comment">// 往右边找，起始位置（左边位置） = 中间位置 + 1</span></span><br><span class="line">                left = middle + <span class="number">1</span>;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="comment">// 中间位置处的元素值，正好等于我们要找的元素值</span></span><br><span class="line">                <span class="keyword">return</span> middle;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">// -1特殊结果，就代表没有找到数据！数组中不存在该数据！</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="五、正则表达式"><a href="#五、正则表达式" class="headerlink" title="五、正则表达式"></a>五、正则表达式</h2><p>接下来，我们学习一个全新的知识，叫做正则表达式。<strong>正则表达式其实是由一些特殊的符号组成的，它代表的是某种规则。</strong></p>
<blockquote>
<p>正则表达式的作用1：用来校验字符串数据是否合法</p>
<p>正则表达式的作用2：可以从一段文本中查找满足要求的内容</p>
</blockquote>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057563925-44deae73-573f-4194-a12c-c1dd9755667e.png#id=aS2gR&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="5-1-正则表达式初体验"><a href="#5-1-正则表达式初体验" class="headerlink" title="5.1 正则表达式初体验"></a>5.1 正则表达式初体验</h3><p>现在，我们就以QQ号码为例，来体验一下正则表达式的用法。注意：现在仅仅只是体验而已，我们还没有讲正则表达式的具体写法。</p>
<ul>
<li>不使用正则表达式，校验QQ号码代码是这样的</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkQQ</span><span class="params">(String qq)</span>{</span><br><span class="line">        <span class="comment">// 1、判断qq号码是否为null</span></span><br><span class="line">        <span class="keyword">if</span>(qq == <span class="literal">null</span> || qq.startsWith(<span class="string">"0"</span>) || qq.length() &lt; <span class="number">6</span> || qq.length() &gt; <span class="number">20</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、qq至少是不是null,不是以0开头的，满足6-20之间的长度。</span></span><br><span class="line">        <span class="comment">// 判断qq号码中是否都是数字。</span></span><br><span class="line">        <span class="comment">// qq = 2514ghd234</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; qq.length(); i++) {</span><br><span class="line">            <span class="comment">// 根据索引提取当前位置处的字符。</span></span><br><span class="line">            <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> qq.charAt(i);</span><br><span class="line">            <span class="comment">// 判断ch记住的字符，如果不是数字，qq号码不合法。</span></span><br><span class="line">            <span class="keyword">if</span>(ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>){</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 3、说明qq号码肯定是合法</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>用正则表达式代码是这样的</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkQQ1</span><span class="params">(String qq)</span>{</span><br><span class="line">    <span class="keyword">return</span> qq != <span class="literal">null</span> &amp;&amp; qq.matches(<span class="string">"[1-9]\\d{5,19}"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>我们发现，使用正则表达式，大大简化的了代码的写法。这个代码现在不用写，体验到正则表达式的优势就可以了。</p>
<h3 id="5-2-正则表达式书写规则"><a href="#5-2-正则表达式书写规则" class="headerlink" title="5.2 正则表达式书写规则"></a>5.2 正则表达式书写规则</h3><p>前面我们已经体验到了正则表达式，可以简化校验数据的代码书写。这里需要用到一个方法叫<code>matches(String regex)</code>。这个方法时属于String类的方法。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057564194-d501a801-6cba-4a83-bb42-0d9666daf071.png#id=gPwSZ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>这个方法是用来匹配一个字符串是否匹配正则表达式的规则，参数需要调用者传递一个正则表达式。但是正则表达式不能乱写，是有特定的规则的。</p>
<p>下面我们就学习一下，正则表达式的规则。从哪里学呢？在API中有一个类叫做Pattern，我们可以到API文档中搜索，关于正则表达式的规则，这个类都告诉我们了。我这里把常用的已经给大家整理好了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057564289-2e8d32d0-a1a0-4e45-a684-6b7dc6c0015b.png#id=RCFpJ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们将这些规则，在代码中演示一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握正则表达式的书写规则</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、字符类(只能匹配单个字符)</span></span><br><span class="line">        System.out.println(<span class="string">"a"</span>.matches(<span class="string">"[abc]"</span>));    <span class="comment">// [abc]只能匹配a、b、c</span></span><br><span class="line">        System.out.println(<span class="string">"e"</span>.matches(<span class="string">"[abcd]"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"d"</span>.matches(<span class="string">"[^abc]"</span>));   <span class="comment">// [^abc] 不能是abc</span></span><br><span class="line">        System.out.println(<span class="string">"a"</span>.matches(<span class="string">"[^abc]"</span>));  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"b"</span>.matches(<span class="string">"[a-zA-Z]"</span>)); <span class="comment">// [a-zA-Z] 只能是a-z A-Z的字符</span></span><br><span class="line">        System.out.println(<span class="string">"2"</span>.matches(<span class="string">"[a-zA-Z]"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"k"</span>.matches(<span class="string">"[a-z&amp;&amp;[^bc]]"</span>)); <span class="comment">// ： a到z，除了b和c</span></span><br><span class="line">        System.out.println(<span class="string">"b"</span>.matches(<span class="string">"[a-z&amp;&amp;[^bc]]"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"ab"</span>.matches(<span class="string">"[a-zA-Z0-9]"</span>)); <span class="comment">// false 注意：以上带 [内容] 的规则都只能用于匹配单个字符</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、预定义字符(只能匹配单个字符)  .  \d  \D   \s  \S  \w  \W</span></span><br><span class="line">        System.out.println(<span class="string">"徐"</span>.matches(<span class="string">"."</span>)); <span class="comment">// .可以匹配任意字符</span></span><br><span class="line">        System.out.println(<span class="string">"徐徐"</span>.matches(<span class="string">"."</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// \转义</span></span><br><span class="line">        System.out.println(<span class="string">"\""</span>);</span><br><span class="line">        <span class="comment">// \n \t</span></span><br><span class="line">        System.out.println(<span class="string">"3"</span>.matches(<span class="string">"\\d"</span>));  <span class="comment">// \d: 0-9</span></span><br><span class="line">        System.out.println(<span class="string">"a"</span>.matches(<span class="string">"\\d"</span>));  <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">" "</span>.matches(<span class="string">"\\s"</span>));   <span class="comment">// \s: 代表一个空白字符</span></span><br><span class="line">        System.out.println(<span class="string">"a"</span>.matches(<span class="string">"\s"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"a"</span>.matches(<span class="string">"\\S"</span>));  <span class="comment">// \S: 代表一个非空白字符</span></span><br><span class="line">        System.out.println(<span class="string">" "</span>.matches(<span class="string">"\\S"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"a"</span>.matches(<span class="string">"\\w"</span>));  <span class="comment">// \w: [a-zA-Z_0-9]</span></span><br><span class="line">        System.out.println(<span class="string">"_"</span>.matches(<span class="string">"\\w"</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">"徐"</span>.matches(<span class="string">"\\w"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"徐"</span>.matches(<span class="string">"\\W"</span>));  <span class="comment">// [^\w]不能是a-zA-Z_0-9</span></span><br><span class="line">        System.out.println(<span class="string">"a"</span>.matches(<span class="string">"\\W"</span>));  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"23232"</span>.matches(<span class="string">"\\d"</span>)); <span class="comment">// false 注意：以上预定义字符都只能匹配单个字符。</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、数量词： ?   *   +   {n}   {n, }  {n, m}</span></span><br><span class="line">        System.out.println(<span class="string">"a"</span>.matches(<span class="string">"\\w?"</span>));   <span class="comment">// ? 代表0次或1次</span></span><br><span class="line">        System.out.println(<span class="string">""</span>.matches(<span class="string">"\\w?"</span>));    <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">"abc"</span>.matches(<span class="string">"\\w?"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"abc12"</span>.matches(<span class="string">"\\w*"</span>));   <span class="comment">// * 代表0次或多次</span></span><br><span class="line">        System.out.println(<span class="string">""</span>.matches(<span class="string">"\\w*"</span>));        <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">"abc12张"</span>.matches(<span class="string">"\\w*"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"abc12"</span>.matches(<span class="string">"\\w+"</span>));   <span class="comment">// + 代表1次或多次</span></span><br><span class="line">        System.out.println(<span class="string">""</span>.matches(<span class="string">"\\w+"</span>));       <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">"abc12张"</span>.matches(<span class="string">"\\w+"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"a3c"</span>.matches(<span class="string">"\\w{3}"</span>));   <span class="comment">// {3} 代表要正好是n次</span></span><br><span class="line">        System.out.println(<span class="string">"abcd"</span>.matches(<span class="string">"\\w{3}"</span>));  <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">"abcd"</span>.matches(<span class="string">"\\w{3,}"</span>));     <span class="comment">// {3,} 代表是&gt;=3次</span></span><br><span class="line">        System.out.println(<span class="string">"ab"</span>.matches(<span class="string">"\\w{3,}"</span>));     <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">"abcde徐"</span>.matches(<span class="string">"\\w{3,}"</span>));     <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">"abc232d"</span>.matches(<span class="string">"\\w{3,9}"</span>));     <span class="comment">// {3, 9} 代表是  大于等于3次，小于等于9次</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、其他几个常用的符号：(?i)忽略大小写 、 或：| 、  分组：()</span></span><br><span class="line">        System.out.println(<span class="string">"abc"</span>.matches(<span class="string">"(?i)abc"</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">"ABC"</span>.matches(<span class="string">"(?i)abc"</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">"aBc"</span>.matches(<span class="string">"a((?i)b)c"</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">"ABc"</span>.matches(<span class="string">"a((?i)b)c"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求1：要求要么是3个小写字母，要么是3个数字。</span></span><br><span class="line">        System.out.println(<span class="string">"abc"</span>.matches(<span class="string">"[a-z]{3}|\\d{3}"</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">"ABC"</span>.matches(<span class="string">"[a-z]{3}|\\d{3}"</span>)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">"123"</span>.matches(<span class="string">"[a-z]{3}|\\d{3}"</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">"A12"</span>.matches(<span class="string">"[a-z]{3}|\\d{3}"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求2：必须是”我爱“开头，中间可以是至少一个”编程“，最后至少是1个”666“</span></span><br><span class="line">        System.out.println(<span class="string">"我爱编程编程666666"</span>.matches(<span class="string">"我爱(编程)+(666)+"</span>));</span><br><span class="line">        System.out.println(<span class="string">"我爱编程编程66666"</span>.matches(<span class="string">"我爱(编程)+(666)+"</span>));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="5-3-正则表达式应用案例"><a href="#5-3-正则表达式应用案例" class="headerlink" title="5.3 正则表达式应用案例"></a>5.3 正则表达式应用案例</h3><p>学习完正则表达式的规则之后，接下来我们再利用正则表达式，去校验几个实际案例。</p>
<ul>
<li>正则表达式校验手机号码</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：校验用户输入的电话、邮箱、时间是否合法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        checkPhone();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">checkPhone</span><span class="params">()</span>{</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            System.out.println(<span class="string">"请您输入您的电话号码(手机|座机): "</span>);</span><br><span class="line">            <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line">            <span class="comment">// 18676769999  010-3424242424 0104644535</span></span><br><span class="line">            <span class="keyword">if</span>(phone.matches(<span class="string">"(1[3-9]\\d{9})|(0\\d{2,7}-?[1-9]\\d{4,19})"</span>)){</span><br><span class="line">                System.out.println(<span class="string">"您输入的号码格式正确~~~"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                System.out.println(<span class="string">"您输入的号码格式不正确~~~"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>使用正则表达式校验邮箱是否正确</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        checkEmail();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">checkEmail</span><span class="params">()</span>{</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            System.out.println(<span class="string">"请您输入您的邮箱： "</span>);</span><br><span class="line">            <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            <span class="type">String</span> <span class="variable">email</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * dlei0009@163.com</span></span><br><span class="line"><span class="comment">             * 25143242@qq.com</span></span><br><span class="line"><span class="comment">             * itheima@itcast.com.cn</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="keyword">if</span>(email.matches(<span class="string">"\\w{2,}@\\w{2,20}(\\.\\w{2,10}){1,2}"</span>)){</span><br><span class="line">                System.out.println(<span class="string">"您输入的邮箱格式正确~~~"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                System.out.println(<span class="string">"您输入的邮箱格式不正确~~~"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="5-4-正则表达式信息爬取"><a href="#5-4-正则表达式信息爬取" class="headerlink" title="5.4 正则表达式信息爬取"></a>5.4 正则表达式信息爬取</h3><p>各位小伙伴，在前面的课程中，我们学习了正则表达式的作用之一，用来校验数据格式的正确性。接下来我们学习<strong>正则表达式的第二个作用：在一段文本中查找满足要求的内容</strong></p>
<p>我们还是通过一个案例给大家做演示：案例需求如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057564443-873d5257-4778-44b6-b766-99c75ff973d7.png#id=HnXsu&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握使用正则表达式查找内容。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexTest4</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        method1();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 需求1：从以下内容中爬取出，手机，邮箱，座机、400电话等信息。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span>{</span><br><span class="line">        <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> <span class="string">" 来黑马程序员学习Java，\n"</span> +</span><br><span class="line">                <span class="string">"        电话：1866668888，18699997777\n"</span> +</span><br><span class="line">                <span class="string">"        或者联系邮箱：boniu@itcast.cn，\n"</span> +</span><br><span class="line">                <span class="string">"        座机电话：01036517895，010-98951256\n"</span> +</span><br><span class="line">                <span class="string">"        邮箱：bozai@itcast.cn，\n"</span> +</span><br><span class="line">                <span class="string">"        邮箱：dlei0009@163.com，\n"</span> +</span><br><span class="line">                <span class="string">"        热线电话：400-618-9090 ，400-618-4000，4006184000，4006189090"</span>;</span><br><span class="line">        <span class="comment">// 1、定义爬取规则</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> <span class="string">"(1[3-9]\\d{9})|(0\\d{2,7}-?[1-9]\\d{4,19})|(\\w{2,}@\\w{2,20}(\\.\\w{2,10}){1,2})"</span></span><br><span class="line">                + <span class="string">"|(400-?\\d{3,7}-?\\d{3,7})"</span>;</span><br><span class="line">        <span class="comment">// 2、把正则表达式封装成一个Pattern对象</span></span><br><span class="line">        <span class="type">Pattern</span> <span class="variable">pattern</span> <span class="operator">=</span> Pattern.compile(regex);</span><br><span class="line">        <span class="comment">// 3、通过pattern对象去获取查找内容的匹配器对象。</span></span><br><span class="line">        <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> pattern.matcher(data);</span><br><span class="line">        <span class="comment">// 4、定义一个循环开始爬取信息</span></span><br><span class="line">        <span class="keyword">while</span> (matcher.find()){</span><br><span class="line">            <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> matcher.group(); <span class="comment">// 获取到了找到的内容了。</span></span><br><span class="line">            System.out.println(rs);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="5-5-正则表达式搜索、替换"><a href="#5-5-正则表达式搜索、替换" class="headerlink" title="5.5 正则表达式搜索、替换"></a>5.5 正则表达式搜索、替换</h3><p>接下来，我们学习一下正则表达式的另外两个功能，替换、分割的功能。需要注意的是这几个功能需要用到Stirng类中的方法。这两个方法其实我们之前学过，只是当时没有学正则表达式而已。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057564572-177fc379-8bad-471f-9b94-6a0e982ccff2.png#id=hSadE&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握使用正则表达式做搜索替换，内容分割。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexTest5</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、public String replaceAll(String regex , String newStr)：按照正则表达式匹配的内容进行替换</span></span><br><span class="line">        <span class="comment">// 需求1：请把下面字符串中的不是汉字的部分替换为 “-”</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">"古力娜扎ai8888迪丽热巴999aa5566马尔扎哈fbbfsfs42425卡尔扎巴"</span>;</span><br><span class="line">        System.out.println(s1.replaceAll(<span class="string">"\\w+"</span>, <span class="string">"-"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 需求2(拓展)：某语音系统，收到一个口吃的人说的“我我我喜欢编编编编编编编编编编编编程程程！”，需要优化成“我喜欢编程！”。</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">"我我我喜欢编编编编编编编编编编编编程程程"</span>;</span><br><span class="line">        System.out.println(s2.replaceAll(<span class="string">"(.)\\1+"</span>, <span class="string">"$1"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、public String[] split(String regex)：按照正则表达式匹配的内容进行分割字符串，反回一个字符串数组。</span></span><br><span class="line">        <span class="comment">// 需求1：请把下面字符串中的人名取出来，使用切割来做</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="string">"古力娜扎ai8888迪丽热巴999aa5566马尔扎哈fbbfsfs42425卡尔扎巴"</span>;</span><br><span class="line">        String[] names = s3.split(<span class="string">"\\w+"</span>);</span><br><span class="line">        System.out.println(Arrays.toString(names));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day06—集合进阶（异常、集合）"><a href="#day06—集合进阶（异常、集合）" class="headerlink" title="day06—集合进阶（异常、集合）"></a>day06—集合进阶（异常、集合）</h1><h2 id="一、异常"><a href="#一、异常" class="headerlink" title="一、异常"></a>一、异常</h2><h3 id="1-1-认识异常"><a href="#1-1-认识异常" class="headerlink" title="1.1 认识异常"></a>1.1 认识异常</h3><p>接下来，我们学习一下异常，学习异常有利于我们处理程序中可能出现的问题。我先带着同学们认识一下，什么是异常？</p>
<p>我们阅读下面的代码，通过这段代码来认识异常。 我们调用一个方法时，经常一部小心就出异常了，然后在控制台打印一些异常信息。其实打印的这些异常信息，就叫做异常。</p>
<p>那肯定有同学就纳闷了，我写代码天天出异常，我知道这是异常啊！我们这里学习异常，其实是为了告诉你异常是怎么产生的？只有你知道异常是如何产生的，才能避免出现异常。以及产生异常之后如何处理。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057564685-a0c9c9a7-cbf2-4091-91bb-2c500d7f5397.png#id=lhVod&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>因为写代码时经常会出现问题，Java的设计者们早就为我们写好了很多个异常类，来描述不同场景下的问题。而有些类是有共性的所以就有了异常的继承体系</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057564894-4a5758ee-2d09-4e56-9954-5fbabb3a16ab.png#id=GsXoC&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<p><strong>先来演示一个运行时异常产生</strong></p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr = {<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>};</span><br><span class="line"><span class="comment">//5是一个不存在的索引，所以此时产生ArrayIndexOutOfBoundsExcpetion</span></span><br><span class="line">System.out.println(arr[<span class="number">5</span>]);</span><br></pre></td></tr></tbody></table></figure>

<p>下图是API中对ArrayIndexOutOfBoundsExcpetion类的继承体系，以及告诉我们它在什么情况下产生。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057565031-0caca7f0-d61d-4480-9d78-0e569b52f8f9.png#id=CIhoS&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<blockquote>
<p><strong>再来演示一个编译时异常</strong></p>
</blockquote>
<p>我们在调用SimpleDateFormat对象的parse方法时，要求传递的参数必须和指定的日期格式一致，否则就会出现异常。 Java比较贴心，它为了更加强烈的提醒方法的调用者，设计了编译时异常，它把异常的提醒提前了，你调用方法是否真的有问题，只要可能有问题就给你报出异常提示（红色波浪线）。</p>
<p><strong>编译时异常的目的：意思就是告诉你，你小子注意了！！，这里小心点容易出错，仔细检查一下</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057565159-a3a36f61-4add-458f-9605-e1fed7b8e89a.png#id=QjNS8&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>有人说，我检查过了，我确认我的代码没问题，为了让它不报错，继续将代码写下去。我们这里有两种解决方案。</p>
<ul>
<li>第一种：使用throws在方法上声明，意思就是告诉下一个调用者，这里面可能有异常啊，你调用时注意一下。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：认识异常。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException{</span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">d</span> <span class="operator">=</span> sdf.parse(<span class="string">"2028-11-11 10:24"</span>);</span><br><span class="line">        System.out.println(d);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>第二种：使用try…catch语句块异常进行处理。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException{</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);</span><br><span class="line">            <span class="type">Date</span> <span class="variable">d</span> <span class="operator">=</span> sdf.parse(<span class="string">"2028-11-11 10:24"</span>);</span><br><span class="line">            System.out.println(d);</span><br><span class="line">        } <span class="keyword">catch</span> (ParseException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>好了，关于什么是异常，我们就先认识到这里。</p>
<h3 id="1-2-自定义异常"><a href="#1-2-自定义异常" class="headerlink" title="1.2 自定义异常"></a>1.2 自定义异常</h3><p>同学们经过刚才的学习已经认识了什么是异常了，但是无法为这个世界上的全部问题都提供异常类，如果企业自己的某种问题，想通过异常来表示，那就需要自己来定义异常类了。</p>
<p>我们通过一个实际场景，来给大家演示自定义异常。</p>
<blockquote>
<p>需求：写一个saveAge(int age)方法，在方法中对参数age进行判断，如果age&lt;0或者&gt;=150就认为年龄不合法，如果年龄不合法，就给调用者抛出一个年龄非法异常。</p>
<p>分析：Java的API中是没有年龄非常这个异常的，所以我们可以自定义一个异常类，用来表示年龄非法异常，然后再方法中抛出自定义异常即可。</p>
</blockquote>
<ul>
<li>先写一个异常类AgeIllegalException（这是自己取的名字，名字取得很奈斯），继承</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、必须让这个类继承自Exception，才能成为一个编译时异常类。</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AgeIllegalException</span> <span class="keyword">extends</span> <span class="title class_">Exception</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AgeIllegalException</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AgeIllegalException</span><span class="params">(String message)</span> {</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>再写一个测试类，在测试类中定义一个saveAge(int age)方法，对age判断如果年龄不在0~150之间，就抛出一个AgeIllegalException异常对象给调用者。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 需求：保存一个合法的年</span></span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            saveAge2(<span class="number">225</span>);</span><br><span class="line">            System.out.println(<span class="string">"saveAge2底层执行是成功的！"</span>);</span><br><span class="line">        } <span class="keyword">catch</span> (AgeIllegalException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.out.println(<span class="string">"saveAge2底层执行是出现bug的！"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">	<span class="comment">//2、在方法中对age进行判断，不合法则抛出AgeIllegalException</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">saveAge</span><span class="params">(<span class="type">int</span> age)</span>{</span><br><span class="line">        <span class="keyword">if</span>(age &gt; <span class="number">0</span> &amp;&amp; age &lt; <span class="number">150</span>){</span><br><span class="line">            System.out.println(<span class="string">"年龄被成功保存： "</span> + age);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            <span class="comment">// 用一个异常对象封装这个问题</span></span><br><span class="line">            <span class="comment">// throw 抛出去这个异常对象</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AgeIllegalRuntimeException</span>(<span class="string">"/age is illegal, your age is "</span> + age);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>注意咯，自定义异常可能是编译时异常，也可以是运行时异常</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>如果自定义异常类继承Excpetion，则是编译时异常。</span><br><span class="line">	特点：方法中抛出的是编译时异常，必须在方法上使用<span class="keyword">throws</span>声明，强制调用者处理。</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>如果自定义异常类继承RuntimeException，则运行时异常。</span><br><span class="line">	特点：方法中抛出的是运行时异常，不需要在方法上用<span class="keyword">throws</span>声明。</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-3-异常处理"><a href="#1-3-异常处理" class="headerlink" title="1.3 异常处理"></a>1.3 异常处理</h3><p>同学们，通过前面两小节的学习，我们已经认识了什么是异常，以及异常的产生过程。接下来就需要告诉同学们，出现异常该如何处理了。</p>
<p>比如有如下的场景：A调用用B，B调用C；C中有异常产生抛给B，B中有异常产生又抛给A；异常到了A这里就不建议再抛出了，因为最终抛出被JVM处理程序就会异常终止，并且给用户看异常信息，用户也看不懂，体验很不好。</p>
<p>此时比较好的做法就是：1.将异常捕获，将比较友好的信息显示给用户看；2.尝试重新执行，看是是否能修复这个问题。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057565269-ce2935c5-4285-45b5-a510-a54cbfef8839.png#id=kqrRe&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们看一个代码，main方法调用test1方法，test1方法调用test2方法，test1和test2方法中多有扔异常。</p>
<ul>
<li>第一种处理方式是，在main方法中对异常进行try…catch捕获处理了，给出友好提示。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  {</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            test1();</span><br><span class="line">        } <span class="keyword">catch</span> (FileNotFoundException e) {</span><br><span class="line">            System.out.println(<span class="string">"您要找的文件不存在！！"</span>);</span><br><span class="line">            e.printStackTrace(); <span class="comment">// 打印出这个异常对象的信息。记录下来。</span></span><br><span class="line">        } <span class="keyword">catch</span> (ParseException e) {</span><br><span class="line">            System.out.println(<span class="string">"您要解析的时间有问题了！"</span>);</span><br><span class="line">            e.printStackTrace(); <span class="comment">// 打印出这个异常对象的信息。记录下来。</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, ParseException {</span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">d</span> <span class="operator">=</span> sdf.parse(<span class="string">"2028-11-11 10:24:11"</span>);</span><br><span class="line">        System.out.println(d);</span><br><span class="line">        test2();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException {</span><br><span class="line">        <span class="comment">// 读取文件的。</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">"D:/meinv.png"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>第二种处理方式是：在main方法中对异常进行捕获，并尝试修复</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握异常的处理方式：捕获异常，尝试修复。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest4</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 需求：调用一个方法，让用户输入一个合适的价格返回为止。</span></span><br><span class="line">        <span class="comment">// 尝试修复</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                System.out.println(getMoney());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">                System.out.println(<span class="string">"请您输入合法的数字！！"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">getMoney</span><span class="params">()</span>{</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            System.out.println(<span class="string">"请您输入合适的价格："</span>);</span><br><span class="line">            <span class="type">double</span> <span class="variable">money</span> <span class="operator">=</span> sc.nextDouble();</span><br><span class="line">            <span class="keyword">if</span>(money &gt;= <span class="number">0</span>){</span><br><span class="line">                <span class="keyword">return</span> money;</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                System.out.println(<span class="string">"您输入的价格是不合适的！"</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>好了，到此我们关于异常的知识就全部学习完了。</p>
<h2 id="二、集合概述和分类"><a href="#二、集合概述和分类" class="headerlink" title="二、集合概述和分类"></a>二、集合概述和分类</h2><h3 id="2-1-集合的分类"><a href="#2-1-集合的分类" class="headerlink" title="2.1 集合的分类"></a>2.1 集合的分类</h3><p>同学们，前面我们已经学习过了ArrayList集合，但是除了ArrayList集合，Java还提供了很多种其他的集合，如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057565382-aa4502dd-d48b-44ac-8017-cca19e964bd5.png#id=Kz2x5&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我想你的第一感觉是这些集合好多呀！但是，我们学习时会对这些集合进行分类学习，如下图所示：一类是单列集合元素是一个一个的，另一类是双列集合元素是一对一对的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057565497-f6a1f240-a3b5-4761-aece-afdb93d5fb9d.png#id=k8DFP&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>在今天的课程中，主要学习Collection单列集合。Collection是单列集合的根接口，Collection接口下面又有两个子接口List接口、Set接口，List和Set下面分别有不同的实现类，如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057565603-dba8bd2e-7bec-4ee6-869e-48a017ccd72d.png#id=JqXsp&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>上图中各种集合的特点如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057565697-ad0de9c5-c40e-466d-806b-2c9d367eff65.png#id=U9Bew&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>可以自己写代码验证一下，各种集合的特点</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简单确认一下Collection集合的特点</span></span><br><span class="line">ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(); <span class="comment">//存取顺序一致，可以重复，有索引</span></span><br><span class="line">list.add(<span class="string">"java1"</span>);</span><br><span class="line">list.add(<span class="string">"java2"</span>);</span><br><span class="line">list.add(<span class="string">"java1"</span>);</span><br><span class="line">list.add(<span class="string">"java2"</span>);</span><br><span class="line">System.out.println(list); <span class="comment">//[java1, java2, java1, java2] </span></span><br><span class="line"></span><br><span class="line">HashSet&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(); <span class="comment">//存取顺序不一致，不重复，无索引</span></span><br><span class="line">list.add(<span class="string">"java1"</span>);</span><br><span class="line">list.add(<span class="string">"java2"</span>);</span><br><span class="line">list.add(<span class="string">"java1"</span>);</span><br><span class="line">list.add(<span class="string">"java2"</span>);</span><br><span class="line">list.add(<span class="string">"java3"</span>);</span><br><span class="line">System.out.println(list); <span class="comment">//[java3, java2, java1]</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-2-Collection集合的常用方法"><a href="#2-2-Collection集合的常用方法" class="headerlink" title="2.2 Collection集合的常用方法"></a>2.2 Collection集合的常用方法</h3><p>接下来，我们学习一下Collection集合的一些常用方法，这些方法所有Collection实现类都可以使用。 这里我们以创建ArrayList为例，来演示</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//1.public boolean add(E e): 添加元素到集合</span></span><br><span class="line">c.add(<span class="string">"java1"</span>);</span><br><span class="line">c.add(<span class="string">"java1"</span>);</span><br><span class="line">c.add(<span class="string">"java2"</span>);</span><br><span class="line">c.add(<span class="string">"java2"</span>);</span><br><span class="line">c.add(<span class="string">"java3"</span>);</span><br><span class="line">System.out.println(c); <span class="comment">//打印: [java1, java1, java2, java2, java3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.public int size(): 获取集合的大小</span></span><br><span class="line">System.out.println(c.size()); <span class="comment">//5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.public boolean contains(Object obj): 判断集合中是否包含某个元素</span></span><br><span class="line">System.out.println(c.contains(<span class="string">"java1"</span>)); <span class="comment">//true</span></span><br><span class="line">System.out.println(c.contains(<span class="string">"Java1"</span>)); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//4.pubilc boolean remove(E e): 删除某个元素，如果有多个重复元素只能删除第一个</span></span><br><span class="line">System.out.println(c.remove(<span class="string">"java1"</span>)); <span class="comment">//true</span></span><br><span class="line">System.out.println(c); <span class="comment">//打印: [java1,java2, java2, java3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//5.public void clear(): 清空集合的元素</span></span><br><span class="line">c.clear(); </span><br><span class="line">System.out.println(c); <span class="comment">//打印：[]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//6.public boolean isEmpty(): 判断集合是否为空 是空返回true 反之返回false</span></span><br><span class="line">System.out.println(c.isEmpty()); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//7.public Object[] toArray(): 把集合转换为数组</span></span><br><span class="line">Object[] array = c.toArray();</span><br><span class="line">System.out.println(Arrays.toString(array)); <span class="comment">//[java1,java2, java2, java3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//8.如果想把集合转换为指定类型的数组，可以使用下面的代码</span></span><br><span class="line">String[] array1 = c.toArray(<span class="keyword">new</span> <span class="title class_">String</span>[c.size()]);</span><br><span class="line">System.out.println(Arrays.toString(array1)); <span class="comment">//[java1,java2, java2, java3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//9.还可以把一个集合中的元素，添加到另一个集合中</span></span><br><span class="line">Collection&lt;String&gt; c1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">c1.add(<span class="string">"java1"</span>);</span><br><span class="line">c1.add(<span class="string">"java2"</span>);</span><br><span class="line">Collection&lt;String&gt; c2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">c2.add(<span class="string">"java3"</span>);</span><br><span class="line">c2.add(<span class="string">"java4"</span>);</span><br><span class="line">c1.addAll(c2); <span class="comment">//把c2集合中的全部元素，添加到c1集合中去</span></span><br><span class="line">System.out.println(c1); <span class="comment">//[java1, java2, java3, java4]</span></span><br></pre></td></tr></tbody></table></figure>

<p>最后，我们总结一下Collection集合的常用功能有哪些，ArrayList、LinkedList、HashSet、LinkedHashSet、TreeSet集合都可以调用下面的方法。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057565807-35dcbb1d-91fc-49f1-ada2-8cfe1a0c97f1.png#id=vjt9S&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="三、Collection遍历方式"><a href="#三、Collection遍历方式" class="headerlink" title="三、Collection遍历方式"></a>三、Collection遍历方式</h2><p>各位同学，接下来我们学习一下Collection集合的遍历方式。有同学说：“集合的遍历之前不是学过吗？就用普通的for循环啊? “ &nbsp;没错！之前是学过集合遍历，但是之前学习过的遍历方式，只能遍历List集合，不能遍历Set集合，因为以前的普通for循环遍历需要索引，只有List集合有索引，而Set集合没有索引。</p>
<p>所以我们需要有一种通用的遍历方式，能够遍历所有集合。</p>
<h3 id="3-1-迭代器遍历集合"><a href="#3-1-迭代器遍历集合" class="headerlink" title="3.1 迭代器遍历集合"></a>3.1 迭代器遍历集合</h3><p>接下来学习的迭代器就是一种集合的通用遍历方式。</p>
<p>代码写法如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">c.add(<span class="string">"赵敏"</span>);</span><br><span class="line">c.add(<span class="string">"小昭"</span>);</span><br><span class="line">c.add(<span class="string">"素素"</span>);</span><br><span class="line">c.add(<span class="string">"灭绝"</span>);</span><br><span class="line">System.out.println(c); <span class="comment">//[赵敏, 小昭, 素素, 灭绝]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第一步：先获取迭代器对象</span></span><br><span class="line"><span class="comment">//解释：Iterator就是迭代器对象，用于遍历集合的工具)</span></span><br><span class="line">Iterator&lt;String&gt; it = c.iterator();</span><br><span class="line"></span><br><span class="line"><span class="comment">//第二步：用于判断当前位置是否有元素可以获取</span></span><br><span class="line"><span class="comment">//解释：hasNext()方法返回true，说明有元素可以获取；反之没有</span></span><br><span class="line"><span class="keyword">while</span>(it.hasNext()){</span><br><span class="line">    <span class="comment">//第三步：获取当前位置的元素，然后自动指向下一个元素.</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">e</span> <span class="operator">=</span> it.next();</span><br><span class="line">    System.out.println(s);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>迭代器代码的原理如下：</p>
<ul>
<li>当调用iterator()方法获取迭代器时，当前指向第一个元素</li>
<li>hasNext()方法则判断这个位置是否有元素，如果有则返回true，进入循环</li>
<li>调用next()方法获取元素，并将当月元素指向下一个位置，</li>
<li>等下次循环时，则获取下一个元素，依此内推</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057565961-4fd128f2-64b1-477d-ab43-f48e8e5cf96a.png#id=hAqUA&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>最后，我们再总结一下，使用迭代器遍历集合用到哪些方法</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057566069-5e4ec3ce-6678-435d-9815-c6f11cea814b.png#id=lNdTM&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="3-2-增强for遍历集合"><a href="#3-2-增强for遍历集合" class="headerlink" title="3.2 增强for遍历集合"></a>3.2 增强for遍历集合</h3><p>同学们刚才我们学习了迭代器遍历集合，但是这个代码其实还有一种更加简化的写法，叫做增强for循环。</p>
<p>格式如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057566182-44db09df-b21a-4e44-b82b-e6873b0dc26b.png#id=Og4Js&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>需要注意的是，增强for不光可以遍历集合，还可以遍历数组。接下来我们用代码演示一em.o下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">c.add(<span class="string">"赵敏"</span>);</span><br><span class="line">c.add(<span class="string">"小昭"</span>);</span><br><span class="line">c.add(<span class="string">"素素"</span>);</span><br><span class="line">c.add(<span class="string">"灭绝"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.使用增强for遍历集合</span></span><br><span class="line"><span class="keyword">for</span>(String s: c){</span><br><span class="line">    System.out.println(s); </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.再尝试使用增强for遍历数组</span></span><br><span class="line">String[] arr = {<span class="string">"迪丽热巴"</span>, <span class="string">"古力娜扎"</span>, <span class="string">"稀奇哈哈"</span>};</span><br><span class="line"><span class="keyword">for</span>(String name: arr){</span><br><span class="line">    System.out.println(name);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-3-forEach遍历集合"><a href="#3-3-forEach遍历集合" class="headerlink" title="3.3 forEach遍历集合"></a>3.3 forEach遍历集合</h3><p>在JDK8版本以后还提供了一个forEach方法也可以遍历集合，如果下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057566278-21e6caa4-4b71-45a5-84df-b5e7ccc75e49.png#id=NSzmN&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们发现forEach方法的参数是一个Consumer接口，而Consumer是一个函数式接口，所以可以传递Lambda表达式</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">c.add(<span class="string">"赵敏"</span>);</span><br><span class="line">c.add(<span class="string">"小昭"</span>);</span><br><span class="line">c.add(<span class="string">"素素"</span>);</span><br><span class="line">c.add(<span class="string">"灭绝"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用forEach方法</span></span><br><span class="line"><span class="comment">//由于参数是一个Consumer接口，所以可以传递匿名内部类</span></span><br><span class="line">c.forEach(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span>{</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    }</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//也可以使用lambda表达式对匿名内部类进行简化</span></span><br><span class="line">c.forEach(s-&gt;System.out.println(s)); <span class="comment">//[赵敏, 小昭, 素素, 灭绝]</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-4-遍历集合案例"><a href="#3-4-遍历集合案例" class="headerlink" title="3.4 遍历集合案例"></a>3.4 遍历集合案例</h3><p>接下来，我们看一个案例，在集合中存储自定义的对象，并遍历。具体要求如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057566405-40ddfc2c-1f48-46d8-8b67-54a1d70b9a95.png#id=sysz4&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>首先，我们得写一个电影类，用来描述每一步电影应该有哪些信息。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Movie</span>{</span><br><span class="line">    <span class="keyword">private</span> String name; <span class="comment">//电影名称</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> score; <span class="comment">//评分</span></span><br><span class="line">    <span class="keyword">private</span> String actor; <span class="comment">//演员</span></span><br><span class="line">    <span class="comment">//无参数构造方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Movie</span><span class="params">()</span>{}</span><br><span class="line">    <span class="comment">//全参数构造方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Movie</span><span class="params">(String name, <span class="type">double</span> score, String actor)</span>{</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.score=score;</span><br><span class="line">        <span class="built_in">this</span>.actor=actor;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//...get、set、toString()方法自己补上..</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接着，再创建一个测试类，完成上面的需求</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        Collection&lt;Movie&gt; movies = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        movies.add(<span class="keyword">new</span> <span class="title class_">MOvie</span>(<span class="string">"《肖申克的救赎》"</span>, <span class="number">9.7</span>, <span class="string">"罗宾斯"</span>));</span><br><span class="line">        movies.add(<span class="keyword">new</span> <span class="title class_">MOvie</span>(<span class="string">"《霸王别姬》"</span>, <span class="number">9.6</span>, <span class="string">"张国荣、张丰毅"</span>));</span><br><span class="line">        movies.add(<span class="keyword">new</span> <span class="title class_">MOvie</span>(<span class="string">"《阿甘正传》"</span>, <span class="number">9.5</span>, <span class="string">"汤姆汉克斯"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(Movie movie : movies){</span><br><span class="line">            System.out.println(<span class="string">"电影名："</span> + movie.getName());</span><br><span class="line">            System.out.println(<span class="string">"评分："</span> + movie.getScore());</span><br><span class="line">            System.out.println(<span class="string">"主演："</span> + movie.getActor());</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>以上代码的内存原理如下图所示：当往集合中存对象时，实际上存储的是对象的地址值</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057566551-1594e27e-e7e2-4695-9c5b-9bd9879655d8.png#id=WUlgV&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="四、List系列集合"><a href="#四、List系列集合" class="headerlink" title="四、List系列集合"></a>四、List系列集合</h2><p>前面我们已经把Collection通用的功能学习完了，接下来我们学习Collection下面的一个子体系List集合。如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057566690-f820ecf8-b416-4f3a-94a7-e973ff37d7df.png#id=N6RtV&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-1-List集合的常用方法"><a href="#4-1-List集合的常用方法" class="headerlink" title="4.1 List集合的常用方法"></a>4.1 List集合的常用方法</h3><p>List集合是索引的，所以多了一些有索引操作的方法，如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057566792-4485a60c-60f3-4827-9bb2-b695822e1873.png#id=uvjUv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，我们用代码演示一下这几个方法的效果</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建一个ArrayList集合对象（有序、有索引、可以重复）</span></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="string">"蜘蛛精"</span>);</span><br><span class="line">list.add(<span class="string">"至尊宝"</span>);</span><br><span class="line">list.add(<span class="string">"至尊宝"</span>);</span><br><span class="line">list.add(<span class="string">"牛夫人"</span>); </span><br><span class="line">System.out.println(list); <span class="comment">//[蜘蛛精, 至尊宝, 至尊宝, 牛夫人]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.public void add(int index, E element): 在某个索引位置插入元素</span></span><br><span class="line">list.add(<span class="number">2</span>, <span class="string">"紫霞仙子"</span>);</span><br><span class="line">System.out.println(list); <span class="comment">//[蜘蛛精, 至尊宝, 紫霞仙子, 至尊宝, 牛夫人]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.public E remove(int index): 根据索引删除元素, 返回被删除的元素</span></span><br><span class="line">System.out.println(list.remove(<span class="number">2</span>)); <span class="comment">//紫霞仙子</span></span><br><span class="line">System.out.println(list);<span class="comment">//[蜘蛛精, 至尊宝, 至尊宝, 牛夫人]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//4.public E get(int index): 返回集合中指定位置的元素</span></span><br><span class="line">System.out.println(list.get(<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//5.public E set(int index, E e): 修改索引位置处的元素，修改后，会返回原数据</span></span><br><span class="line">System.out.println(list.set(<span class="number">3</span>,<span class="string">"牛魔王"</span>)); <span class="comment">//牛夫人</span></span><br><span class="line">System.out.println(list); <span class="comment">//[蜘蛛精, 至尊宝, 至尊宝, 牛魔王]</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-2-List集合的遍历方式"><a href="#4-2-List集合的遍历方式" class="headerlink" title="4.2 List集合的遍历方式"></a>4.2 List集合的遍历方式</h3><p>List集合相比于前面的Collection多了一种可以通过索引遍历的方式，所以List集合遍历方式一共有四种：</p>
<ul>
<li>普通for循环（只因为List有索引）</li>
<li>迭代器</li>
<li>增强for</li>
<li>Lambda表达式</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="string">"蜘蛛精"</span>);</span><br><span class="line">list.add(<span class="string">"至尊宝"</span>);</span><br><span class="line">list.add(<span class="string">"糖宝宝"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.普通for循环</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i&lt; list.size(); i++){</span><br><span class="line">    <span class="comment">//i = 0, 1, 2</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">e</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">    System.out.println(e);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.增强for遍历</span></span><br><span class="line"><span class="keyword">for</span>(String s : list){</span><br><span class="line">    System.out.println(s);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.迭代器遍历</span></span><br><span class="line">Iterator&lt;String&gt; it = list.iterator();</span><br><span class="line"><span class="keyword">while</span>(it.hasNext()){</span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> it.next();</span><br><span class="line">    System.out.println(s);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.lambda表达式遍历</span></span><br><span class="line">list.forEach(s-&gt;System.out.println(s));</span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-3-ArrayList底层的原理"><a href="#4-3-ArrayList底层的原理" class="headerlink" title="4.3 ArrayList底层的原理"></a>4.3 ArrayList底层的原理</h3><p>为了让同学们更加透彻的理解ArrayList集合，接下来，学习一下ArrayList集合的底层原理。</p>
<p>ArrayList集合底层是基于数组结构实现的，也就是说当你往集合容器中存储元素时，底层本质上是往数组中存储元素。 特点如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057566897-ace21fc3-2d78-4f9c-8327-f9d2aca048a8.png#id=uFxtu&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们知道数组的长度是固定的，但是集合的长度是可变的，这是怎么做到的呢？原理如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057567016-c4edc721-1144-4ccb-94e0-9c9e96ef6bbc.png#id=zA3Db&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>数组扩容，并不是在原数组上扩容（原数组是不可以扩容的），底层是创建一个新数组，然后把原数组中的元素全部复制到新数组中去。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057567119-4cddbf94-eae4-4e2d-858b-91bbc5b22578.png#id=dICn6&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-4-LinkedList底层原理"><a href="#4-4-LinkedList底层原理" class="headerlink" title="4.4 LinkedList底层原理"></a>4.4 LinkedList底层原理</h3><p>学习完ArrayList底层原理之后，接下来我们看一下LinkedList集合的底层原理。</p>
<p>LinkedList底层是链表结构，链表结构是由一个一个的节点组成，一个节点由数据值、下一个元素的地址组成。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057567216-727de99e-a86d-4ed9-be61-1399c4df4dd8.png#id=VUKjq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>假如，现在要在B节点和D节点中间插入一个元素，只需要把B节点指向D节点的地址断掉，重新指向新的节点地址就可以了。如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057567331-845a8d66-5989-4b0b-a172-96ca64892bba.png#id=twVYr&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>假如，现在想要把D节点删除，只需要让C节点指向E节点的地址，然后把D节点指向E节点的地址断掉。此时D节点就会变成垃圾，会把垃圾回收器清理掉。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057567480-409add59-c3e0-40e1-b0ea-4b838a90e8a1.png#id=UKmqt&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>上面的链表是单向链表，它的方向是从头节点指向尾节点的，只能从左往右查找元素，这样查询效率比较慢；还有一种链表叫做双向链表，不光可以从做往右找，还可以从右往左找。如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057567577-a5900b6b-e6ac-419e-93f6-bb42c4a94eb0.png#id=nsEzu&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>LinkedList集合是基于双向链表实现了，所以相对于ArrayList新增了一些可以针对头尾进行操作的方法，如下图示所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057567717-e738f4df-848c-4ff6-80a8-e4b28d10dd0f.png#id=OOTcR&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-5-LinkedList集合的应用场景"><a href="#4-5-LinkedList集合的应用场景" class="headerlink" title="4.5 LinkedList集合的应用场景"></a>4.5 LinkedList集合的应用场景</h3><p>刚才我们学习了LinkedList集合，那么LInkedList集合有什么用呢？可以用它来设计栈结构、队列结构。</p>
<ul>
<li>我们先来认识一下队列结构，队列结构你可以认为是一个上端开口，下端也开口的管子的形状。元素从上端入队列，从下端出队列。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057567848-729e3ced-6e6c-4fae-a4e3-016bedbbe11f.png#id=Oywcq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>入队列可以调用LinkedList集合的addLast方法，出队列可以调用removeFirst()方法.</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建一个队列：先进先出、后进后出</span></span><br><span class="line">LinkedList&lt;String&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//入对列</span></span><br><span class="line">queue.addLast(<span class="string">"第1号人"</span>);</span><br><span class="line">queue.addLast(<span class="string">"第2号人"</span>);</span><br><span class="line">queue.addLast(<span class="string">"第3号人"</span>);</span><br><span class="line">queue.addLast(<span class="string">"第4号人"</span>);</span><br><span class="line">System.out.println(queue);</span><br><span class="line"></span><br><span class="line"><span class="comment">//出队列</span></span><br><span class="line">System.out.println(queue.removeFirst());	<span class="comment">//第4号人</span></span><br><span class="line">System.out.println(queue.removeFirst());	<span class="comment">//第3号人</span></span><br><span class="line">System.out.println(queue.removeFirst());	<span class="comment">//第2号人</span></span><br><span class="line">System.out.println(queue.removeFirst());	<span class="comment">//第1号人</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>接下来，我们再用LinkedList集合来模拟一下栈结构的效果。还是先来认识一下栈结构长什么样。栈结构可以看做是一个上端开头，下端闭口的水杯的形状。<br>元素永远是上端进，也从上端出，先进入的元素会压在最底下，所以<strong>栈结构的特点是先进后出，后进先出</strong></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057567954-8f88cbb5-4e95-40ae-8fbb-e85f5538d077.png#id=C6LI5&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>有没有感觉栈结构很像，手枪的子弹夹呀！！第一个压进入的子弹在最底下，最后一个才能打出来，最后一个压进入的子弹在最顶上，第一个打出来。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057568066-d4a4f0ba-532e-45e6-abb2-c9bbd481dd54.png#id=cPVYC&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接着，我们就用LinkedList来模拟下栈结构，代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建一个栈对象</span></span><br><span class="line">LinkedList&lt;String&gt; stack = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//压栈(push) 等价于 addFirst()</span></span><br><span class="line">stack.push(<span class="string">"第1颗子弹"</span>);</span><br><span class="line">stack.push(<span class="string">"第2颗子弹"</span>);</span><br><span class="line">stack.push(<span class="string">"第3颗子弹"</span>);</span><br><span class="line">stack.push(<span class="string">"第4颗子弹"</span>);</span><br><span class="line">System.out.println(stack); <span class="comment">//[第4颗子弹, 第3颗子弹, 第2颗子弹,第1颗子弹]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//弹栈(pop) 等价于 removeFirst()</span></span><br><span class="line">System.out.println(statck.pop()); <span class="comment">//第4颗子弹</span></span><br><span class="line">System.out.println(statck.pop()); <span class="comment">//第3颗子弹</span></span><br><span class="line">System.out.println(statck.pop()); <span class="comment">//第2颗子弹</span></span><br><span class="line">System.out.println(statck.pop()); <span class="comment">//第1颗子弹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//弹栈完了，集合中就没有元素了</span></span><br><span class="line">System.out.println(list); <span class="comment">//[]</span></span><br></pre></td></tr></tbody></table></figure>

<h1 id="day07——集合进阶（Set、Map集合）"><a href="#day07——集合进阶（Set、Map集合）" class="headerlink" title="day07——集合进阶（Set、Map集合）"></a>day07——集合进阶（Set、Map集合）</h1><h2 id="一、Set系列集合"><a href="#一、Set系列集合" class="headerlink" title="一、Set系列集合"></a>一、Set系列集合</h2><h3 id="1-1-认识Set集合的特点"><a href="#1-1-认识Set集合的特点" class="headerlink" title="1.1 认识Set集合的特点"></a>1.1 认识Set集合的特点</h3><p>Set集合是属于Collection体系下的另一个分支，它的特点如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057568168-a3ce53d6-df79-4d3c-bffe-c9306075615d.png#id=ilYtA&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面我们用代码简单演示一下，每一种Set集合的特点。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Set&lt;Integer&gt; set = new HashSet&lt;&gt;();	//无序、无索引、不重复</span></span><br><span class="line"><span class="comment">//Set&lt;Integer&gt; set = new LinkedHashSet&lt;&gt;(); //有序、无索引、不重复</span></span><br><span class="line">Set&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(); <span class="comment">//可排序(升序)、无索引、不重复</span></span><br><span class="line">set.add(<span class="number">666</span>);</span><br><span class="line">set.add(<span class="number">555</span>);</span><br><span class="line">set.add(<span class="number">555</span>);</span><br><span class="line">set.add(<span class="number">888</span>);</span><br><span class="line">set.add(<span class="number">888</span>);</span><br><span class="line">set.add(<span class="number">777</span>);</span><br><span class="line">set.add(<span class="number">777</span>);</span><br><span class="line">System.out.println(set); <span class="comment">//[555, 666, 777, 888]</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-2-HashSet集合底层原理"><a href="#1-2-HashSet集合底层原理" class="headerlink" title="1.2 HashSet集合底层原理"></a>1.2 HashSet集合底层原理</h3><p>接下来，为了让同学们更加透彻的理解HashSet为什么可以去重，我们来看一下它的底层原理。</p>
<p>HashSet集合底层是基于哈希表实现的，哈希表根据JDK版本的不同，也是有点区别的</p>
<ul>
<li>JDK8以前：哈希表 = 数组+链表</li>
<li>JDK8以后：哈希表 = 数组+链表+红黑树</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057568308-0ac4144e-a1e2-4de4-ad05-bb7738f79724.png#id=LGstv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们发现往HashSet集合中存储元素时，底层调用了元素的两个方法：一个是hashCode方法获取元素的hashCode值（哈希值）；另一个是调用了元素的equals方法，用来比较新添加的元素和集合中已有的元素是否相同。</p>
<ul>
<li>只有新添加元素的hashCode值和集合中以后元素的hashCode值相同、新添加的元素调用equals方法和集合中已有元素比较结果为true, 才认为元素重复。</li>
<li>如果hashCode值相同，equals比较不同，则以链表的形式连接在数组的同一个索引为位置（如上图所示）</li>
</ul>
<p>在JDK8开始后，为了提高性能，当链表的长度超过8时，就会把链表转换为红黑树，如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057568462-6d26e9e9-a23a-42b4-8b61-18c541e72844.png#id=QbB80&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-3-HashSet去重原理"><a href="#1-3-HashSet去重原理" class="headerlink" title="1.3 HashSet去重原理"></a>1.3 HashSet去重原理</h3><p>前面我们学习了HashSet存储元素的原理，依赖于两个方法：一个是hashCode方法用来确定在底层数组中存储的位置，另一个是用equals方法判断新添加的元素是否和集合中已有的元素相同。</p>
<p>要想保证在HashSet集合中没有重复元素，我们需要重写元素类的hashCode和equals方法。比如以下面的Student类为例，假设把Student类的对象作为HashSet集合的元素，想要让学生的姓名和年龄相同，就认为元素重复。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>{</span><br><span class="line">    <span class="keyword">private</span> String name; <span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age; <span class="comment">//年龄</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height; <span class="comment">//身高</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">//无参数构造方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span>{}</span><br><span class="line">    <span class="comment">//全参数构造方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">double</span> height)</span>{</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">        <span class="built_in">this</span>.height=height;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//...get、set、toString()方法自己补上..</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//按快捷键生成hashCode和equals方法</span></span><br><span class="line">    <span class="comment">//alt+insert 选择 hashCode and equals</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> {</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> (Student) o;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (age != student.age) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (Double.compare(student.height, height) != <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> name != <span class="literal">null</span> ? name.equals(student.name) : student.name == <span class="literal">null</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">int</span> result;</span><br><span class="line">        <span class="type">long</span> temp;</span><br><span class="line">        result = name != <span class="literal">null</span> ? name.hashCode() : <span class="number">0</span>;</span><br><span class="line">        result = <span class="number">31</span> * result + age;</span><br><span class="line">        temp = Double.doubleToLongBits(height);</span><br><span class="line">        result = <span class="number">31</span> * result + (<span class="type">int</span>) (temp ^ (temp &gt;&gt;&gt; <span class="number">32</span>));</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接着，写一个测试类，往HashSet集合中存储Student对象。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        Set&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"至尊宝"</span>,<span class="number">20</span>, <span class="number">169.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>,<span class="number">23</span>, <span class="number">169.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>,<span class="number">23</span>, <span class="number">169.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"牛魔王"</span>,<span class="number">48</span>, <span class="number">169.6</span>);</span><br><span class="line">        </span><br><span class="line">        students.add(s1);</span><br><span class="line">        students.add(s2);</span><br><span class="line">        students.add(s3);</span><br><span class="line">        students.add(s4);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(Student s : students){</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>打印结果如下，我们发现存了两个蜘蛛精，当时实际打印出来只有一个，而且是无序的。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Student{name=<span class="string">'牛魔王'</span>, age=<span class="number">48</span>, height=<span class="number">169.6</span>}</span><br><span class="line">Student{name=<span class="string">'至尊宝'</span>, age=<span class="number">20</span>, height=<span class="number">169.6</span>}</span><br><span class="line">Student{name=<span class="string">'蜘蛛精'</span>, age=<span class="number">23</span>, height=<span class="number">169.6</span>}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-4-LinkedHashSet底层原理"><a href="#1-4-LinkedHashSet底层原理" class="headerlink" title="1.4 LinkedHashSet底层原理"></a>1.4 LinkedHashSet底层原理</h3><p>接下来，我们再学习一个HashSet的子类LinkedHashSet类。LinkedHashSet它底层采用的是也是哈希表结构，只不过额外新增了一个双向链表来维护元素的存取顺序。如下下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057568579-29f3a1df-b332-4f4f-ae4d-5e02dcbe0180.png#id=pqMqp&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>每次添加元素，就和上一个元素用双向链表连接一下。第一个添加的元素是双向链表的头节点，最后一个添加的元素是双向链表的尾节点。</p>
<p>把上个案例中的集合改成LinkedList集合，我们观察效果怎样</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        Set&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">LinkedHashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"至尊宝"</span>,<span class="number">20</span>, <span class="number">169.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>,<span class="number">23</span>, <span class="number">169.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>,<span class="number">23</span>, <span class="number">169.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"牛魔王"</span>,<span class="number">48</span>, <span class="number">169.6</span>);</span><br><span class="line">        </span><br><span class="line">        students.add(s1);</span><br><span class="line">        students.add(s2);</span><br><span class="line">        students.add(s3);</span><br><span class="line">        students.add(s4);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(Student s : students){</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>打印结果如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Student{name=<span class="string">'至尊宝'</span>, age=<span class="number">20</span>, height=<span class="number">169.6</span>}</span><br><span class="line">Student{name=<span class="string">'蜘蛛精'</span>, age=<span class="number">23</span>, height=<span class="number">169.6</span>}</span><br><span class="line">Student{name=<span class="string">'牛魔王'</span>, age=<span class="number">48</span>, height=<span class="number">169.6</span>}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-5-TreeSet集合"><a href="#1-5-TreeSet集合" class="headerlink" title="1.5 TreeSet集合"></a>1.5 TreeSet集合</h3><p>最后，我们学习一下TreeSet集合。TreeSet集合的特点是可以对元素进行排序，但是必须指定元素的排序规则。</p>
<p>如果往集合中存储String类型的元素，或者Integer类型的元素，它们本身就具备排序规则，所以直接就可以排序。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; set1= <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">set1.add(<span class="number">8</span>);</span><br><span class="line">set1.add(<span class="number">6</span>);</span><br><span class="line">set1.add(<span class="number">4</span>);</span><br><span class="line">set1.add(<span class="number">3</span>);</span><br><span class="line">set1.add(<span class="number">7</span>);</span><br><span class="line">set1.add(<span class="number">1</span>);</span><br><span class="line">set1.add(<span class="number">5</span>);</span><br><span class="line">set1.add(<span class="number">2</span>);</span><br><span class="line">System.out.println(set1); <span class="comment">//[1,2,3,4,5,6,7,8]</span></span><br><span class="line"></span><br><span class="line">Set&lt;Integer&gt; set2= <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">set2.add(<span class="string">"a"</span>);</span><br><span class="line">set2.add(<span class="string">"c"</span>);</span><br><span class="line">set2.add(<span class="string">"e"</span>);</span><br><span class="line">set2.add(<span class="string">"b"</span>);</span><br><span class="line">set2.add(<span class="string">"d"</span>);</span><br><span class="line">set2.add(<span class="string">"f"</span>);</span><br><span class="line">set2.add(<span class="string">"g"</span>);</span><br><span class="line">System.out.println(set1); <span class="comment">//[a,b,c,d,e,f,g]</span></span><br></pre></td></tr></tbody></table></figure>

<p>如果往TreeSet集合中存储自定义类型的元素，比如说Student类型，则需要我们自己指定排序规则，否则会出现异常。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建TreeSet集合，元素为Student类型</span></span><br><span class="line">Set&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建4个Student对象</span></span><br><span class="line"><span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"至尊宝"</span>,<span class="number">20</span>, <span class="number">169.6</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>,<span class="number">23</span>, <span class="number">169.8</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>,<span class="number">23</span>, <span class="number">169.6</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"牛魔王"</span>,<span class="number">48</span>, <span class="number">169.6</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加Studnet对象到集合</span></span><br><span class="line">students.add(s1);</span><br><span class="line">students.add(s2);</span><br><span class="line">students.add(s3);</span><br><span class="line">students.add(s4);</span><br><span class="line">System.out.println(students);</span><br></pre></td></tr></tbody></table></figure>

<p>此时运行代码，会直接报错。原因是TreeSet不知道按照什么条件对Student对象来排序。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057568682-3db9f732-18d9-4846-8593-ba9ba8afd0d3.png#id=oXsXE&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们想要告诉TreeSet集合按照指定的规则排序，有两种办法：</p>
<blockquote>
<p>第一种：让元素的类实现Comparable接口，重写compareTo方法</p>
</blockquote>
<blockquote>
<p>第二种：在创建TreeSet集合时，通过构造方法传递Compartor比较器对象</p>
</blockquote>
<ul>
<li><strong>排序方式1：</strong>我们先来演示第一种排序方式</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一步：先让Student类，实现Comparable接口</span></span><br><span class="line"><span class="comment">//注意：Student类的对象是作为TreeSet集合的元素的</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line">	<span class="comment">//无参数构造方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span>{}</span><br><span class="line">    <span class="comment">//全参数构造方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">double</span> height)</span>{</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">        <span class="built_in">this</span>.height=height;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//...get、set、toString()方法自己补上..</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//第二步：重写compareTo方法</span></span><br><span class="line">    <span class="comment">//按照年龄进行比较，只需要在方法中让this.age和o.age相减就可以。</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    原理：</span></span><br><span class="line"><span class="comment">    在往TreeSet集合中添加元素时，add方法底层会调用compareTo方法，根据该方法的</span></span><br><span class="line"><span class="comment">    结果是正数、负数、还是零，决定元素放在后面、前面还是不存。</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span> {</span><br><span class="line">        <span class="comment">//this：表示将要添加进去的Student对象</span></span><br><span class="line">        <span class="comment">//o: 表示集合中已有的Student对象</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age-o.age;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>此时，再运行测试类，结果如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Student{name=<span class="string">'至尊宝'</span>, age=<span class="number">20</span>, height=<span class="number">169.6</span>}</span><br><span class="line">Student{name=<span class="string">'紫霞'</span>, age=<span class="number">20</span>, height=<span class="number">169.8</span>}</span><br><span class="line">Student{name=<span class="string">'蜘蛛精'</span>, age=<span class="number">23</span>, height=<span class="number">169.6</span>}</span><br><span class="line">Student{name=<span class="string">'牛魔王'</span>, age=<span class="number">48</span>, height=<span class="number">169.6</span>}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>排序方式2：</strong>接下来演示第二种排序方式</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建TreeSet集合时，传递比较器对象排序</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">原理：当调用add方法时，底层会先用比较器，根据Comparator的compare方是正数、负数、还是零，决定谁在后，谁在前，谁不存。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//下面代码中是按照学生的年龄升序排序</span></span><br><span class="line">Set&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span>{</span><br><span class="line">        <span class="comment">//需求：按照学生的身高排序</span></span><br><span class="line">        <span class="keyword">return</span> Double.compare(o1,o2); </span><br><span class="line">    }</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建4个Student对象</span></span><br><span class="line"><span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"至尊宝"</span>,<span class="number">20</span>, <span class="number">169.6</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>,<span class="number">23</span>, <span class="number">169.8</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>,<span class="number">23</span>, <span class="number">169.6</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"牛魔王"</span>,<span class="number">48</span>, <span class="number">169.6</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加Studnet对象到集合</span></span><br><span class="line">students.add(s1);</span><br><span class="line">students.add(s2);</span><br><span class="line">students.add(s3);</span><br><span class="line">students.add(s4);</span><br><span class="line">System.out.println(students);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-6-总结Collection集合"><a href="#1-6-总结Collection集合" class="headerlink" title="1.6 总结Collection集合"></a>1.6 总结Collection集合</h3><p>最后，将所有的Collection集合总结一下，要求大家掌握每一种集合的特点，以及他们的体系结构。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057568797-cf88e6c5-4863-4500-ac3c-c4cb037f5686.png#id=axFcv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>好了，关于Collection集合，到这里就学习完了。</p>
<h3 id="1-7-并发修改异常"><a href="#1-7-并发修改异常" class="headerlink" title="1.7 并发修改异常"></a>1.7 并发修改异常</h3><p>学完Collection集合后，还有一个小问题需要给同学们补充说明一下，那就是在使用迭代器遍历集合时，可能存在并发修改异常。</p>
<p>我们先把这个异常用代码演示出来，再解释一下为什么会有这个异常产生</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="string">"王麻子"</span>);</span><br><span class="line">list.add(<span class="string">"小李子"</span>);</span><br><span class="line">list.add(<span class="string">"李爱花"</span>);</span><br><span class="line">list.add(<span class="string">"张全蛋"</span>);</span><br><span class="line">list.add(<span class="string">"晓李"</span>);</span><br><span class="line">list.add(<span class="string">"李玉刚"</span>);</span><br><span class="line">System.out.println(list); <span class="comment">// [王麻子, 小李子, 李爱花, 张全蛋, 晓李, 李玉刚]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//需求：找出集合中带"李"字的姓名，并从集合中删除</span></span><br><span class="line">Iterator&lt;String&gt; it = list.iterator();</span><br><span class="line"><span class="keyword">while</span>(it.hasNext()){</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> it.next();</span><br><span class="line">    <span class="keyword">if</span>(name.contains(<span class="string">"李"</span>)){</span><br><span class="line">        list.remove(name);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">System.out.println(list);</span><br></pre></td></tr></tbody></table></figure>

<p>运行上面的代码，会出现下面的异常。这就是并发修改异常</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057568917-410becb1-1a05-4e8e-bbb5-49b685a957d1.png#id=cwWDR&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>为什么会出现这个异常呢？那是因为迭代器遍历机制，规定迭代器遍历集合的同时，不允许集合自己去增删元素，否则就会出现这个异常。</p>
<p>怎么解决这个问题呢？不使用集合的删除方法，而是使用迭代器的删除方法，代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="string">"王麻子"</span>);</span><br><span class="line">list.add(<span class="string">"小李子"</span>);</span><br><span class="line">list.add(<span class="string">"李爱花"</span>);</span><br><span class="line">list.add(<span class="string">"张全蛋"</span>);</span><br><span class="line">list.add(<span class="string">"晓李"</span>);</span><br><span class="line">list.add(<span class="string">"李玉刚"</span>);</span><br><span class="line">System.out.println(list); <span class="comment">// [王麻子, 小李子, 李爱花, 张全蛋, 晓李, 李玉刚]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//需求：找出集合中带"李"字的姓名，并从集合中删除</span></span><br><span class="line">Iterator&lt;String&gt; it = list.iterator();</span><br><span class="line"><span class="keyword">while</span>(it.hasNext()){</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> it.next();</span><br><span class="line">    <span class="keyword">if</span>(name.contains(<span class="string">"李"</span>)){</span><br><span class="line">        <span class="comment">//list.remove(name);</span></span><br><span class="line">        it.remove(); <span class="comment">//当前迭代器指向谁，就删除谁</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">System.out.println(list);</span><br></pre></td></tr></tbody></table></figure>

<h2 id="二、Collection的其他操作"><a href="#二、Collection的其他操作" class="headerlink" title="二、Collection的其他操作"></a>二、Collection的其他操作</h2><p>各位同学，前面我们已经把Collection家族的集合都学习完了。为了更加方便的对Collection集合进行操作，今天我们还要学习一个操作Collection集合的工具类，叫做Collections。但是Collections工具类中需要用到一个没有学过的小知识点，叫做可变参数，所以必须先学习这个前置知识可变参数，再学习Collections工具类，最后再利用这个工具类做一个综合案例。</p>
<h3 id="2-1-可变参数"><a href="#2-1-可变参数" class="headerlink" title="2.1 可变参数"></a>2.1 可变参数</h3><p>首先，我们来学习一下可变参数。关于可变参数我们首先要知道它是什么，然后要知道它的本质。搞清楚这两个问题，可变参数就算你学明白了。</p>
<blockquote>
<ul>
<li><strong>可变参数是一种特殊的形式参数，定义在方法、构造器的形参列表处，它可以让方法接收多个同类型的实际参数。</strong> </li>
<li><strong>可变参数在方法内部，本质上是一个数组</strong></li>
</ul>
</blockquote>
<p>接下来，我们编写代码来演示一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ParamTest</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//不传递参数，下面的nums长度则为0, 打印元素是[]</span></span><br><span class="line">        test();	</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//传递3个参数，下面的nums长度为3，打印元素是[10, 20, 30]</span></span><br><span class="line">        test(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>); </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//传递一个数组，下面数组长度为4，打印元素是[10,20,30,40] </span></span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[]{<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>}</span><br><span class="line">        test(arr); </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span>...nums)</span>{</span><br><span class="line">        <span class="comment">//可变参数在方法内部，本质上是一个数组</span></span><br><span class="line">        System.out.println(nums.length);</span><br><span class="line">        System.out.println(Arrays.toString(nums));</span><br><span class="line">        System.out.println(<span class="string">"----------------"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最后还有一些错误写法，需要让大家写代码时注意一下，不要这么写哦！！！</p>
<blockquote>
<ul>
<li><strong>一个形参列表中，只能有一个可变参数；否则会报错</strong> </li>
<li><strong>一个形参列表中如果多个参数，可变参数需要写在最后；否则会报错</strong></li>
</ul>
</blockquote>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057569047-7afe8297-fbed-4bae-b54e-58d894682e72.png#id=cXwJd&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057569139-5f19b5ff-b976-49cc-952c-7242a9e2cd5e.png#id=MeMBU&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-2-Collections工具类"><a href="#2-2-Collections工具类" class="headerlink" title="2.2 Collections工具类"></a>2.2 Collections工具类</h3><p>有了可变参数的基础，我们再学习Collections这个工具类就好理解了，因为这个工具类的方法中会用到可变参数。</p>
<p>注意Collections并不是集合，它比Collection多了一个s，一般后缀为s的类很多都是工具类。这里的Collections是用来操作Collection的工具类。它提供了一些好用的静态方法，如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057569246-001da901-a34d-4ecb-a4f8-7181d9199db4.png#id=ZAtsY&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们把这些方法用代码来演示一下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionsTest</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//1.public static &lt;T&gt; boolean addAll(Collection&lt;? super T&gt; c, T...e)</span></span><br><span class="line">        List&lt;String&gt; names = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(names, <span class="string">"张三"</span>,<span class="string">"王五"</span>,<span class="string">"李四"</span>, <span class="string">"张麻子"</span>);</span><br><span class="line">        System.out.println(names);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.public static void shuffle(List&lt;?&gt; list)：对集合打乱顺序</span></span><br><span class="line">        Collections.shuffle(names);</span><br><span class="line">        System.out.println(names);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.public static &lt;T&gt; void short(List&lt;T list): 对List集合排序</span></span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="number">3</span>);</span><br><span class="line">        list.add(<span class="number">5</span>);</span><br><span class="line">        list.add(<span class="number">2</span>);</span><br><span class="line">        Collections.sort(list);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>上面我们往集合中存储的元素要么是Stirng类型，要么是Integer类型，他们本来就有一种自然顺序所以可以直接排序。但是如果我们往List集合中存储Student对象，这个时候想要对List集合进行排序自定义比较规则的。指定排序规则有两种方式，如下：</p>
<blockquote>
<p><strong>排序方式1：让元素实现Comparable接口，重写compareTo方法</strong></p>
</blockquote>
<p>比如现在想要往集合中存储Studdent对象，首先需要准备一个Student类，实现Comparable接口。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line">    </span><br><span class="line">     <span class="comment">//排序时：底层会自动调用此方法，this和o表示需要比较的两个对象</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span>{</span><br><span class="line">        <span class="comment">//需求：按照年龄升序排序</span></span><br><span class="line">        <span class="comment">//如果返回正数：说明左边对象的年龄&gt;右边对象的年龄</span></span><br><span class="line">        <span class="comment">//如果返回负数：说明左边对象的年龄&lt;右边对象的年龄，</span></span><br><span class="line">        <span class="comment">//如果返回0：说明左边对象的年龄和右边对象的年龄相同</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age - o.age;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//...getter、setter、constructor..</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>然后再使用<code>Collections.sort(list集合)</code>对List集合排序，如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3.public static &lt;T&gt; void short(List&lt;T list): 对List集合排序</span></span><br><span class="line">List&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>,<span class="number">23</span>,<span class="number">169.7</span>));</span><br><span class="line">students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>,<span class="number">22</span>,<span class="number">169.8</span>));</span><br><span class="line">students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>,<span class="number">22</span>,<span class="number">169.8</span>));</span><br><span class="line">students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"至尊宝"</span>,<span class="number">26</span>,<span class="number">169.5</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">原理：sort方法底层会遍历students集合中的每一个元素，采用排序算法，将任意两个元素两两比较；</span></span><br><span class="line"><span class="comment">	每次比较时，会用一个Student对象调用compareTo方法和另一个Student对象进行比较；</span></span><br><span class="line"><span class="comment">	根据compareTo方法返回的结果是正数、负数，零来决定谁大，谁小，谁相等，重新排序元素的位置</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	注意：这些都是sort方法底层自动完成的，想要完全理解，必须要懂排序算法才行；</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Collections.sort(students);	</span><br><span class="line">System.out.println(students);</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p><strong>排序方式2：使用调用sort方法是，传递比较器</strong></p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">原理：sort方法底层会遍历students集合中的每一个元素，采用排序算法，将任意两个元素两两比较；</span></span><br><span class="line"><span class="comment">	每次比较，会将比较的两个元素传递给Comparator比较器对象的compare方法的两个参数o1和o2,</span></span><br><span class="line"><span class="comment">	根据compare方法的返回结果是正数，负数，或者0来决定谁大，谁小，谁相等，重新排序元素的位置</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	注意：这些都是sort方法底层自动完成的，不需要我们完全理解，想要理解它必须要懂排序算法才行.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Collections.sort(students, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;(){</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span>{</span><br><span class="line">        <span class="keyword">return</span> o1.getAge()-o2.getAge();</span><br><span class="line">    }</span><br><span class="line">});	</span><br><span class="line">System.out.println(students);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-3-斗地主案例"><a href="#2-3-斗地主案例" class="headerlink" title="2.3 斗地主案例"></a>2.3 斗地主案例</h3><p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057569358-b0885a71-4077-44ab-a432-0f03ec140762.png#id=y0kZ1&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们先分析一下业务需求：</p>
<ul>
<li>总共有54张牌，每一张牌有花色和点数两个属性、为了排序还可以再加一个序号</li>
<li>点数可以是：<code>“3”,"4","5","6","7","8","9","10","J","Q","K","A","2"</code></li>
<li>花色可以是：<code>“♣”,"♠","♥","♦"</code></li>
<li>斗地主时：三个玩家没人手里17张牌，剩余3张牌作为底牌</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">第一步：为了表示每一张牌有哪些属性，首先应该新建一个扑克牌的类</span><br><span class="line">第二步：启动游戏时，就应该提前准备好<span class="number">54</span>张牌</span><br><span class="line">第三步：接着再完全洗牌、发牌、捋牌、看牌的业务逻辑</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p><strong>先来完成第一步，定义一个扑克类Card</strong></p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Card</span> {</span><br><span class="line">    <span class="keyword">private</span> String number;</span><br><span class="line">    <span class="keyword">private</span> String color;</span><br><span class="line">    <span class="comment">// 每张牌是存在大小的。</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> size; <span class="comment">// 0 1 2 ....</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Card</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Card</span><span class="params">(String number, String color, <span class="type">int</span> size)</span> {</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">        <span class="built_in">this</span>.size = size;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getNumber</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> number;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNumber</span><span class="params">(String number)</span> {</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getColor</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> color;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setColor</span><span class="params">(String color)</span> {</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSize</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSize</span><span class="params">(<span class="type">int</span> size)</span> {</span><br><span class="line">        <span class="built_in">this</span>.size = size;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> color + number ;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p><strong>再完成第二步，定义一个房间类，初始化房间时准备好54张牌</strong></p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Room</span> {</span><br><span class="line">    <span class="comment">// 必须有一副牌。</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Card&gt; allCards = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Room</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">// 1、做出54张牌，存入到集合allCards</span></span><br><span class="line">        <span class="comment">// a、点数：个数确定了，类型确定。</span></span><br><span class="line">        String[] numbers = {<span class="string">"3"</span>,<span class="string">"4"</span>,<span class="string">"5"</span>,<span class="string">"6"</span>,<span class="string">"7"</span>,<span class="string">"8"</span>,<span class="string">"9"</span>,<span class="string">"10"</span>,<span class="string">"J"</span>,<span class="string">"Q"</span>,<span class="string">"K"</span>,<span class="string">"A"</span>,<span class="string">"2"</span>};</span><br><span class="line">        <span class="comment">// b、花色：个数确定了，类型确定。</span></span><br><span class="line">        String[] colors = {<span class="string">"♠"</span>, <span class="string">"♥"</span>, <span class="string">"♣"</span>, <span class="string">"♦"</span>};</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// 表示每张牌的大小</span></span><br><span class="line">        <span class="comment">// c、遍历点数，再遍历花色，组织牌</span></span><br><span class="line">        <span class="keyword">for</span> (String number : numbers) {</span><br><span class="line">            <span class="comment">// number = "3"</span></span><br><span class="line">            size++; <span class="comment">// 1 2 ....</span></span><br><span class="line">            <span class="keyword">for</span> (String color : colors) {</span><br><span class="line">                <span class="comment">// 得到一张牌</span></span><br><span class="line">                <span class="type">Card</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Card</span>(number, color, size);</span><br><span class="line">                allCards.add(c); <span class="comment">// 存入了牌</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 单独存入小大王的。</span></span><br><span class="line">        <span class="type">Card</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Card</span>(<span class="string">""</span>,  <span class="string">"🃏"</span> , ++size);</span><br><span class="line">        <span class="type">Card</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Card</span>(<span class="string">""</span>, <span class="string">"👲"</span> , ++size);</span><br><span class="line">        Collections.addAll(allCards, c1, c2);</span><br><span class="line">        System.out.println(<span class="string">"新牌："</span> + allCards);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p><strong>最后完成第三步，定义一个启动游戏的方法，完成洗牌、发牌、捋牌、看牌的业务逻辑</strong></p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 游戏启动</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> {</span><br><span class="line">  <span class="comment">// 1、洗牌： allCards</span></span><br><span class="line">  Collections.shuffle(allCards);</span><br><span class="line">  System.out.println(<span class="string">"洗牌后："</span> + allCards);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2、发牌，首先肯定要定义 三个玩家。 List(ArrayList)  Set(TreeSet)</span></span><br><span class="line">  List&lt;Card&gt; linHuChong = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">  List&lt;Card&gt; jiuMoZhi = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">  List&lt;Card&gt; renYingYing = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">  <span class="comment">// 正式发牌给这三个玩家，依次发出51张牌，剩余3张做为底牌。</span></span><br><span class="line">  <span class="comment">// allCards = [♥3, ♣10, ♣4, ♥K, ♦Q, ♣2, 🃏, ♣8, ....</span></span><br><span class="line">  <span class="comment">//             0     1   2   3   4   5   6 ...   % 3</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; allCards.size() - <span class="number">3</span>; i++) {</span><br><span class="line">      <span class="type">Card</span> <span class="variable">c</span> <span class="operator">=</span> allCards.get(i);</span><br><span class="line">      <span class="comment">// 判断牌发给谁</span></span><br><span class="line">      <span class="keyword">if</span>(i % <span class="number">3</span> == <span class="number">0</span>){</span><br><span class="line">          <span class="comment">// 请啊冲接牌</span></span><br><span class="line">          linHuChong.add(c);</span><br><span class="line">      }<span class="keyword">else</span> <span class="keyword">if</span>(i % <span class="number">3</span> == <span class="number">1</span>){</span><br><span class="line">          <span class="comment">// 请啊鸠来接牌</span></span><br><span class="line">          jiuMoZhi.add(c);</span><br><span class="line">      }<span class="keyword">else</span> <span class="keyword">if</span>(i % <span class="number">3</span> == <span class="number">2</span>){</span><br><span class="line">          <span class="comment">// 请盈盈接牌</span></span><br><span class="line">          renYingYing.add(c);</span><br><span class="line">      }</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3、对3个玩家的牌进行排序</span></span><br><span class="line">  sortCards(linHuChong);</span><br><span class="line">  sortCards(jiuMoZhi);</span><br><span class="line">  sortCards(renYingYing);</span><br><span class="line">  <span class="comment">// 4、看牌</span></span><br><span class="line">  System.out.println(<span class="string">"啊冲："</span> + linHuChong);</span><br><span class="line">  System.out.println(<span class="string">"啊鸠："</span> + jiuMoZhi);</span><br><span class="line">  System.out.println(<span class="string">"盈盈："</span> + renYingYing);</span><br><span class="line">  List&lt;Card&gt; lastThreeCards = allCards.subList(allCards.size() - <span class="number">3</span>, allCards.size()); <span class="comment">// 51 52 53</span></span><br><span class="line">  System.out.println(<span class="string">"底牌："</span> + lastThreeCards);</span><br><span class="line">  jiuMoZhi.addAll(lastThreeCards);</span><br><span class="line">  sortCards(jiuMoZhi);</span><br><span class="line">  System.out.println(<span class="string">"啊鸠抢到地主后："</span> + jiuMoZhi);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 集中进行排序</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> cards</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">sortCards</span><span class="params">(List&lt;Card&gt; cards)</span> {</span><br><span class="line">  Collections.sort(cards, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Card&gt;() {</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Card o1, Card o2)</span> {</span><br><span class="line">          <span class="comment">// return o1.getSize() - o2.getSize(); // 升序排序</span></span><br><span class="line">          <span class="keyword">return</span> o2.getSize() - o1.getSize(); <span class="comment">// 降序排序</span></span><br><span class="line">      }</span><br><span class="line">  });</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>不要忘记了写测试类了，</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GameDemo</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">//  1、牌类。</span></span><br><span class="line">        <span class="comment">//  2、房间</span></span><br><span class="line">        <span class="type">Room</span> <span class="variable">m</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Room</span>();</span><br><span class="line">        <span class="comment">//  3、启动游戏</span></span><br><span class="line">        m.start();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="三、Map集合"><a href="#三、Map集合" class="headerlink" title="三、Map集合"></a>三、Map集合</h2><h3 id="3-1-Map概述体系"><a href="#3-1-Map概述体系" class="headerlink" title="3.1 Map概述体系"></a>3.1 Map概述体系</h3><p>各位同学，前面我们已经把单列集合学习完了，接下来我们要学习的是双列集合。首先我们还是先认识一下什么是双列集合。</p>
<p>所谓双列集合，就是说集合中的元素是一对一对的。Map集合中的每一个元素是以<code>key=value</code>的形式存在的，一个<code>key=value</code>就称之为一个键值对，而且在Java中有一个类叫Entry类，Entry的对象用来表示键值对对象。</p>
<p>所有的Map集合有如下的特点：<strong>键不能重复，值可以重复，每一个键只能找到自己对应的值。</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057569523-1c28a505-b743-446f-8266-2c2be5f5b600.png#id=Hjdyz&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面我们先写一个Map集合，保存几个键值对，体验一下Map集合的特点</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;(); // 一行经典代码。 按照键 无序，不重复，无索引。</span></span><br><span class="line">        Map&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;(); <span class="comment">// 有序，不重复，无索引。</span></span><br><span class="line">        map.put(<span class="string">"手表"</span>, <span class="number">100</span>);</span><br><span class="line">        map.put(<span class="string">"手表"</span>, <span class="number">220</span>); <span class="comment">// 后面重复的数据会覆盖前面的数据（键）</span></span><br><span class="line">        map.put(<span class="string">"手机"</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="string">"Java"</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line"></span><br><span class="line">        Map&lt;Integer, String&gt; map1 = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(); <span class="comment">// 可排序，不重复，无索引</span></span><br><span class="line">        map1.put(<span class="number">23</span>, <span class="string">"Java"</span>);</span><br><span class="line">        map1.put(<span class="number">23</span>, <span class="string">"MySQL"</span>);</span><br><span class="line">        map1.put(<span class="number">19</span>, <span class="string">"李四"</span>);</span><br><span class="line">        map1.put(<span class="number">20</span>, <span class="string">"王五"</span>);</span><br><span class="line">        System.out.println(map1);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>Map集合也有很多种，在Java中使用不同的类来表示的，每一种Map集合其键的特点是有些差异的，值是键的一个附属值，所以我们只关注键的特点就可以了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057569618-c9d0a8bc-a954-4d48-9fe5-8ecb1c75b938.png#id=sYHtV&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>关于Map集合是什么，以及Map集合的体系我们先了解到这里，接下来就具体学习一下Map集合的通用方法。</p>
<h3 id="3-2-Map集合的常用方法"><a href="#3-2-Map集合的常用方法" class="headerlink" title="3.2 Map集合的常用方法"></a>3.2 Map集合的常用方法</h3><p>各位同学，上节课我们已经认识了Map集合，接下来我们学习一下Map集合提供了那些方法供我们使用。由于Map是所有双列集合的父接口，所以我们只需要学习Map接口中每一个方法是什么含义，那么所有的Map集合方法你就都会用了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057569733-88075a12-428f-4d37-81cb-f75625839d1a.png#id=E6Jvx&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1.添加元素: 无序，不重复，无索引。</span></span><br><span class="line">        Map&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"手表"</span>, <span class="number">100</span>);</span><br><span class="line">        map.put(<span class="string">"手表"</span>, <span class="number">220</span>);</span><br><span class="line">        map.put(<span class="string">"手机"</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="string">"Java"</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">// map = {null=null, 手表=220, Java=2, 手机=2}</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.public int size():获取集合的大小</span></span><br><span class="line">        System.out.println(map.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、public void clear():清空集合</span></span><br><span class="line">        <span class="comment">//map.clear();</span></span><br><span class="line">        <span class="comment">//System.out.println(map);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.public boolean isEmpty(): 判断集合是否为空，为空返回true ,反之！</span></span><br><span class="line">        System.out.println(map.isEmpty());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5.public V get(Object key)：根据键获取对应值</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">v1</span> <span class="operator">=</span> map.get(<span class="string">"手表"</span>);</span><br><span class="line">        System.out.println(v1);</span><br><span class="line">        System.out.println(map.get(<span class="string">"手机"</span>)); <span class="comment">// 2</span></span><br><span class="line">        System.out.println(map.get(<span class="string">"张三"</span>)); <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6. public V remove(Object key)：根据键删除整个元素(删除键会返回键的值)</span></span><br><span class="line">        System.out.println(map.remove(<span class="string">"手表"</span>));</span><br><span class="line">        System.out.println(map);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7.public  boolean containsKey(Object key): 判断是否包含某个键 ，包含返回true ,反之</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="string">"手表"</span>)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="string">"手机"</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="string">"java"</span>)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="string">"Java"</span>)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 8.public boolean containsValue(Object value): 判断是否包含某个值。</span></span><br><span class="line">        System.out.println(map.containsValue(<span class="number">2</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(map.containsValue(<span class="string">"2"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 9.public Set&lt;K&gt; keySet(): 获取Map集合的全部键。</span></span><br><span class="line">        Set&lt;String&gt; keys = map.keySet();</span><br><span class="line">        System.out.println(keys);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 10.public Collection&lt;V&gt; values(); 获取Map集合的全部值。</span></span><br><span class="line">        Collection&lt;Integer&gt; values = map.values();</span><br><span class="line">        System.out.println(values);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 11.把其他Map集合的数据倒入到自己集合中来。(拓展)</span></span><br><span class="line">        Map&lt;String, Integer&gt; map1 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map1.put(<span class="string">"java1"</span>,  <span class="number">10</span>);</span><br><span class="line">        map1.put(<span class="string">"java2"</span>,  <span class="number">20</span>);</span><br><span class="line">        Map&lt;String, Integer&gt; map2 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map2.put(<span class="string">"java3"</span>,  <span class="number">10</span>);</span><br><span class="line">        map2.put(<span class="string">"java2"</span>,  <span class="number">222</span>);</span><br><span class="line">        map1.putAll(map2); <span class="comment">// putAll：把map2集合中的元素全部倒入一份到map1集合中去。</span></span><br><span class="line">        System.out.println(map1);</span><br><span class="line">        System.out.println(map2);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-3-Map集合遍历方式1"><a href="#3-3-Map集合遍历方式1" class="headerlink" title="3.3 Map集合遍历方式1"></a>3.3 Map集合遍历方式1</h3><p>Map集合一共有三种遍历方式，我们先来学习第一种，他需要用到下面的两个方法</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057569858-65c3e9f1-9788-4083-8d8e-45dc6a0869e3.png#id=gzzcK&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  目标：掌握Map集合的遍历方式1：键找值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 准备一个Map集合。</span></span><br><span class="line">        Map&lt;String, Double&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"蜘蛛精"</span>, <span class="number">162.5</span>);</span><br><span class="line">        map.put(<span class="string">"蜘蛛精"</span>, <span class="number">169.8</span>);</span><br><span class="line">        map.put(<span class="string">"紫霞"</span>, <span class="number">165.8</span>);</span><br><span class="line">        map.put(<span class="string">"至尊宝"</span>, <span class="number">169.5</span>);</span><br><span class="line">        map.put(<span class="string">"牛魔王"</span>, <span class="number">183.6</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">// map = {蜘蛛精=169.8, 牛魔王=183.6, 至尊宝=169.5, 紫霞=165.8}</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1、获取Map集合的全部键</span></span><br><span class="line">        Set&lt;String&gt; keys = map.keySet();</span><br><span class="line">        <span class="comment">// System.out.println(keys);</span></span><br><span class="line">        <span class="comment">// [蜘蛛精, 牛魔王, 至尊宝, 紫霞]</span></span><br><span class="line">        <span class="comment">//         key</span></span><br><span class="line">        <span class="comment">// 2、遍历全部的键，根据键获取其对应的值</span></span><br><span class="line">        <span class="keyword">for</span> (String key : keys) {</span><br><span class="line">            <span class="comment">// 根据键获取对应的值</span></span><br><span class="line">            <span class="type">double</span> <span class="variable">value</span> <span class="operator">=</span> map.get(key);</span><br><span class="line">            System.out.println(key + <span class="string">"=====&gt;"</span> + value);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-4-Map集合遍历方式2"><a href="#3-4-Map集合遍历方式2" class="headerlink" title="3.4 Map集合遍历方式2"></a>3.4 Map集合遍历方式2</h3><p>各位同学，接下来我们学习Map集合的第二种遍历方式，这种遍历方式更加符合面向对象的思维。</p>
<p>前面我们给大家介绍过，Map集合是用来存储键值对的，而每一个键值对实际上是一个Entry对象。</p>
<p><strong>这里Map集合的第二种方式，是直接获取每一个Entry对象，把Entry存储扫Set集合中去，再通过Entry对象获取键和值。</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057569952-4cd5d613-3297-4149-bc62-b90b6cdf9cc4.png#id=vY5tv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握Map集合的第二种遍历方式：键值对。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        Map&lt;String, Double&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"蜘蛛精"</span>, <span class="number">169.8</span>);</span><br><span class="line">        map.put(<span class="string">"紫霞"</span>, <span class="number">165.8</span>);</span><br><span class="line">        map.put(<span class="string">"至尊宝"</span>, <span class="number">169.5</span>);</span><br><span class="line">        map.put(<span class="string">"牛魔王"</span>, <span class="number">183.6</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">// map = {蜘蛛精=169.8, 牛魔王=183.6, 至尊宝=169.5, 紫霞=165.8}</span></span><br><span class="line">        <span class="comment">// entries = [(蜘蛛精=169.8), (牛魔王=183.6), (至尊宝=169.5), (紫霞=165.8)]</span></span><br><span class="line">        <span class="comment">// entry = (蜘蛛精=169.8)</span></span><br><span class="line">        <span class="comment">// entry = (牛魔王=183.6)</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">		</span><br><span class="line">        <span class="comment">// 1、调用Map集合提供entrySet方法，把Map集合转换成键值对类型的Set集合</span></span><br><span class="line">        Set&lt;Map.Entry&lt;String, Double&gt;&gt; entries = map.entrySet();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Double&gt; entry : entries) {</span><br><span class="line">            <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line">            <span class="type">double</span> <span class="variable">value</span> <span class="operator">=</span> entry.getValue();</span><br><span class="line">            System.out.println(key + <span class="string">"----&gt;"</span> + value);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-5-Map集合遍历方式3"><a href="#3-5-Map集合遍历方式3" class="headerlink" title="3.5 Map集合遍历方式3"></a>3.5 Map集合遍历方式3</h3><p>Map集合的第三种遍历方式，需要用到下面的一个方法forEach，而这个方法是JDK8版本以后才有的。调用起来非常简单，最好是结合的lambda表达式一起使用。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057570061-1897c321-28a0-45ff-a8c6-d6273668e3af.png#id=ceqrf&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握Map集合的第二种遍历方式：键值对。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        Map&lt;String, Double&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"蜘蛛精"</span>, <span class="number">169.8</span>);</span><br><span class="line">        map.put(<span class="string">"紫霞"</span>, <span class="number">165.8</span>);</span><br><span class="line">        map.put(<span class="string">"至尊宝"</span>, <span class="number">169.5</span>);</span><br><span class="line">        map.put(<span class="string">"牛魔王"</span>, <span class="number">183.6</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">// map = {蜘蛛精=169.8, 牛魔王=183.6, 至尊宝=169.5, 紫霞=165.8}</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="comment">//遍历map集合，传递匿名内部类</span></span><br><span class="line">        map.forEach(<span class="keyword">new</span> <span class="title class_">BiConsumer</span>&lt;String, Double&gt;() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String k, Double v)</span> {</span><br><span class="line">                System.out.println(k + <span class="string">"----&gt;"</span> + v);</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">		<span class="comment">//遍历map集合，传递Lambda表达式</span></span><br><span class="line">        map.forEach(( k,  v) -&gt; {</span><br><span class="line">            System.out.println(k + <span class="string">"----&gt;"</span> + v);</span><br><span class="line">        });</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-6-Map集合案例"><a href="#3-6-Map集合案例" class="headerlink" title="3.6 Map集合案例"></a>3.6 Map集合案例</h3><p>学习完Map集合的基本用法之后，接下来我们做一个综合案例，将Map集合运用一下。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057570163-5d3e0fa6-ab25-4396-957e-c847ea834526.png#id=V4fzF&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>先分析需求，再考虑怎么用代码实现</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先可以将<span class="number">80</span>个学生选择的景点放到一个集合中去（也就是说，集合中的元素是<span class="number">80</span>个任意的ABCD元素）</span><br><span class="line"><span class="number">2.</span>准备一个Map集合用来存储景点，以及景点被选择的次数</span><br><span class="line"><span class="number">3.</span>遍历<span class="number">80</span>个学生选择景点的集合，得到每一个景点，判断Map集合中是否包含该景点</span><br><span class="line">	如果不包含，则存储<span class="string">"景点=1"</span></span><br><span class="line">    如果包含，则存获取该景点原先的值，再存储<span class="string">"景点=原来的值+1"</span>; 此时新值会覆盖旧值</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：完成Map集合的案例：统计投票人数。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapDemo4</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、把80个学生选择的景点数据拿到程序中来。</span></span><br><span class="line">        List&lt;String&gt; data = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        String[] selects = {<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"C"</span>, <span class="string">"D"</span>};</span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">80</span>; i++) {</span><br><span class="line">            <span class="comment">// 每次模拟一个学生选择一个景点，存入到集合中去。</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> r.nextInt(<span class="number">4</span>); <span class="comment">// 0 1 2 3</span></span><br><span class="line">            data.add(selects[index]);</span><br><span class="line">        }</span><br><span class="line">        System.out.println(data);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、开始统计每个景点的投票人数</span></span><br><span class="line">        <span class="comment">// 准备一个Map集合用于统计最终的结果</span></span><br><span class="line">        Map&lt;String, Integer&gt; result = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、开始遍历80个景点数据</span></span><br><span class="line">        <span class="keyword">for</span> (String s : data) {</span><br><span class="line">            <span class="comment">// 问问Map集合中是否存在该景点</span></span><br><span class="line">            <span class="keyword">if</span>(result.containsKey(s)){</span><br><span class="line">                <span class="comment">// 说明这个景点之前统计过。其值+1. 存入到Map集合中去</span></span><br><span class="line">                result.put(s, result.get(s) + <span class="number">1</span>);</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="comment">// 说明这个景点是第一次统计，存入"景点=1"</span></span><br><span class="line">                result.put(s, <span class="number">1</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day08-Map集合、Stream流、File类"><a href="#day08-Map集合、Stream流、File类" class="headerlink" title="day08-Map集合、Stream流、File类"></a>day08-Map集合、Stream流、File类</h1><h2 id="一、Map集合"><a href="#一、Map集合" class="headerlink" title="一、Map集合"></a>一、Map集合</h2><p>同学们，在前面几节课我们已经学习了Map集合的常用方法，以及遍历方式。</p>
<p>下面我们要学习的是Map接口下面的是三个实现类HashMap、LinkedHashMap、TreeMap。实际上这三个实现类并没有什么特有方法需要我们学习，它们的方法就是前面学习Map的方法。这里我们主要学习它们的底层原理。</p>
<h3 id="1-1-HashMap"><a href="#1-1-HashMap" class="headerlink" title="1.1 HashMap"></a>1.1 HashMap</h3><p>首先，我们学习HashMap集合的底层原理。前面我们学习过HashSet的底层原理，实际上HashMap底层原理和HashSet是一样的。为什么这么说呢？因为我们往HashSet集合中添加元素时，实际上是把元素作为添加添加到了HashMap集合中。</p>
<p>下面是Map集合的体系结构，HashMap集合的特点是由键决定的： <strong>它的键是无序、不能重复，而且没有索引的</strong>。再各种Map集合中也是用得最多的一种集合。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057570257-e514bef9-ac8a-4733-a41c-810ccb90ab2f.png#id=ygq33&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>刚才我们说，HashSet底层就是HashMap，我们可以看源码验证这一点，如下图所示，我们可以看到，创建HashSet集合时，底层帮你创建了HashMap集合；往HashSet集合中添加添加元素时，底层却是调用了Map集合的put方法把元素作为了键来存储。所以实际上根本没有什么HashSet集合，把HashMap的集合的值忽略不看就是HashSet集合。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057570354-7ae7260a-d9ae-44f7-bded-cf2b21a317dd.png#id=YFE2V&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>HashSet的原理我们之前已经学过了，所以HashMap是一样的，底层是哈希表结构。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057570468-09a2a437-a1a0-4bf9-8754-c200190628fd.png#id=IOHSV&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">HashMap底层数据结构: 哈希表结构</span><br><span class="line">	JDK8之前的哈希表 = 数组+链表</span><br><span class="line">	JDK8之后的哈希表 = 数组+链表+红黑树</span><br><span class="line">	哈希表是一种增删改查数据，性能相对都较好的数据结构</span><br><span class="line">	</span><br><span class="line">往HashMap集合中键值对数据时，底层步骤如下</span><br><span class="line">	第<span class="number">1</span>步：当你第一次往HashMap集合中存储键值对时，底层会创建一个长度为<span class="number">16</span>的数组</span><br><span class="line">	第<span class="number">2</span>步：把键然后将键和值封装成一个对象，叫做Entry对象</span><br><span class="line">	第<span class="number">3</span>步：再根据Entry对象的键计算hashCode值（和值无关）</span><br><span class="line">	第<span class="number">4</span>步：利用hashCode值和数组的长度做一个类似求余数的算法，会得到一个索引位置</span><br><span class="line">	第<span class="number">5</span>步：判断这个索引的位置是否为<span class="literal">null</span>，如果为<span class="literal">null</span>,就直接将这个Entry对象存储到这个索引位置</span><br><span class="line">		   如果不为<span class="literal">null</span>，则还需要进行第<span class="number">6</span>步的判断</span><br><span class="line">	第<span class="number">6</span>步：继续调用equals方法判断两个对象键是否相同</span><br><span class="line">		  如果equals返回<span class="literal">false</span>，则以链表的形式往下挂</span><br><span class="line">		  如果equals方法<span class="literal">true</span>,则认为键重复，此时新的键值对会替换就的键值对。</span><br><span class="line">	</span><br><span class="line">HashMap底层需要注意这几点：</span><br><span class="line">	<span class="number">1.</span>底层数组默认长度为<span class="number">16</span>，如果数组中有超过<span class="number">12</span>个位置已经存储了元素，则会对数组进行扩容<span class="number">2</span>倍</span><br><span class="line">	  数组扩容的加载因子是<span class="number">0.75</span>，意思是：<span class="number">16</span>*<span class="number">0.75</span>=<span class="number">12</span> 	</span><br><span class="line">   	</span><br><span class="line">    <span class="number">2.</span>数组的同一个索引位置有多个元素、并且在<span class="number">8</span>个元素以内(包括<span class="number">8</span>)，则以链表的形式存储</span><br><span class="line">    	JDK7版本：链表采用头插法（新元素往链表的头部添加）</span><br><span class="line">    	JDK8版本：链表采用尾插法（新元素我那个链表的尾部添加）</span><br><span class="line">    	</span><br><span class="line">    <span class="number">3.</span>数组的同一个索引位置有多个元素、并且超过了<span class="number">8</span>个，则以红黑树形式存储</span><br></pre></td></tr></tbody></table></figure>

<p>从HashMap底层存储键值对的过程中我们发现：决定键是否重复依赖与两个方法，一个是hashCode方法、一个是equals方法。有两个键计算得到的hashCode值相同，并且两个键使用equals比较为true，就认为键重复。</p>
<p><strong>所以，往Map集合中存储自定义对象作为键，为了保证键的唯一性，我们应该重写hashCode方法和equals方法。</strong></p>
<p>比如有如下案例：往HashMap集合中存储Student对象作为键，学生的家庭住址当做值。要求，当学生对象的姓名和年龄相同时就认为键重复。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt; {</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// this  o</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age - o.age; <span class="comment">// 年龄升序排序</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> {</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> (Student) o;</span><br><span class="line">        <span class="keyword">return</span> age == student.age &amp;&amp; Double.compare(student.height, height) == <span class="number">0</span> &amp;&amp; Objects.equals(name, student.name);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age, height);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">double</span> height)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.height = height;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">	<span class="comment">//...get,set方法自己补全....</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Student{"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">", height="</span> + height +</span><br><span class="line">                <span class="string">'}'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>写一个测试类，在测试类中，创建HashMap集合，键是Student类型，值是Stirng类型</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握Map集合下的实现类：HashMap集合的底层原理。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1HashMap</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        Map&lt;Student, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">25</span>, <span class="number">168.5</span>), <span class="string">"盘丝洞"</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">25</span>, <span class="number">168.5</span>), <span class="string">"水帘洞"</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"至尊宝"</span>, <span class="number">23</span>, <span class="number">163.5</span>), <span class="string">"水帘洞"</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"牛魔王"</span>, <span class="number">28</span>, <span class="number">183.5</span>), <span class="string">"牛头山"</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>上面存储的键，有两个蜘蛛精，但是打印出只会有最后一个。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057570561-67090c77-2faa-43f7-bd49-0e12f22a805d.png#id=iEvWK&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-2-LinkedHashMap"><a href="#1-2-LinkedHashMap" class="headerlink" title="1.2 LinkedHashMap"></a>1.2 LinkedHashMap</h3><p>学习完HashMap集合的特点，以及底层原理。接下来我们学习一下LinkedHashMap集合。</p>
<ul>
<li>LinkedHashMap集合的特点也是由键决定的：<strong>有序的、不重复、无索引</strong>。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057570665-c2c822b9-d172-4c91-b761-64e9e1fdfa4f.png#id=cmLT0&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握LinkedHashMap的底层原理。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2LinkedHashMap</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();    //  按照键 无序，不重复，无索引。</span></span><br><span class="line">        LinkedHashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;(); <span class="comment">//  按照键 有序，不重复，无索引。</span></span><br><span class="line">        map.put(<span class="string">"手表"</span>, <span class="number">100</span>);</span><br><span class="line">        map.put(<span class="string">"手表"</span>, <span class="number">220</span>);</span><br><span class="line">        map.put(<span class="string">"手机"</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="string">"Java"</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行上面代码发现，如果是LinedHashMap集合键存储和取出的顺序是一样的</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057570806-e9f1131d-6458-4e22-95ab-628c1b04ec10.png#id=tZFF1&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如果是HashMap，键存储和取出的顺序是不一致的</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057570906-9ec978f3-8732-4632-84b1-0a74716726d4.png#id=Ajl3h&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>LinkedHashMap的底层原理，和LinkedHashSet底层原理是一样的。底层多个一个双向链表来维护键的存储顺序。</li>
</ul>
<p> &nbsp; &nbsp; &nbsp;取元素时，先取头节点元素，然后再依次取下一个几点，一直到尾结点。所以是有序的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057571039-cf3565c0-5558-43e6-b84d-d6e290106bb3.png#id=QMnZD&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-3-TreeMap"><a href="#1-3-TreeMap" class="headerlink" title="1.3 TreeMap"></a>1.3 TreeMap</h3><p>最后，我们再学习Map集合下面的另一个子类叫TreeMap。根据我们前面学习其他Map集合的经验，我们应该可以猜出TreeMap有什么特点。</p>
<ul>
<li>TreeMap集合的特点也是由键决定的，默认按照键的升序排列，键不重复，也是无索引的。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057571193-b9cfc7f0-1af7-4a5f-aaed-f6cf9712edfc.png#id=nTtoh&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>TreeMap集合的底层原理和TreeSet也是一样的，底层都是红黑树实现的。所以可以对键进行排序。<br>比如往TreeMap集合中存储Student对象作为键，排序方法有两种。直接看代码吧</li>
</ul>
<p><strong>排序方式1：</strong>写一个Student类，让Student类实现Comparable接口</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一步：先让Student类，实现Comparable接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line">	<span class="comment">//无参数构造方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span>{}</span><br><span class="line">    <span class="comment">//全参数构造方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">double</span> height)</span>{</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">        <span class="built_in">this</span>.height=height;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//...get、set、toString()方法自己补上..</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//按照年龄进行比较，只需要在方法中让this.age和o.age相减就可以。</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    原理：</span></span><br><span class="line"><span class="comment">    在往TreeSet集合中添加元素时，add方法底层会调用compareTo方法，根据该方法的</span></span><br><span class="line"><span class="comment">    结果是正数、负数、还是零，决定元素放在后面、前面还是不存。</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span> {</span><br><span class="line">        <span class="comment">//this：表示将要添加进去的Student对象</span></span><br><span class="line">        <span class="comment">//o: 表示集合中已有的Student对象</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age-o.age;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>排序方式2：</strong>在创建TreeMap集合时，直接传递Comparator比较器对象。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握TreeMap集合的使用。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3TreeMap</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        Map&lt;Student, String&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> {</span><br><span class="line">                <span class="keyword">return</span> Double.compare(o1.getHeight(), o2.getHeight());</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"><span class="comment">//        Map&lt;Student, String&gt; map = new TreeMap&lt;&gt;(( o1,  o2) -&gt;   Double.compare(o2.getHeight(), o1.getHeight()));</span></span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">25</span>, <span class="number">168.5</span>), <span class="string">"盘丝洞"</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">25</span>, <span class="number">168.5</span>), <span class="string">"水帘洞"</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"至尊宝"</span>, <span class="number">23</span>, <span class="number">163.5</span>), <span class="string">"水帘洞"</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"牛魔王"</span>, <span class="number">28</span>, <span class="number">183.5</span>), <span class="string">"牛头山"</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>这种方式都可以对TreeMap集合中的键排序。<strong>注意：只有TreeMap的键才能排序，HashMap键不能排序。</strong></p>
<h3 id="1-4-集合嵌套"><a href="#1-4-集合嵌套" class="headerlink" title="1.4 集合嵌套"></a>1.4 集合嵌套</h3><p>各位同学，到现在为止我们把Map集合和Collection集合的都已经学习完了。但是在实际开发中可能还会存在一种特殊的用法。就是把一个集合当做元素，存储到另一个集合中去，我们把这种用法称之为集合嵌套。</p>
<p>下面通过一个案例给大家演示一下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057571383-8044c645-e97b-4b15-ba38-ff72ece50c55.png#id=g4UxH&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>案例分析</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>从需求中我们可以看到，有三个省份，每一个省份有多个城市</span><br><span class="line">	我们可以用一个Map集合的键表示省份名称，而值表示省份有哪些城市</span><br><span class="line"><span class="number">2.</span>而又因为一个身份有多个城市，同一个省份的多个城市可以再用一个List集合来存储。</span><br><span class="line">	所以Map集合的键是String类型，而指是List集合类型</span><br><span class="line">	HashMap&lt;String, List&lt;String&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>代码如下</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：理解集合的嵌套。</span></span><br><span class="line"><span class="comment"> * 江苏省 = "南京市","扬州市","苏州市“,"无锡市","常州市"</span></span><br><span class="line"><span class="comment"> * 湖北省 = "武汉市","孝感市","十堰市","宜昌市","鄂州市"</span></span><br><span class="line"><span class="comment"> * 河北省 = "石家庄市","唐山市", "邢台市", "保定市", "张家口市"</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、定义一个Map集合存储全部的省份信息，和其对应的城市信息。</span></span><br><span class="line">        Map&lt;String, List&lt;String&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; cities1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(cities1, <span class="string">"南京市"</span>,<span class="string">"扬州市"</span>,<span class="string">"苏州市"</span> ,<span class="string">"无锡市"</span>,<span class="string">"常州市"</span>);</span><br><span class="line">        map.put(<span class="string">"江苏省"</span>, cities1);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; cities2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(cities2, <span class="string">"武汉市"</span>,<span class="string">"孝感市"</span>,<span class="string">"十堰市"</span>,<span class="string">"宜昌市"</span>,<span class="string">"鄂州市"</span>);</span><br><span class="line">        map.put(<span class="string">"湖北省"</span>, cities2);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; cities3 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(cities3, <span class="string">"石家庄市"</span>,<span class="string">"唐山市"</span>, <span class="string">"邢台市"</span>, <span class="string">"保定市"</span>, <span class="string">"张家口市"</span>);</span><br><span class="line">        map.put(<span class="string">"河北省"</span>, cities3);</span><br><span class="line">        System.out.println(map);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; cities = map.get(<span class="string">"湖北省"</span>);</span><br><span class="line">        <span class="keyword">for</span> (String city : cities) {</span><br><span class="line">            System.out.println(city);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        map.forEach((p, c) -&gt; {</span><br><span class="line">            System.out.println(p + <span class="string">"-----&gt;"</span> + c);</span><br><span class="line">        });</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="二、JDK8新特性（Stream流）"><a href="#二、JDK8新特性（Stream流）" class="headerlink" title="二、JDK8新特性（Stream流）"></a>二、JDK8新特性（Stream流）</h2><p>各位同学，接下来我们学习一个全新的知识，叫做Stream流（也叫Stream API）。它是从JDK8以后才有的一个新特性，是专业用于对集合或者数组进行便捷操作的。有多方便呢？我们用一个案例体验一下，然后再详细学习。</p>
<h3 id="2-1-Stream流体验"><a href="#2-1-Stream流体验" class="headerlink" title="2.1 Stream流体验"></a>2.1 Stream流体验</h3><p>案例需求：有一个List集合，元素有<code>"张三丰","张无忌","周芷若","赵敏","张强"</code>，找出姓张，且是3个字的名字，存入到一个新集合中去。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; names = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">Collections.addAll(names, <span class="string">"张三丰"</span>,<span class="string">"张无忌"</span>,<span class="string">"周芷若"</span>,<span class="string">"赵敏"</span>,<span class="string">"张强"</span>);</span><br><span class="line">System.out.println(names);</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>用传统方式来做，代码是这样的</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 找出姓张，且是3个字的名字，存入到一个新集合中去。</span></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (String name : names) {</span><br><span class="line">    <span class="keyword">if</span>(name.startsWith(<span class="string">"张"</span>) &amp;&amp; name.length() == <span class="number">3</span>){</span><br><span class="line">        list.add(name);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">System.out.println(list);</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>用Stream流来做，代码是这样的（ps: 是不是想流水线一样，一句话就写完了）</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list2 = names.stream().filter(s -&gt; s.startsWith(<span class="string">"张"</span>)).filter(a -&gt; a.length()==<span class="number">3</span>).collect(Collectors.toList());</span><br><span class="line">System.out.println(list2);</span><br></pre></td></tr></tbody></table></figure>

<p>先不用知道这里面每一句话是什么意思，具体每一句话的含义，待会再一步步学习。现在只是体验一下。</p>
<p>学习Stream流我们接下来，会按照下面的步骤来学习。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057571559-7efea6ed-238b-4daa-9016-ead4938875e0.png#id=dOUOe&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-2-Stream流的创建"><a href="#2-2-Stream流的创建" class="headerlink" title="2.2 Stream流的创建"></a>2.2 Stream流的创建</h3><p>好，接下来我们正式来学习Stream流。先来学习如何创建Stream流、或者叫获取Stream流。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057571697-4873f390-e61c-4836-b6d5-7f6070f2f7e2.png#id=c6JIT&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">主要掌握下面四点：</span><br><span class="line">	<span class="number">1</span>、如何获取List集合的Stream流？</span><br><span class="line">	<span class="number">2</span>、如何获取Set集合的Stream流？</span><br><span class="line">	<span class="number">3</span>、如何获取Map集合的Stream流？</span><br><span class="line">	<span class="number">4</span>、如何获取数组的Stream流？</span><br></pre></td></tr></tbody></table></figure>

<p>直接上代码演示</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握Stream流的创建。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、如何获取List集合的Stream流？</span></span><br><span class="line">        List&lt;String&gt; names = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(names, <span class="string">"张三丰"</span>,<span class="string">"张无忌"</span>,<span class="string">"周芷若"</span>,<span class="string">"赵敏"</span>,<span class="string">"张强"</span>);</span><br><span class="line">        Stream&lt;String&gt; stream = names.stream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、如何获取Set集合的Stream流？</span></span><br><span class="line">        Set&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(set, <span class="string">"刘德华"</span>,<span class="string">"张曼玉"</span>,<span class="string">"蜘蛛精"</span>,<span class="string">"马德"</span>,<span class="string">"德玛西亚"</span>);</span><br><span class="line">        Stream&lt;String&gt; stream1 = set.stream();</span><br><span class="line">        stream1.filter(s -&gt; s.contains(<span class="string">"德"</span>)).forEach(s -&gt; System.out.println(s));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、如何获取Map集合的Stream流？</span></span><br><span class="line">        Map&lt;String, Double&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"古力娜扎"</span>, <span class="number">172.3</span>);</span><br><span class="line">        map.put(<span class="string">"迪丽热巴"</span>, <span class="number">168.3</span>);</span><br><span class="line">        map.put(<span class="string">"马尔扎哈"</span>, <span class="number">166.3</span>);</span><br><span class="line">        map.put(<span class="string">"卡尔扎巴"</span>, <span class="number">168.3</span>);</span><br><span class="line"></span><br><span class="line">        Set&lt;String&gt; keys = map.keySet();</span><br><span class="line">        Stream&lt;String&gt; ks = keys.stream();</span><br><span class="line"></span><br><span class="line">        Collection&lt;Double&gt; values = map.values();</span><br><span class="line">        Stream&lt;Double&gt; vs = values.stream();</span><br><span class="line"></span><br><span class="line">        Set&lt;Map.Entry&lt;String, Double&gt;&gt; entries = map.entrySet();</span><br><span class="line">        Stream&lt;Map.Entry&lt;String, Double&gt;&gt; kvs = entries.stream();</span><br><span class="line">        kvs.filter(e -&gt; e.getKey().contains(<span class="string">"巴"</span>))</span><br><span class="line">                .forEach(e -&gt; System.out.println(e.getKey()+ <span class="string">"--&gt;"</span> + e.getValue()));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、如何获取数组的Stream流？</span></span><br><span class="line">        String[] names2 = {<span class="string">"张翠山"</span>, <span class="string">"东方不败"</span>, <span class="string">"唐大山"</span>, <span class="string">"独孤求败"</span>};</span><br><span class="line">        Stream&lt;String&gt; s1 = Arrays.stream(names2);</span><br><span class="line">        Stream&lt;String&gt; s2 = Stream.of(names2);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-3-Stream流中间方法"><a href="#2-3-Stream流中间方法" class="headerlink" title="2.3 Stream流中间方法"></a>2.3 Stream流中间方法</h3><p>在上一节，我们学习了创建Stream流的方法。接下来我们再来学习，Stream流中间操作的方法。</p>
<p><strong>中间方法指的是：调用完方法之后其结果是一个新的Stream流，于是可以继续调用方法，这样一来就可以支持链式编程</strong>（或者叫流式编程）。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057571846-b3151005-d88c-4140-8002-b34ed1075729.png#id=O9so6&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057571987-edd7ff7d-2048-4bc6-8778-1e19e0da782b.png#id=H05Cc&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>话不多说，直接上代码演示</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握Stream流提供的常见中间方法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        List&lt;Double&gt; scores = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(scores, <span class="number">88.5</span>, <span class="number">100.0</span>, <span class="number">60.0</span>, <span class="number">99.0</span>, <span class="number">9.5</span>, <span class="number">99.6</span>, <span class="number">25.0</span>);</span><br><span class="line">        <span class="comment">// 需求1：找出成绩大于等于60分的数据，并升序后，再输出。</span></span><br><span class="line">        scores.stream().filter(s -&gt; s &gt;= <span class="number">60</span>).sorted().forEach(s -&gt; System.out.println(s));</span><br><span class="line"></span><br><span class="line">        List&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">26</span>, <span class="number">172.5</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">26</span>, <span class="number">172.5</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>, <span class="number">23</span>, <span class="number">167.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"白晶晶"</span>, <span class="number">25</span>, <span class="number">169.0</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"牛魔王"</span>, <span class="number">35</span>, <span class="number">183.3</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s6</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"牛夫人"</span>, <span class="number">34</span>, <span class="number">168.5</span>);</span><br><span class="line">        Collections.addAll(students, s1, s2, s3, s4, s5, s6);</span><br><span class="line">        <span class="comment">// 需求2：找出年龄大于等于23,且年龄小于等于30岁的学生，并按照年龄降序输出.</span></span><br><span class="line">        students.stream().filter(s -&gt; s.getAge() &gt;= <span class="number">23</span> &amp;&amp; s.getAge() &lt;= <span class="number">30</span>)</span><br><span class="line">                .sorted((o1, o2) -&gt; o2.getAge() - o1.getAge())</span><br><span class="line">                .forEach(s -&gt; System.out.println(s));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求3：取出身高最高的前3名学生，并输出。</span></span><br><span class="line">        students.stream().sorted((o1, o2) -&gt; Double.compare(o2.getHeight(), o1.getHeight()))</span><br><span class="line">                .limit(<span class="number">3</span>).forEach(System.out::println);</span><br><span class="line">        System.out.println(<span class="string">"-----------------------------------------------"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求4：取出身高倒数的2名学生，并输出。   s1 s2 s3 s4 s5 s6</span></span><br><span class="line">        students.stream().sorted((o1, o2) -&gt; Double.compare(o2.getHeight(), o1.getHeight()))</span><br><span class="line">                .skip(students.size() - <span class="number">2</span>).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求5：找出身高超过168的学生叫什么名字，要求去除重复的名字，再输出。</span></span><br><span class="line">        students.stream().filter(s -&gt; s.getHeight() &gt; <span class="number">168</span>).map(Student::getName)</span><br><span class="line">               .distinct().forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// distinct去重复，自定义类型的对象（希望内容一样就认为重复，重写hashCode,equals）</span></span><br><span class="line">        students.stream().filter(s -&gt; s.getHeight() &gt; <span class="number">168</span>)</span><br><span class="line">                .distinct().forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        Stream&lt;String&gt; st1 = Stream.of(<span class="string">"张三"</span>, <span class="string">"李四"</span>);</span><br><span class="line">        Stream&lt;String&gt; st2 = Stream.of(<span class="string">"张三2"</span>, <span class="string">"李四2"</span>, <span class="string">"王五"</span>);</span><br><span class="line">        Stream&lt;String&gt; allSt = Stream.concat(st1, st2);</span><br><span class="line">        allSt.forEach(System.out::println);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-5-Stream流终结方法"><a href="#2-5-Stream流终结方法" class="headerlink" title="2.5 Stream流终结方法"></a>2.5 Stream流终结方法</h3><p>最后，我们再学习Stream流的终结方法。这些方法的特点是，调用完方法之后，其结果就不再是Stream流了，所以不支持链式编程。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057572133-928c884c-497f-421a-8fd7-1dd16bdd3bfb.png#id=Q7EAS&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我列举了下面的几个终结方法，接下来用几个案例来一个一个给同学们演示。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057572251-368406c0-b960-40e6-877f-8cb61062c727.png#id=jkcvR&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>话不多说，直接上代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：Stream流的终结方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamTest4</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        List&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">26</span>, <span class="number">172.5</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"蜘蛛精"</span>, <span class="number">26</span>, <span class="number">172.5</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"紫霞"</span>, <span class="number">23</span>, <span class="number">167.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"白晶晶"</span>, <span class="number">25</span>, <span class="number">169.0</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"牛魔王"</span>, <span class="number">35</span>, <span class="number">183.3</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s6</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"牛夫人"</span>, <span class="number">34</span>, <span class="number">168.5</span>);</span><br><span class="line">        Collections.addAll(students, s1, s2, s3, s4, s5, s6);</span><br><span class="line">        <span class="comment">// 需求1：请计算出身高超过168的学生有几人。</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">size</span> <span class="operator">=</span> students.stream().filter(s -&gt; s.getHeight() &gt; <span class="number">168</span>).count();</span><br><span class="line">        System.out.println(size);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求2：请找出身高最高的学生对象，并输出。</span></span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> students.stream().max((o1, o2) -&gt; Double.compare(o1.getHeight(), o2.getHeight())).get();</span><br><span class="line">        System.out.println(s);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求3：请找出身高最矮的学生对象，并输出。</span></span><br><span class="line">        <span class="type">Student</span> <span class="variable">ss</span> <span class="operator">=</span> students.stream().min((o1, o2) -&gt; Double.compare(o1.getHeight(), o2.getHeight())).get();</span><br><span class="line">        System.out.println(ss);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求4：请找出身高超过170的学生对象，并放到一个新集合中去返回。</span></span><br><span class="line">        <span class="comment">// 流只能收集一次。</span></span><br><span class="line">        List&lt;Student&gt; students1 = students.stream().filter(a -&gt; a.getHeight() &gt; <span class="number">170</span>).collect(Collectors.toList());</span><br><span class="line">        System.out.println(students1);</span><br><span class="line"></span><br><span class="line">        Set&lt;Student&gt; students2 = students.stream().filter(a -&gt; a.getHeight() &gt; <span class="number">170</span>).collect(Collectors.toSet());</span><br><span class="line">        System.out.println(students2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 需求5：请找出身高超过170的学生对象，并把学生对象的名字和身高，存入到一个Map集合返回。</span></span><br><span class="line">        Map&lt;String, Double&gt; map =</span><br><span class="line">                students.stream().filter(a -&gt; a.getHeight() &gt; <span class="number">170</span>)</span><br><span class="line">                        .distinct().collect(Collectors.toMap(a -&gt; a.getName(), a -&gt; a.getHeight()));</span><br><span class="line">        System.out.println(map);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Object[] arr = students.stream().filter(a -&gt; a.getHeight() &gt; 170).toArray();</span></span><br><span class="line">        Student[] arr = students.stream().filter(a -&gt; a.getHeight() &gt; <span class="number">170</span>).toArray(len -&gt; <span class="keyword">new</span> <span class="title class_">Student</span>[len]);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>到这里，关于Stream流的操常见操作我们就已经学习完了。当然Stream流还有一些其他的方法，同学们遇到了也可以自己再研究一下。</p>
<h2 id="三、File类"><a href="#三、File类" class="headerlink" title="三、File类"></a>三、File类</h2><p>接下来，我们要学习的知识是一个File类。但是在讲这个知识点之前，我想先和同学们聊点别的，聊完之后再回过来学习File你会更容易理解一些。</p>
<ul>
<li>先问大家一个问题，目前你写代码时存储数据，可以用哪些方案?<br>答案如下图所示：可以是变量、可以是数组、可以是对象、可以是集合，但是这些数据都是存储在内存中的，只要程序执行结束，或者断点了，数据就消失了。不能永久存储。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057572379-47ceceb3-586b-4b80-8baf-b5aa2ff0ec33.png#id=Bppbi&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>有些数据要长久保存，该怎么办呢？<br>答案如下图所示：可以将数据以文件的形式存在硬盘里，即使程序结束了，断点了只要硬盘没坏，数据就永久存在。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057572630-abc6bbf3-9d4c-4d85-b1fc-7e72ad24d9c8.png#id=g49CK&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></li>
</ul>
<p><strong>而现在要学习的File类，它的就用来表示当前系统下的文件（也可以是文件夹）</strong>，通过File类提供的方法可以获取文件大小、判断文件是否存在、创建文件、创建文件夹等。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057572778-63384920-257f-4586-9c35-3625e4e6ebce.png#id=SWqaF&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>但是需要我们注意：</strong>File对象只能对文件进行操作，不能操作文件中的内容。</p>
<h3 id="3-1-File对象的创建"><a href="#3-1-File对象的创建" class="headerlink" title="3.1 File对象的创建"></a>3.1 File对象的创建</h3><p>学习File类和其他类一样，第一步是创建File类的对象。 想要创建对象，我们得看File类有哪些构造方法。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057572890-67475e34-622b-4749-b6b1-e5ad14190ab8.png#id=syJSO&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面我们演示一下，File类创建对象的代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">需求我们注意的是：路径中<span class="string">"\"要写成"</span>\\<span class="string">"， 路径中"</span>/<span class="string">"可以直接用</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握File创建对象，代表具体文件的方案。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、创建一个File对象，指代某个具体的文件。</span></span><br><span class="line">        <span class="comment">// 路径分隔符</span></span><br><span class="line">        <span class="comment">// File f1 = new File("D:/resource/ab.txt");</span></span><br><span class="line">        <span class="comment">// File f1 = new File("D:\\resource\\ab.txt");</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:"</span> + File.separator +<span class="string">"resource"</span> + File.separator + <span class="string">"ab.txt"</span>);</span><br><span class="line">        System.out.println(f1.length()); <span class="comment">// 文件大小</span></span><br><span class="line"></span><br><span class="line">        <span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:/resource"</span>);</span><br><span class="line">        System.out.println(f2.length());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 注意：File对象可以指代一个不存在的文件路径</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:/resource/aaaa.txt"</span>);</span><br><span class="line">        System.out.println(f3.length());</span><br><span class="line">        System.out.println(f3.exists()); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 我现在要定位的文件是在模块中，应该怎么定位呢？</span></span><br><span class="line">        <span class="comment">// 绝对路径：带盘符的</span></span><br><span class="line">        <span class="comment">// File f4 = new File("D:\\code\\javasepromax\\file-io-app\\src\\itheima.txt");</span></span><br><span class="line">        <span class="comment">// 相对路径（重点）：不带盘符，默认是直接去工程下寻找文件的。</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"file-io-app\\src\\itheima.txt"</span>);</span><br><span class="line">        System.out.println(f4.length());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-2-File判断和获取方法"><a href="#3-2-File判断和获取方法" class="headerlink" title="3.2 File判断和获取方法"></a>3.2 File判断和获取方法</h3><p>各位同学，刚才我们创建File对象的时候，会传递一个文件路径过来。但是File对象封装的路径是存在还是不存在，是文件还是文件夹其实是不清楚的。好在File类提供了方法可以帮我们做判断。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057572984-53abb151-24a1-4a9d-ab70-38954aefcf91.png#id=OYjDQ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>话不多少，直接上代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     目标：掌握File提供的判断文件类型、获取文件信息功能</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> UnsupportedEncodingException {</span><br><span class="line">        <span class="comment">// 1.创建文件对象，指代某个文件</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:/resource/ab.txt"</span>);</span><br><span class="line">        <span class="comment">//File f1 = new File("D:/resource/");</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、public boolean exists()：判断当前文件对象，对应的文件路径是否存在，存在返回true.</span></span><br><span class="line">        System.out.println(f1.exists());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、public boolean isFile() : 判断当前文件对象指代的是否是文件，是文件返回true，反之。</span></span><br><span class="line">        System.out.println(f1.isFile());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、public boolean isDirectory()  : 判断当前文件对象指代的是否是文件夹，是文件夹返回true，反之。</span></span><br><span class="line">        System.out.println(f1.isDirectory());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>除了判断功能还有一些获取功能，看代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:/resource/ab.txt"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.public String getName()：获取文件的名称（包含后缀）</span></span><br><span class="line">System.out.println(f1.getName());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 6.public long length()：获取文件的大小，返回字节个数</span></span><br><span class="line">System.out.println(f1.length());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 7.public long lastModified()：获取文件的最后修改时间。</span></span><br><span class="line"><span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> f1.lastModified();</span><br><span class="line"><span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">"yyyy/MM/dd HH:mm:ss"</span>);</span><br><span class="line">System.out.println(sdf.format(time));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 8.public String getPath()：获取创建文件对象时，使用的路径</span></span><br><span class="line"><span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:\\resource\\ab.txt"</span>);</span><br><span class="line"><span class="type">File</span> <span class="variable">f3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"file-io-app\\src\\itheima.txt"</span>);</span><br><span class="line">System.out.println(f2.getPath());</span><br><span class="line">System.out.println(f3.getPath());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 9.public String getAbsolutePath()：获取绝对路径</span></span><br><span class="line">System.out.println(f2.getAbsolutePath());</span><br><span class="line">System.out.println(f3.getAbsolutePath());</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-3-创建和删除方法"><a href="#3-3-创建和删除方法" class="headerlink" title="3.3 创建和删除方法"></a>3.3 创建和删除方法</h3><p>刚才有同学问老师，我们不能不用Java代码创建一个文件或者文件夹呀？答案是有的，不光可以创建还可以删除。</p>
<p>File类提供了创建和删除文件的方法，话不多少，看代码。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握File创建和删除文件相关的方法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、public boolean createNewFile()：创建一个新文件（文件内容为空），创建成功返回true,反之。</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:/resource/itheima2.txt"</span>);</span><br><span class="line">        System.out.println(f1.createNewFile());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、public boolean mkdir()：用于创建文件夹，注意：只能创建一级文件夹</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:/resource/aaa"</span>);</span><br><span class="line">        System.out.println(f2.mkdir());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、public boolean mkdirs()：用于创建文件夹，注意：可以创建多级文件夹</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:/resource/bbb/ccc/ddd/eee/fff/ggg"</span>);</span><br><span class="line">        System.out.println(f3.mkdirs());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、public boolean delete()：删除文件，或者空文件，注意：不能删除非空文件夹。</span></span><br><span class="line">        System.out.println(f1.delete());</span><br><span class="line">        System.out.println(f2.delete());</span><br><span class="line">        <span class="type">File</span> <span class="variable">f4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:/resource"</span>);</span><br><span class="line">        System.out.println(f4.delete());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>需要注意的是：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>mkdir(): 只能创建单级文件夹、</span><br><span class="line"><span class="number">2.</span>mkdirs(): 才能创建多级文件夹</span><br><span class="line"><span class="number">3.</span>delete(): 文件可以直接删除，但是文件夹只能删除空的文件夹，文件夹有内容删除不了。</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-4-遍历文件夹方法"><a href="#3-4-遍历文件夹方法" class="headerlink" title="3.4 遍历文件夹方法"></a>3.4 遍历文件夹方法</h3><p>有人说，想获取到一个文件夹中的内容，有没有方法呀？也是有的，下面我们就学习两个这样的方法。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057573125-eaf66793-04e9-400a-80d4-5772dfacc5aa.png#id=Ejr7O&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>话不多少上代码，演示一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握File提供的遍历文件夹的方法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileTest4</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、public String[] list()：获取当前目录下所有的"一级文件名称"到一个字符串数组中去返回。</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:\\course\\待研发内容"</span>);</span><br><span class="line">        String[] names = f1.list();</span><br><span class="line">        <span class="keyword">for</span> (String name : names) {</span><br><span class="line">            System.out.println(name);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、public File[] listFiles():（重点）获取当前目录下所有的"一级文件对象"到一个文件对象数组中去返回（重点）</span></span><br><span class="line">        File[] files = f1.listFiles();</span><br><span class="line">        <span class="keyword">for</span> (File file : files) {</span><br><span class="line">            System.out.println(file.getAbsolutePath());</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:/resource/aaa"</span>);</span><br><span class="line">        File[] files1 = f.listFiles();</span><br><span class="line">        System.out.println(Arrays.toString(files1));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>这里需要注意几个问题</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>当主调是文件时，或者路径不存在时，返回<span class="literal">null</span></span><br><span class="line"><span class="number">2.</span>当主调是空文件夹时，返回一个长度为<span class="number">0</span>的数组</span><br><span class="line"><span class="number">3.</span>当主调是一个有内容的文件夹时，将里面所有一级文件和文件夹路径放在File数组中，并把数组返回</span><br><span class="line"><span class="number">4.</span>当主调是一个文件夹，且里面有隐藏文件时，将里面所有文件和文件夹的路径放在FIle数组中，包含隐藏文件</span><br><span class="line"><span class="number">5.</span>当主调是一个文件夹，但是没有权限访问时，返回<span class="literal">null</span></span><br></pre></td></tr></tbody></table></figure>

<p>关于遍历文件夹的基本操作就学习完了。 但是有同学如果想要获取文件夹中子文件夹的内容，那目前还做不到。但是学习下面了下面的递归知识就，很容易做到了。</p>
<h2 id="四、递归"><a href="#四、递归" class="headerlink" title="四、递归"></a>四、递归</h2><p>各位同学，为了获取文件夹中子文件夹的内容，我们就需要学习递归这个知识点。但是递归是什么意思，我们需要单独讲一下。学习完递归是什么，以及递归的执行流程之后，我们再回过头来用递归来找文件夹中子文件夹的内容。</p>
<h3 id="4-1-递归算法引入"><a href="#4-1-递归算法引入" class="headerlink" title="4.1 递归算法引入"></a>4.1 递归算法引入</h3><ul>
<li>什么是递归？<br>递归是一种算法，从形式上来说，方法调用自己的形式称之为递归。 </li>
<li>递归的形式：有直接递归、间接递归，如下面的代码。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：认识一下递归的形式。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RecursionTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        test1();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 直接方法递归</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"----test1---"</span>);</span><br><span class="line">        test1(); <span class="comment">// 直接方法递归</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 间接方法递归</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"---test2---"</span>);</span><br><span class="line">        test3();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>{</span><br><span class="line">        test2(); <span class="comment">// 间接递归</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>如果直接执行上面的代码，会进入死循环，最终导致栈内存溢出</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057573207-aaaf82c2-122d-4545-acfa-783f19b8eea6.png#id=lD5qx&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>以上只是用代码演示了一下，递归的形式。在下一节，在通过一个案例来给同学们讲一讲递归的执行流程。</p>
<h3 id="4-2-递归算法的执行流程"><a href="#4-2-递归算法的执行流程" class="headerlink" title="4.2 递归算法的执行流程"></a>4.2 递归算法的执行流程</h3><p>为了弄清楚递归的执行流程，接下来我们通过一个案例来学习一下。</p>
<p>案例需求：计算n的阶乘，比如5的阶乘 = 1 _ 2 _ 3 _ 4 _ 5 ； 6 的阶乘 = &nbsp;1 _ 2 _ 3 _ 4 _ 5 * 6</p>
<p>分析需求用递归该怎么做</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">假设f(n)表示n的阶乘，那么我们可以推导出下面的式子</span><br><span class="line">	 f(<span class="number">5</span>) = <span class="number">1</span>+<span class="number">2</span>+<span class="number">3</span>+<span class="number">4</span>+<span class="number">5</span></span><br><span class="line">    f(<span class="number">5</span>) = f(<span class="number">4</span>)+<span class="number">5</span></span><br><span class="line">    f(<span class="number">4</span>) = f(<span class="number">3</span>)+<span class="number">4</span></span><br><span class="line">    f(<span class="number">3</span>) = f(<span class="number">2</span>)+<span class="number">3</span></span><br><span class="line">    f(<span class="number">2</span>) = f(<span class="number">1</span>)+<span class="number">2</span></span><br><span class="line">    f(<span class="number">1</span>) = <span class="number">1</span></span><br><span class="line">总结规律：</span><br><span class="line">	除了f(<span class="number">1</span>) = <span class="number">1</span>; 出口</span><br><span class="line">	其他的f(n) = f(n-<span class="number">1</span>)+n</span><br></pre></td></tr></tbody></table></figure>

<p>我们可以把f(n)当做一个方法，那么方法的写法如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握递归的应用，执行流程和算法思想。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RecursionTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        System.out.println(<span class="string">"5的阶乘是："</span> + f(<span class="number">5</span>));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//求n个数的阶乘</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> n)</span>{</span><br><span class="line">        <span class="comment">// 终结点</span></span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">return</span> f(n - <span class="number">1</span>) * n;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>这个代码的执行流程，我们用内存图的形式来分析一下，该案例中递归调用的特点是：<strong>一层一层调用，再一层一层往回返。</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057573294-19b9eb4e-29be-4943-9944-a2a77c4ff67c.png#id=uDH96&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-3-递归文件搜索"><a href="#4-3-递归文件搜索" class="headerlink" title="4.3 递归文件搜索"></a>4.3 递归文件搜索</h3><p>学习完递归算法执行流程后，最后我们回过头来。再来看一下，如果使用递归来遍历文件夹。</p>
<p>案例需求：在<code>D:\\</code>判断下搜索QQ.exe这个文件，然后直接输出。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>先调用文件夹的listFiles方法，获取文件夹的一级内容，得到一个数组</span><br><span class="line"><span class="number">2.</span>然后再遍历数组，获取数组中的File对象</span><br><span class="line"><span class="number">3.</span>因为File对象可能是文件也可能是文件夹，所以接下来就需要判断</span><br><span class="line">	判断File对象如果是文件，就获取文件名，如果文件名是`QQ.exe`则打印，否则不打印</span><br><span class="line">	判断File对象如果是文件夹，就递归执行<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>步骤</span><br><span class="line">所以：把<span class="number">1</span>，<span class="number">2</span>,<span class="number">3</span>步骤写成方法，递归调用即可。</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握文件搜索的实现。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RecursionTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">          searchFile(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:/"</span>) , <span class="string">"QQ.exe"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 去目录下搜索某个文件</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dir  目录</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName 要搜索的文件名称</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">searchFile</span><span class="params">(File dir, String fileName)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、把非法的情况都拦截住</span></span><br><span class="line">        <span class="keyword">if</span>(dir == <span class="literal">null</span> || !dir.exists() || dir.isFile()){</span><br><span class="line">            <span class="keyword">return</span>; <span class="comment">// 代表无法搜索</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、dir不是null,存在，一定是目录对象。</span></span><br><span class="line">        <span class="comment">// 获取当前目录下的全部一级文件对象。</span></span><br><span class="line">        File[] files = dir.listFiles();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、判断当前目录下是否存在一级文件对象，以及是否可以拿到一级文件对象。</span></span><br><span class="line">        <span class="keyword">if</span>(files != <span class="literal">null</span> &amp;&amp; files.length &gt; <span class="number">0</span>){</span><br><span class="line">            <span class="comment">// 4、遍历全部一级文件对象。</span></span><br><span class="line">            <span class="keyword">for</span> (File f : files) {</span><br><span class="line">                <span class="comment">// 5、判断文件是否是文件,还是文件夹</span></span><br><span class="line">                <span class="keyword">if</span>(f.isFile()){</span><br><span class="line">                    <span class="comment">// 是文件，判断这个文件名是否是我们要找的</span></span><br><span class="line">                    <span class="keyword">if</span>(f.getName().contains(fileName)){</span><br><span class="line">                        System.out.println(<span class="string">"找到了："</span> + f.getAbsolutePath());</span><br><span class="line">                        <span class="type">Runtime</span> <span class="variable">runtime</span> <span class="operator">=</span> Runtime.getRuntime();</span><br><span class="line">                        runtime.exec(f.getAbsolutePath());</span><br><span class="line">                    }</span><br><span class="line">                }<span class="keyword">else</span> {</span><br><span class="line">                    <span class="comment">// 是文件夹，继续重复这个过程（递归）</span></span><br><span class="line">                    searchFile(f, fileName);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day09-字符集、IO流（一）"><a href="#day09-字符集、IO流（一）" class="headerlink" title="day09-字符集、IO流（一）"></a>day09-字符集、IO流（一）</h1><p>各位同学，前面我们已经学习了File类，通过File类的对象可以对文件进行操作，但是不能操作文件中的内容。要想操作文件中的内容，我们还得学习IO流。但是在正式学习IO流之前，我们还需要学习一个前置知识叫做字符集，只有我们把字符集搞明白了，再学习IO流才会更加丝滑。</p>
<h2 id="一、字符集"><a href="#一、字符集" class="headerlink" title="一、字符集"></a>一、字符集</h2><h3 id="1-1-字符集的来历"><a href="#1-1-字符集的来历" class="headerlink" title="1.1 字符集的来历"></a>1.1 字符集的来历</h3><p>所以，接下来我们正式学习一下字符集。先来带着同学们，了解一下字符集的来历。</p>
<p>我们知道计算机是美国人发明的，由于计算机能够处理的数据只能是0和1组成的二进制数据，为了让计算机能够处理字符，于是美国人就把他们会用到的每一个字符进行了编码（<strong>所谓编码，就是为一个字符编一个二进制数据</strong>），如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057573434-3ea1ee63-fae9-4fd1-b66d-b97b3d800f7b.png#id=Wvxzn&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>美国人常用的字符有英文字母、标点符号、数字以及一些特殊字符，这些字符一共也不到128个，所以他们用1个字节来存储1字符就够了。 美国人把他们用到的字符和字符对应的编码总结成了一张码表，这张码表叫做ASCII码表（也叫ASCII字符集）。</p>
<p>其实计算机只在美国用是没有问题的，但是计算机慢慢的普及到全世界，当普及到中国的时候，在计算机中想要存储中文，那ASCII字符集就不够用了，因为中文太多了，随便数一数也有几万个字符。</p>
<p>于是中国人为了在计算机中存储中文，也编了一个中国人用的字符集叫做GBK字符集，这里面包含2万多个汉字字符，<strong>GBK中一个汉字采用两个字节来存储</strong>，为了能够显示英文字母，GBK字符集也兼容了ASCII字符集，<strong>在GBK字符集中一个字母还是采用一个字节来存储</strong>。</p>
<h3 id="1-2-汉字和字母的编码特点"><a href="#1-2-汉字和字母的编码特点" class="headerlink" title="1.2 汉字和字母的编码特点"></a>1.2 汉字和字母的编码特点</h3><p>讲到这里，可能有同学有这么一个疑问： 如果一个文件中既有中文，也有英文，那计算机怎么知道哪几个字节表示一个汉字，哪几个字节表示一个字母呢？</p>
<p>其实这个问题问当想当有水平，接下来，就带着同学们了解一下，计算机是怎么识别中文和英文的。</p>
<p>比如：在文件中存储一个<code>我a你</code>，底层其实存储的是这样的二进制数据。</p>
<p><strong>需要我们注意汉字和字母的编码特点：</strong></p>
<ul>
<li><ol>
<li>如果是存储字母，采用1个字节来存储，一共8位，其中第1位是0</li>
<li>如果是存储汉字，采用2个字节来存储，一共16位，其中第1位是1</li>
</ol>
</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057573546-13f4da8f-16b1-44ef-ad62-e2687dfb137b.png#id=cVvnn&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>当读取文件中的字符时，通过识别读取到的第1位是0还是1来判断是字母还是汉字</strong></p>
<ul>
<li>如果读取到第1位是0，就认为是一个字母，此时往后读1个字节。</li>
<li>如果读取到第1位是1，就认为是一个汉字，此时往后读2个字节。</li>
</ul>
<h3 id="1-3-Unicode字符集"><a href="#1-3-Unicode字符集" class="headerlink" title="1.3 Unicode字符集"></a>1.3 Unicode字符集</h3><p>同学们注意了，咱们国家可以用GBK字符集来表示中国人使用的文字，那世界上还有很多其他的国家，他们也有自己的文字，他们也想要自己国家的文字在计算机中处理，于是其他国家也在搞自己的字符集，就这样全世界搞了上百个字符集，而且各个国家的字符集互不兼容。 这样其实很不利于国际化的交流，可能一个文件在我们国家的电脑上打开好好的，但是在其他国家打开就是乱码了。</p>
<p>为了解决各个国家字符集互不兼容的问题，由国际化标准组织牵头，设计了一套全世界通用的字符集，叫做Unicode字符集。在Unicode字符集中包含了世界上所有国家的文字，一个字符采用4个自己才存储。</p>
<p>在Unicode字符集中，采用一个字符4个字节的编码方案，又造成另一个问题：如果是说英语的国家，他们只需要用到26大小写字母，加上一些标点符号就够了，本身一个字节就可以表示完，用4个字节就有点浪费。</p>
<p>于是又对Unicode字符集中的字符进行了重新编码，一共设计了三种编码方案。分别是UTF-32、UTF-16、UTF-8; &nbsp;<strong>其中比较常用的编码方案是UTF-8</strong></p>
<p>下面我们详细介绍一下UTF-8这种编码方案的特点。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>UTF-<span class="number">8</span>是一种可变长的编码方案，工分为<span class="number">4</span>个长度区</span><br><span class="line"><span class="number">2.</span>英文字母、数字占<span class="number">1</span>个字节兼容(ASCII编码)</span><br><span class="line"><span class="number">3.</span>汉字字符占<span class="number">3</span>个字节</span><br><span class="line"><span class="number">4.</span>极少数字符占<span class="number">4</span>个字节</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-4-字符集小结"><a href="#1-4-字符集小结" class="headerlink" title="1.4 字符集小结"></a>1.4 字符集小结</h3><p>最后，我们将前面介绍过的字符集小结一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ASCII字符集：《美国信息交换标准代码》，包含英文字母、数字、标点符号、控制字符</span><br><span class="line">	特点：<span class="number">1</span>个字符占<span class="number">1</span>个字节</span><br><span class="line"></span><br><span class="line">GBK字符集：中国人自己的字符集，兼容ASCII字符集，还包含<span class="number">2</span>万多个汉字</span><br><span class="line">	特点：<span class="number">1</span>个字母占用<span class="number">1</span>个字节；<span class="number">1</span>个汉字占用<span class="number">2</span>个字节</span><br><span class="line"></span><br><span class="line">Unicode字符集：包含世界上所有国家的文字，有三种编码方案，最常用的是UTF-<span class="number">8</span></span><br><span class="line">    UTF-<span class="number">8</span>编码方案：英文字母、数字占<span class="number">1</span>个字节兼容(ASCII编码)、汉字字符占<span class="number">3</span>个字节</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-5-编码和解码"><a href="#1-5-编码和解码" class="headerlink" title="1.5 编码和解码"></a>1.5 编码和解码</h3><p>搞清楚字符集的知识之后，我们接下来再带着同学们使用Java代码完成编码和解码的操作。</p>
<p>其实String类类中就提供了相应的方法，可以完成编码和解码的操作。</p>
<ul>
<li>编码：把字符串按照指定的字符集转换为字节数组</li>
<li>解码：把字节数组按照指定的字符集转换为字符串</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握如何使用Java代码完成对字符的编码和解码。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、编码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> <span class="string">"a我b"</span>;</span><br><span class="line">        <span class="type">byte</span>[] bytes = data.getBytes(); <span class="comment">// 默认是按照平台字符集（UTF-8）进行编码的。</span></span><br><span class="line">        System.out.println(Arrays.toString(bytes));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 按照指定字符集进行编码。</span></span><br><span class="line">        <span class="type">byte</span>[] bytes1 = data.getBytes(<span class="string">"GBK"</span>);</span><br><span class="line">        System.out.println(Arrays.toString(bytes1));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、解码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes); <span class="comment">// 按照平台默认编码（UTF-8）解码</span></span><br><span class="line">        System.out.println(s1);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes1, <span class="string">"GBK"</span>);</span><br><span class="line">        System.out.println(s2);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="二、IO流（字节流）"><a href="#二、IO流（字节流）" class="headerlink" title="二、IO流（字节流）"></a>二、IO流（字节流）</h2><h3 id="2-1-IO流概述"><a href="#2-1-IO流概述" class="headerlink" title="2.1 IO流概述"></a>2.1 IO流概述</h3><p>各位小伙伴，在前面我们已经学习过File类。但是我们知道File只能操作文件，但是不能操作文件中的内容。我们也学习了字符集，不同的字符集存字符数据的原理是不一样的。有了前面两个知识的基础，接下来我们再学习IO流，就可以对文件中的数据进行操作了。</p>
<p>IO流的作用：就是可以对文件或者网络中的数据进行读、写的操作。如下图所示</p>
<ul>
<li>把数据从磁盘、网络中读取到程序中来，用到的是输入流。</li>
<li>把程序中的数据写入磁盘、网络中，用到的是输出流。</li>
<li><strong>简单记：输入流（读数据）、输出流（写数据）</strong></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057573640-8bdb90ac-b9aa-4959-9e68-b629c471a190.png#id=rtCd9&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>IO流在Java中有很多种，不同的流来干不同的事情。Java把各种流用不同的类来表示，这些流的继承体系如下图所示：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IO流分为两大派系：</span><br><span class="line">	<span class="number">1.</span>字节流：字节流又分为字节输入流、字节输出流</span><br><span class="line">	<span class="number">2.</span>字符流：字符流由分为字符输入流、字符输出流</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057573756-fcfaa29d-2233-4166-a782-144c26010f0c.png#id=G2yVb&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-2-FileInputStream读取一个字节"><a href="#2-2-FileInputStream读取一个字节" class="headerlink" title="2.2 FileInputStream读取一个字节"></a>2.2 FileInputStream读取一个字节</h3><p>同学们，在上节课认识了什么是IO流，接下来我们学习字节流中的字节输入流，用InputStream来表示。但是InputStream是抽象类，我们用的是它的子类，叫FileInputStream。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057573872-2a72f683-aa76-46a8-924d-1ed57cc66e53.png#id=lx6kg&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>需要用到的方法如下图所示：有构造方法、成员方法</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057573978-040c889b-d3e6-4c63-9f25-c7438530b9ff.png#id=ByhDr&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>使用FileInputStream读取文件中的字节数据，步骤如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">第一步：创建FileInputStream文件字节输入流管道，与源文件接通。</span><br><span class="line">第二步：调用read()方法开始读取文件的字节数据。</span><br><span class="line">第三步：调用close()方法释放资源</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握文件字节输入流，每次读取一个字节。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileInputStreamTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、创建文件字节输入流管道，与源文件接通。</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>((<span class="string">"file-io-app\\src\\itheima01.txt"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、开始读取文件的字节数据。</span></span><br><span class="line">        <span class="comment">// public int read():每次读取一个字节返回，如果没有数据了，返回-1.</span></span><br><span class="line">        <span class="type">int</span> b; <span class="comment">// 用于记住读取的字节。</span></span><br><span class="line">        <span class="keyword">while</span> ((b = is.read()) != -<span class="number">1</span>){</span><br><span class="line">            System.out.print((<span class="type">char</span>) b);</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3、流使用完毕之后，必须关闭！释放系统资源！</span></span><br><span class="line">        is.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>这里需要注意一个问题：由于一个中文在UTF-8编码方案中是占3个字节，采用一次读取一个字节的方式，读一个字节就相当于读了1/3个汉字，此时将这个字节转换为字符，是会有乱码的。</p>
<h3 id="2-3-FileInputStream读取多个字节"><a href="#2-3-FileInputStream读取多个字节" class="headerlink" title="2.3 FileInputStream读取多个字节"></a>2.3 FileInputStream读取多个字节</h3><p>各位同学，在上一节我们学习了FileInputStream调用read()方法，可以一次读取一个字节。但是这种读取方式效率太太太太慢了。 为了提高效率，我们可以使用另一个read(byte[] bytes)的重载方法，可以一次读取多个字节，至于一次读多少个字节，就在于你传递的数组有多大。</p>
<p>使用FileInputStream一次读取多个字节的步骤如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">第一步：创建FileInputStream文件字节输入流管道，与源文件接通。</span><br><span class="line">第二步：调用read(<span class="type">byte</span>[] bytes)方法开始读取文件的字节数据。</span><br><span class="line">第三步：调用close()方法释放资源</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握使用FileInputStream每次读取多个字节。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileInputStreamTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、创建一个字节输入流对象代表字节输入流管道与源文件接通。</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">"file-io-app\\src\\itheima02.txt"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、开始读取文件中的字节数据：每次读取多个字节。</span></span><br><span class="line">        <span class="comment">//  public int read(byte b[]) throws IOException</span></span><br><span class="line">        <span class="comment">//  每次读取多个字节到字节数组中去，返回读取的字节数量，读取完毕会返回-1.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、使用循环改造。</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">3</span>];</span><br><span class="line">        <span class="type">int</span> len; <span class="comment">// 记住每次读取了多少个字节。  abc 66</span></span><br><span class="line">        <span class="keyword">while</span> ((len = is.read(buffer)) != -<span class="number">1</span>){</span><br><span class="line">            <span class="comment">// 注意：读取多少，倒出多少。</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(buffer, <span class="number">0</span> , len);</span><br><span class="line">            System.out.print(rs);</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 性能得到了明显的提升！！</span></span><br><span class="line">        <span class="comment">// 这种方案也不能避免读取汉字输出乱码的问题！！</span></span><br><span class="line"></span><br><span class="line">        is.close(); <span class="comment">// 关闭流</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>需要我们注意的是：<strong>read(byte[] bytes)它的返回值，表示当前这一次读取的字节个数。</strong></li>
</ul>
<p>假设有一个a.txt文件如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abcde</span><br></pre></td></tr></tbody></table></figure>

<p>每次读取过程如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">也就是说，并不是每次读取的时候都把数组装满，比如数组是 <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">3</span>];</span><br><span class="line">第一次调用read(bytes)读取了<span class="number">3</span>个字节(分别是<span class="number">97</span>,<span class="number">98</span>,<span class="number">99</span>)，并且往数组中存，此时返回值就是<span class="number">3</span></span><br><span class="line">第二次调用read(bytes)读取了<span class="number">2</span>个字节(分别是<span class="number">99</span>,<span class="number">100</span>),并且往数组中存，此时返回值是<span class="number">2</span></span><br><span class="line">第三次调用read(bytes)文件中后面已经没有数据了，此时返回值为-<span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>还需要注意一个问题：采用一次读取多个字节的方式，也是可能有乱码的。因为也有可能读取到半个汉字的情况。</li>
</ul>
<h3 id="2-4-FileInputStream读取全部字节"><a href="#2-4-FileInputStream读取全部字节" class="headerlink" title="2.4 FileInputStream读取全部字节"></a>2.4 FileInputStream读取全部字节</h3><p>同学们，前面我们到的读取方式，不管是一次读取一个字节，还是一次读取多个字节，都有可能有乱码。那么接下来我们介绍一种，不出现乱码的读取方式。</p>
<p>我们可以一次性读取文件中的全部字节，然后把全部字节转换为一个字符串，就不会有乱码了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057574074-9b20e754-bdba-4997-985e-176fc963ed17.png#id=LrGnm&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、一次性读取完文件的全部字节到一个字节数组中去。</span></span><br><span class="line"><span class="comment">// 创建一个字节输入流管道与源文件接通</span></span><br><span class="line"><span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">"file-io-app\\src\\itheima03.txt"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、准备一个字节数组，大小与文件的大小正好一样大。</span></span><br><span class="line"><span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"file-io-app\\src\\itheima03.txt"</span>);</span><br><span class="line"><span class="type">long</span> <span class="variable">size</span> <span class="operator">=</span> f.length();</span><br><span class="line"><span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[(<span class="type">int</span>) size];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> is.read(buffer);</span><br><span class="line">System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(buffer));</span><br><span class="line"></span><br><span class="line"><span class="comment">//3、关闭流</span></span><br><span class="line">is.close();</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057574191-36c1e7e5-0cbd-419d-81f8-5d0b5d26142a.png#id=aVDXj&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、一次性读取完文件的全部字节到一个字节数组中去。</span></span><br><span class="line"><span class="comment">// 创建一个字节输入流管道与源文件接通</span></span><br><span class="line"><span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">"file-io-app\\src\\itheima03.txt"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2、调用方法读取所有字节，返回一个存储所有字节的字节数组。</span></span><br><span class="line"><span class="type">byte</span>[] buffer = is.readAllBytes();</span><br><span class="line">System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(buffer));</span><br><span class="line"></span><br><span class="line"><span class="comment">//3、关闭流</span></span><br><span class="line">is.close();</span><br></pre></td></tr></tbody></table></figure>

<p>最后，还是要注意一个问题：<strong>一次读取所有字节虽然可以解决乱码问题，但是文件不能过大，如果文件过大，可能导致内存溢出。</strong></p>
<h3 id="2-5-FileOutputStream写字节"><a href="#2-5-FileOutputStream写字节" class="headerlink" title="2.5 FileOutputStream写字节"></a>2.5 FileOutputStream写字节</h3><p>各位同学，前面我们学习了使用FIleInputStream读取文件中的字节数据。然后有同学就迫不及待的想学习往文件中写入数据了。</p>
<p>往文件中写数据需要用到OutputStream下面的一个子类FileOutputStream。写输入的流程如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057574313-9b82e975-7d74-4ba3-a262-3d6868a7b596.png#id=skrWn&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>使用FileOutputStream往文件中写数据的步骤如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">第一步：创建FileOutputStream文件字节输出流管道，与目标文件接通。</span><br><span class="line">第二步：调用wirte()方法往文件中写数据</span><br><span class="line">第三步：调用close()方法释放资源</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握文件字节输出流FileOutputStream的使用。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileOutputStreamTest4</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、创建一个字节输出流管道与目标文件接通。</span></span><br><span class="line">        <span class="comment">// 覆盖管道：覆盖之前的数据</span></span><br><span class="line"><span class="comment">//        OutputStream os =</span></span><br><span class="line"><span class="comment">//                new FileOutputStream("file-io-app/src/itheima04out.txt");</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 追加数据的管道</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">"file-io-app/src/itheima04out.txt"</span>, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、开始写字节数据出去了</span></span><br><span class="line">        os.write(<span class="number">97</span>); <span class="comment">// 97就是一个字节，代表a</span></span><br><span class="line">        os.write(<span class="string">'b'</span>); <span class="comment">// 'b'也是一个字节</span></span><br><span class="line">        <span class="comment">// os.write('磊'); // [ooo] 默认只能写出去一个字节</span></span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="string">"我爱你中国abc"</span>.getBytes();</span><br><span class="line">        os.write(bytes);</span><br><span class="line"></span><br><span class="line">        os.write(bytes, <span class="number">0</span>, <span class="number">15</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 换行符</span></span><br><span class="line">        os.write(<span class="string">"\r\n"</span>.getBytes());</span><br><span class="line"></span><br><span class="line">        os.close(); <span class="comment">// 关闭流</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-6-字节流复制文件"><a href="#2-6-字节流复制文件" class="headerlink" title="2.6 字节流复制文件"></a>2.6 字节流复制文件</h3><p>同学们，我们在前面已经把字节输入流和字节输出流都学习完了。现在我们就可以用这两种流配合起来使用，做一个文件复制的综合案例。</p>
<p>比如：我们要复制一张图片，从磁盘<code>D:/resource/meinv.png</code>的一个位置，复制到<code>C:/data/meinv.png</code>位置。</p>
<p>复制文件的思路如下图所示：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>需要创建一个FileInputStream流与源文件接通，创建FileOutputStream与目标文件接通</span><br><span class="line"><span class="number">2.</span>然后创建一个数组，使用FileInputStream每次读取一个字节数组的数据，存如数组中</span><br><span class="line"><span class="number">3.</span>然后再使用FileOutputStream把字节数组中的有效元素，写入到目标文件中</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057574405-be6ca0cf-1ce1-43fa-9aeb-b25912d92151.png#id=iTxdl&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：使用字节流完成对文件的复制操作。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CopyTest5</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 需求：复制照片。</span></span><br><span class="line">        <span class="comment">// 1、创建一个字节输入流管道与源文件接通</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">"D:/resource/meinv.png"</span>);</span><br><span class="line">        <span class="comment">// 2、创建一个字节输出流管道与目标文件接通。</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">"C:/data/meinv.png"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="number">10</span> / <span class="number">0</span>);</span><br><span class="line">        <span class="comment">// 3、创建一个字节数组，负责转移字节数据。</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>]; <span class="comment">// 1KB.</span></span><br><span class="line">        <span class="comment">// 4、从字节输入流中读取字节数据，写出去到字节输出流中。读多少写出去多少。</span></span><br><span class="line">        <span class="type">int</span> len; <span class="comment">// 记住每次读取了多少个字节。</span></span><br><span class="line">        <span class="keyword">while</span> ((len = is.read(buffer)) != -<span class="number">1</span>){</span><br><span class="line">            os.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        os.close();</span><br><span class="line">        is.close();</span><br><span class="line">        System.out.println(<span class="string">"复制完成！！"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="三、IO流资源释放"><a href="#三、IO流资源释放" class="headerlink" title="三、IO流资源释放"></a>三、IO流资源释放</h2><p>各位同学，前面我们已经学习了字节流，也给同学们强调过，流使用完之后一定要释放资源。但是我们之前的代码并不是很专业。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057574504-54bd0171-0bf3-4d11-a859-b7a40d175ecc.png#id=nbeRm&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们现在知道这个问题了，那这个问题怎么解决呢？ 在JDK7以前，和JDK7以后分别给出了不同的处理方案。</p>
<h3 id="3-1-JDK7以前的资源释放"><a href="#3-1-JDK7以前的资源释放" class="headerlink" title="3.1 JDK7以前的资源释放"></a>3.1 JDK7以前的资源释放</h3><p>在JDK7版本以前，我们可以使用try…catch…finally语句来处理。格式如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>{</span><br><span class="line">    <span class="comment">//有可能产生异常的代码</span></span><br><span class="line">}<span class="keyword">catch</span>(异常类 e){</span><br><span class="line">    <span class="comment">//处理异常的代码</span></span><br><span class="line">}<span class="keyword">finally</span>{</span><br><span class="line">    <span class="comment">//释放资源的代码</span></span><br><span class="line">    <span class="comment">//finally里面的代码有一个特点，不管异常是否发生，finally里面的代码都会执行。</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>改造上面的低吗：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  {</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            System.out.println(<span class="number">10</span> / <span class="number">0</span>);</span><br><span class="line">            <span class="comment">// 1、创建一个字节输入流管道与源文件接通</span></span><br><span class="line">            is = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">"file-io-app\\src\\itheima03.txt"</span>);</span><br><span class="line">            <span class="comment">// 2、创建一个字节输出流管道与目标文件接通。</span></span><br><span class="line">            os = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">"file-io-app\\src\\itheima03copy.txt"</span>);</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="number">10</span> / <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3、创建一个字节数组，负责转移字节数据。</span></span><br><span class="line">            <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>]; <span class="comment">// 1KB.</span></span><br><span class="line">            <span class="comment">// 4、从字节输入流中读取字节数据，写出去到字节输出流中。读多少写出去多少。</span></span><br><span class="line">            <span class="type">int</span> len; <span class="comment">// 记住每次读取了多少个字节。</span></span><br><span class="line">            <span class="keyword">while</span> ((len = is.read(buffer)) != -<span class="number">1</span>){</span><br><span class="line">                os.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">            }</span><br><span class="line">            System.out.println(<span class="string">"复制完成！！"</span>);</span><br><span class="line">        } <span class="keyword">catch</span> (IOException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        } <span class="keyword">finally</span> {</span><br><span class="line">            <span class="comment">// 释放资源的操作</span></span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                <span class="keyword">if</span>(os != <span class="literal">null</span>) os.close();</span><br><span class="line">            } <span class="keyword">catch</span> (IOException e) {</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                <span class="keyword">if</span>(is != <span class="literal">null</span>) is.close();</span><br><span class="line">            } <span class="keyword">catch</span> (IOException e) {</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>代码写到这里，有很多同学就已经看不下去了。是的，我也看不下去，本来几行代码就写完了的，加上try…catch…finally之后代码多了十几行，而且阅读性并不高。难受….</p>
<h3 id="3-2-JDK7以后的资源释放"><a href="#3-2-JDK7以后的资源释放" class="headerlink" title="3.2 JDK7以后的资源释放"></a>3.2 JDK7以后的资源释放</h3><p>刚才很多同学已经发现了try…catch…finally处理异常，并释放资源代码比较繁琐。Java在JDK7版本为我们提供了一种简化的是否资源的操作，它会自动是否资源。代码写起来也想当简单。</p>
<p>格式如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>(资源对象<span class="number">1</span>; 资源对象<span class="number">2</span>;){</span><br><span class="line">    使用资源的代码</span><br><span class="line">}<span class="keyword">catch</span>(异常类 e){</span><br><span class="line">    处理异常的代码</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意：注意到没有，这里没有释放资源的代码。它会自动是否资源</span></span><br></pre></td></tr></tbody></table></figure>

<p>代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握释放资源的方式：try-with-resource</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  {</span><br><span class="line">    	<span class="keyword">try</span> (</span><br><span class="line">          <span class="comment">// 1、创建一个字节输入流管道与源文件接通</span></span><br><span class="line">          <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">"D:/resource/meinv.png"</span>);</span><br><span class="line">          <span class="comment">// 2、创建一个字节输出流管道与目标文件接通。</span></span><br><span class="line">          <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">"C:/data/meinv.png"</span>);</span><br><span class="line">        ){</span><br><span class="line">            <span class="comment">// 3、创建一个字节数组，负责转移字节数据。</span></span><br><span class="line">            <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>]; <span class="comment">// 1KB.</span></span><br><span class="line">            <span class="comment">// 4、从字节输入流中读取字节数据，写出去到字节输出流中。读多少写出去多少。</span></span><br><span class="line">            <span class="type">int</span> len; <span class="comment">// 记住每次读取了多少个字节。</span></span><br><span class="line">            <span class="keyword">while</span> ((len = is.read(buffer)) != -<span class="number">1</span>){</span><br><span class="line">                os.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">            }</span><br><span class="line">            System.out.println(conn);</span><br><span class="line">            System.out.println(<span class="string">"复制完成！！"</span>);</span><br><span class="line"></span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day10-IO流（二）"><a href="#day10-IO流（二）" class="headerlink" title="day10-IO流（二）"></a>day10-IO流（二）</h1><h2 id="一、字符流"><a href="#一、字符流" class="headerlink" title="一、字符流"></a>一、字符流</h2><p>同学们，前面我们学习了字节流，使用字节流可以读取文件中的字节数据。但是如果文件中有中文，使用字节流来读取，就有可能读到半个汉字的情况，这样会导致乱码。虽然使用读取全部字节的方法不会出现乱码，但是如果文件过大又不太合适。</p>
<p>所以Java专门为我们提供了另外一种流，叫字符流，可以字符流是专门为读取文本数据而生的。</p>
<h3 id="1-1-FileReader类"><a href="#1-1-FileReader类" class="headerlink" title="1.1 FileReader类"></a>1.1 FileReader类</h3><p>先类学习字符流中的FileReader类，这是字符输入流，用来将文件中的字符数据读取到程序中来。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057574634-36f1431c-f923-484c-9678-ce1ff58a3259.png#id=JLYe1&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>FileReader读取文件的步骤如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">第一步：创建FileReader对象与要读取的源文件接通</span><br><span class="line">第二步：调用read()方法读取文件中的字符</span><br><span class="line">第三步：调用close()方法关闭流</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057574752-cd0e0e53-d30b-468e-9c44-25d51478b747.png#id=HT5Vi&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>需要用到的方法：先通过构造器创建对象，再通过read方法读取数据（<strong>注意：两个read方法的返回值，含义不一样</strong>）</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057574882-4cf40c31-c00f-49a5-8d3b-c768b3ae9c65.png#id=CRjEd&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握文件字符输入流。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileReaderTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  {</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 1、创建一个文件字符输入流管道与源文件接通</span></span><br><span class="line">                <span class="type">Reader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">"io-app2\\src\\itheima01.txt"</span>);</span><br><span class="line">                ){</span><br><span class="line">            <span class="comment">// 2、一个字符一个字符的读（性能较差）</span></span><br><span class="line"><span class="comment">//            int c; // 记住每次读取的字符编号。</span></span><br><span class="line"><span class="comment">//            while ((c = fr.read()) != -1){</span></span><br><span class="line"><span class="comment">//                System.out.print((char) c);</span></span><br><span class="line"><span class="comment">//            }</span></span><br><span class="line">            <span class="comment">// 每次读取一个字符的形式，性能肯定是比较差的。</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3、每次读取多个字符。（性能是比较不错的！）</span></span><br><span class="line">            <span class="type">char</span>[] buffer = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">3</span>];</span><br><span class="line">            <span class="type">int</span> len; <span class="comment">// 记住每次读取了多少个字符。</span></span><br><span class="line">            <span class="keyword">while</span> ((len = fr.read(buffer)) != -<span class="number">1</span>){</span><br><span class="line">                <span class="comment">// 读取多少倒出多少</span></span><br><span class="line">                System.out.print(<span class="keyword">new</span> <span class="title class_">String</span>(buffer, <span class="number">0</span>, len));</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-2-FileWriter类"><a href="#1-2-FileWriter类" class="headerlink" title="1.2 FileWriter类"></a>1.2 FileWriter类</h3><p>在上节课，我们学习了FileReader，它可以将文件中的字符数据读取到程序中来。接下来，我们就要学习FileWriter了，它可以将程序中的字符数据写入文件。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057574987-069965a5-6630-4a7a-a141-aa723f687c0c.png#id=cb7NJ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>FileWriter往文件中写字符数据的步骤如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">第一步：创建FileWirter对象与要读取的目标文件接通</span><br><span class="line">第二步：调用write(字符数据/字符数组/字符串)方法读取文件中的字符</span><br><span class="line">第三步：调用close()方法关闭流</span><br></pre></td></tr></tbody></table></figure>

<p>需要用到的方法如下：构造器是用来创建FileWriter对象的，有了对象才能调用write方法写数据到文件。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057575093-daae7a99-bedd-4cf6-b494-218eb14ef68d.png#id=iisDz&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，用代码演示一下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握文件字符输出流：写字符数据出去</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileWriterTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 0、创建一个文件字符输出流管道与目标文件接通。</span></span><br><span class="line">                <span class="comment">// 覆盖管道</span></span><br><span class="line">                <span class="comment">// Writer fw = new FileWriter("io-app2/src/itheima02out.txt");</span></span><br><span class="line">                <span class="comment">// 追加数据的管道</span></span><br><span class="line">                <span class="type">Writer</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">"io-app2/src/itheima02out.txt"</span>, <span class="literal">true</span>);</span><br><span class="line">                ){</span><br><span class="line">            <span class="comment">// 1、public void write(int c):写一个字符出去</span></span><br><span class="line">            fw.write(<span class="string">'a'</span>);</span><br><span class="line">            fw.write(<span class="number">97</span>);</span><br><span class="line">            <span class="comment">//fw.write('磊'); // 写一个字符出去</span></span><br><span class="line">            fw.write(<span class="string">"\r\n"</span>); <span class="comment">// 换行</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 2、public void write(String c)写一个字符串出去</span></span><br><span class="line">            fw.write(<span class="string">"我爱你中国abc"</span>);</span><br><span class="line">            fw.write(<span class="string">"\r\n"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3、public void write(String c ,int pos ,int len):写字符串的一部分出去</span></span><br><span class="line">            fw.write(<span class="string">"我爱你中国abc"</span>, <span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">            fw.write(<span class="string">"\r\n"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4、public void write(char[] buffer):写一个字符数组出去</span></span><br><span class="line">            <span class="type">char</span>[] buffer = {<span class="string">'黑'</span>, <span class="string">'马'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>};</span><br><span class="line">            fw.write(buffer);</span><br><span class="line">            fw.write(<span class="string">"\r\n"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 5、public void write(char[] buffer ,int pos ,int len):写字符数组的一部分出去</span></span><br><span class="line">            fw.write(buffer, <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">            fw.write(<span class="string">"\r\n"</span>);</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-3-FileWriter写的注意事项"><a href="#1-3-FileWriter写的注意事项" class="headerlink" title="1.3 FileWriter写的注意事项"></a>1.3 FileWriter写的注意事项</h3><p>各位同学，刚才我们已经学习了FileWriter字符输出流的基本使用。但是，这里有一个小问题需要和同学们说下一：<strong>FileWriter写完数据之后，必须刷新或者关闭，写出去的数据才能生效。</strong></p>
<p>比如：下面的代码只调用了写数据的方法，没有关流的方法。当你打开目标文件时，是看不到任何数据的。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建FileWriter对象</span></span><br><span class="line"><span class="type">Writer</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">"io-app2/src/itheima03out.txt"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.写字符数据出去</span></span><br><span class="line">fw.write(<span class="string">'a'</span>);</span><br><span class="line">fw.write(<span class="string">'b'</span>);</span><br><span class="line">fw.write(<span class="string">'c'</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>而下面的代码，加上了flush()方法之后，数据就会立即到目标文件中去。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建FileWriter对象</span></span><br><span class="line"><span class="type">Writer</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">"io-app2/src/itheima03out.txt"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.写字符数据出去</span></span><br><span class="line">fw.write(<span class="string">'a'</span>);</span><br><span class="line">fw.write(<span class="string">'b'</span>);</span><br><span class="line">fw.write(<span class="string">'c'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.刷新</span></span><br><span class="line">fw.flush();</span><br></pre></td></tr></tbody></table></figure>

<p>下面的代码，调用了close()方法，数据也会立即到文件中去。因为close()方法在关闭流之前，会将内存中缓存的数据先刷新到文件，再关流。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建FileWriter对象</span></span><br><span class="line"><span class="type">Writer</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">"io-app2/src/itheima03out.txt"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.写字符数据出去</span></span><br><span class="line">fw.write(<span class="string">'a'</span>);</span><br><span class="line">fw.write(<span class="string">'b'</span>);</span><br><span class="line">fw.write(<span class="string">'c'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.关闭流</span></span><br><span class="line">fw.close(); <span class="comment">//会先刷新，再关流</span></span><br></pre></td></tr></tbody></table></figure>

<p>但是需要注意的是，关闭流之后，就不能在对流进行操作了。否则会出异常</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057575194-145b53fc-7aaf-40fe-b871-0a2398ac65e0.png#id=xNOOE&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="二、缓冲流"><a href="#二、缓冲流" class="headerlink" title="二、缓冲流"></a>二、缓冲流</h2><p>学习完字符流之后，接下来我们学习一下缓冲流。我们还是先来认识一下缓存流，再来说一下它的作用。缓冲流有四种，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057575284-e2b80754-f43c-46f3-94e3-ac49709ba978.png#id=NJJsr&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>缓冲流的作用</strong>：可以对原始流进行包装，提高原始流读写数据的性能。</p>
<h3 id="2-1-缓冲字节流"><a href="#2-1-缓冲字节流" class="headerlink" title="2.1 缓冲字节流"></a>2.1 缓冲字节流</h3><p>我们先来学习字节缓冲流是如何提高读写数据的性能的，原理如下图所示。是因为在缓冲流的底层自己封装了一个长度为8KB（8129byte）的字节数组，但是缓冲流不能单独使用，它需要依赖于原始流。</p>
<ul>
<li><strong>读数据时：</strong>它先用原始字节输入流一次性读取8KB的数据存入缓冲流内部的数组中（ps: 先一次多囤点货），再从8KB的字节数组中读取一个字节或者多个字节（把消耗屯的货）。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057575395-fe1c3bcf-796b-408f-ab88-35544dd13aad.png#id=wG2oQ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>写数据时：</strong> 它是先把数据写到缓冲流内部的8BK的数组中（ps: 先攒一车货），等数组存满了，再通过原始的字节输出流，一次性写到目标文件中去（把囤好的货，一次性运走）。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057575504-51bbb241-3900-419b-864a-ea1c4e5bab0f.png#id=TP97M&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>在创建缓冲字节流对象时，需要封装一个原始流对象进来。构造方法如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057575601-afc4ecbb-e84d-49aa-9d0c-045c5e88de94.png#id=mdQFL&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如果我们用缓冲流复制文件，代码写法如下:</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedInputStreamTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">"io-app2/src/itheima01.txt"</span>);</span><br><span class="line">                <span class="comment">// 1、定义一个字节缓冲输入流包装原始的字节输入流</span></span><br><span class="line">                <span class="type">InputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(is);</span><br><span class="line"></span><br><span class="line">                <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">"io-app2/src/itheima01_bak.txt"</span>);</span><br><span class="line">                <span class="comment">// 2、定义一个字节缓冲输出流包装原始的字节输出流</span></span><br><span class="line">                <span class="type">OutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(os);</span><br><span class="line">        ){</span><br><span class="line"></span><br><span class="line">            <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="type">int</span> len;</span><br><span class="line">            <span class="keyword">while</span> ((len = bis.read(buffer)) != -<span class="number">1</span>){</span><br><span class="line">                bos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">            }</span><br><span class="line">            System.out.println(<span class="string">"复制完成！！"</span>);</span><br><span class="line"></span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-2-字符缓冲流"><a href="#2-2-字符缓冲流" class="headerlink" title="2.2 字符缓冲流"></a>2.2 字符缓冲流</h3><p>接下来，我们学习另外两个缓冲流——字符缓冲流。它的原理和字节缓冲流是类似的，它底层也会有一个8KB的数组，但是这里是字符数组。字符缓冲流也不能单独使用，它需要依赖于原始字符流一起使用。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057575701-fcdc71f5-9ae3-4025-8d10-a37c57060f10.png#id=og9HT&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>BufferedReader读数据时：</strong>它先原始字符输入流一次性读取8KB的数据存入缓冲流内部的数组中（ps: 先一次多囤点货），再从8KB的字符数组中读取一个字符或者多个字符（把消耗屯的货）。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057575857-0ac4d11d-e96a-4670-8ce2-6954eeafda7a.png#id=cF6VR&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>创建BufferedReader对象需要用到BufferedReader的构造方法，内部需要封装一个原始的字符输入流，我们可以传入FileReader.</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057576052-83cbb363-57e0-499d-a5e4-16dc98aedfc8.png#id=LkBzN&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>而且BufferedReader还要特有的方法，一次可以读取文本文件中的一行</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057576151-becc85ed-6ce3-4330-a1bb-9d47b70d497b.png#id=xl4WC&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>使用BufferedReader读取数据的代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedReaderTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  {</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="type">Reader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">"io-app2\\src\\itheima04.txt"</span>);</span><br><span class="line">                <span class="comment">// 创建一个字符缓冲输入流包装原始的字符输入流</span></span><br><span class="line">                <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fr);</span><br><span class="line">        ){</span><br><span class="line"><span class="comment">//            char[] buffer = new char[3];</span></span><br><span class="line"><span class="comment">//            int len;</span></span><br><span class="line"><span class="comment">//            while ((len = br.read(buffer)) != -1){</span></span><br><span class="line"><span class="comment">//                System.out.print(new String(buffer, 0, len));</span></span><br><span class="line"><span class="comment">//            }</span></span><br><span class="line"><span class="comment">//            System.out.println(br.readLine());</span></span><br><span class="line"><span class="comment">//            System.out.println(br.readLine());</span></span><br><span class="line"><span class="comment">//            System.out.println(br.readLine());</span></span><br><span class="line"><span class="comment">//            System.out.println(br.readLine());</span></span><br><span class="line"></span><br><span class="line">            String line; <span class="comment">// 记住每次读取的一行数据</span></span><br><span class="line">            <span class="keyword">while</span> ((line = br.readLine()) != <span class="literal">null</span>){</span><br><span class="line">                System.out.println(line);</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>BufferedWriter写数据时：</strong> 它是先把数据写到字符缓冲流内部的8BK的数组中（ps: 先攒一车货），等数组存满了，再通过原始的字符输出流，一次性写到目标文件中去（把囤好的货，一次性运走）。如下图所示</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057576232-6eed176c-934f-4466-8216-32453be15797.png#id=oh5mu&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>创建BufferedWriter对象时需要用到BufferedWriter的构造方法，而且内部需要封装一个原始的字符输出流，我们这里可以传递FileWriter。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057576333-0f6ee737-f14b-40bb-a6d3-8097066b0448.png#id=UOtb3&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>而且BufferedWriter新增了一个功能，可以用来写一个换行符</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057576466-47e7696c-090d-4791-a9cb-a6d7648851ec.png#id=S5l1J&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，用代码演示一下，使用BufferedWriter往文件中写入字符数据。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedWriterTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="type">Writer</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">"io-app2/src/itheima05out.txt"</span>, <span class="literal">true</span>);</span><br><span class="line">                <span class="comment">// 创建一个字符缓冲输出流管道包装原始的字符输出流</span></span><br><span class="line">                <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(fw);</span><br><span class="line">        ){</span><br><span class="line"></span><br><span class="line">            bw.write(<span class="string">'a'</span>);</span><br><span class="line">            bw.write(<span class="number">97</span>);</span><br><span class="line">            bw.write(<span class="string">'磊'</span>);</span><br><span class="line">            bw.newLine();</span><br><span class="line"></span><br><span class="line">            bw.write(<span class="string">"我爱你中国abc"</span>);</span><br><span class="line">            bw.newLine();</span><br><span class="line"></span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-3-缓冲流性能分析"><a href="#2-3-缓冲流性能分析" class="headerlink" title="2.3 缓冲流性能分析"></a>2.3 缓冲流性能分析</h3><p>我们说缓冲流内部多了一个数组，可以提高原始流的读写性能。讲到这一定有同学有这么一个疑问，它和我们使用原始流，自己加一个8BK数组不是一样的吗？ 缓冲流就一定能提高性能吗？先告诉同学们答案，<strong>缓冲流不一定能提高性能</strong>。</p>
<blockquote>
<p>下面我们用一个比较大文件（889MB）复制，做性能测试，分别使用下面四种方式来完成文件复制，并记录文件复制的时间。</p>
</blockquote>
<p>① 使用低级流一个字节一个字节的复制</p>
<p>② 使用低级流按照字节数组的形式复制</p>
<p>③ 使用缓冲流一个字节一个字节的复制</p>
<p>④ 使用缓冲流按照字节数组的形式复制</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">低级流一个字节复制: 慢得简直让人无法忍受</span><br><span class="line">低级流按照字节数组复制(数组长度<span class="number">1024</span>): <span class="number">12.</span>117s</span><br><span class="line">缓冲流一个字节复制: <span class="number">11.</span>058s</span><br><span class="line">缓冲流按照字节数组复制(数组长度<span class="number">1024</span>): <span class="number">2.</span>163s</span><br><span class="line">【注意：这里的测试只能做一个参考，和电脑性能也有直接关系】</span><br></pre></td></tr></tbody></table></figure>

<p>经过上面的测试，我们可以得出一个结论：<strong>默认情况下，采用一次复制1024个字节，缓冲流完胜。</strong></p>
<blockquote>
<p>但是，缓冲流就一定性能高吗？我们采用一次复制8192个字节试试</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">低级流按照字节数组复制(数组长度<span class="number">8192</span>): <span class="number">2.</span>535s</span><br><span class="line">缓冲流按照字节数组复制(数组长度<span class="number">8192</span>): <span class="number">2.</span>088s</span><br></pre></td></tr></tbody></table></figure>

<p>经过上面的测试，我们可以得出一个结论：<strong>一次读取8192个字节时，低级流和缓冲流性能相当。</strong>相差的那几毫秒可以忽略不计。</p>
<blockquote>
<p>继续把数组变大，看一看缓冲流就一定性能高吗？现在采用一次读取1024*32个字节数据试试</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">低级流按照字节数组复制(数组长度<span class="number">8192</span>): <span class="number">1.</span>128s</span><br><span class="line">缓冲流按照字节数组复制(数组长度<span class="number">8192</span>): <span class="number">1.</span>133s</span><br></pre></td></tr></tbody></table></figure>

<p>经过上面的测试，我们可以得出一个结论：<strong>数组越大性能越高，低级流和缓冲流性能相当。</strong>相差的那几秒可以忽略不计。</p>
<blockquote>
<p>继续把数组变大，看一看缓冲流就一定性能高吗？现在采用一次读取1024*6个字节数据试试</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">低级流按照字节数组复制(数组长度<span class="number">8192</span>): <span class="number">1.</span>039s</span><br><span class="line">缓冲流按照字节数组复制(数组长度<span class="number">8192</span>): <span class="number">1.</span>151s</span><br></pre></td></tr></tbody></table></figure>

<p>此时你会发现，当数组大到一定程度，性能已经提高了多少了，甚至缓冲流的性能还没有低级流高。</p>
<p>最终总结一下：<strong>缓冲流的性能不一定比低级流高，其实低级流自己加一个数组，性能其实是不差。</strong>只不过缓冲流帮你加了一个相对而言大小比较合理的数组 。</p>
<h2 id="三、转换流"><a href="#三、转换流" class="headerlink" title="三、转换流"></a>三、转换流</h2><p>前面我们学习过FileReader读取文件中的字符，但是同学们注意了，FileReader默认只能读取UTF-8编码格式的文件。如果使用FileReader读取GBK格式的文件，可能存在乱码，因为FileReader它遇到汉字默认是按照3个字节来读取的，而GBK格式的文件一个汉字是占2个字节，这样就会导致乱码。</p>
<p>Java给我们提供了另外两种流InputStreamReader，OutputStreamWriter，这两个流我们把它叫做转换流。它们可以将字节流转换为字符流，并且可以指定编码方案。</p>
<h3 id="3-1-InputStreamReader类"><a href="#3-1-InputStreamReader类" class="headerlink" title="3.1 InputStreamReader类"></a>3.1 InputStreamReader类</h3><p>接下来，我们先学习InputStreamReader类，你看这个类名就比较有意思，前面是InputStream表示字节输入流，后面是Reader表示字符输入流，合在一起意思就是表示可以把InputStream转换为Reader，最终InputStreamReader其实也是Reader的子类，所以也算是字符输入流。</p>
<p>InputStreamReader也是不能单独使用的，它内部需要封装一个InputStream的子类对象，再指定一个编码表，如果不指定编码表，默认会按照UTF-8形式进行转换。</p>
<blockquote>
<p>需求：我们可以先准备一个GBK格式的文件，然后使用下面的代码进行读取，看是是否有乱码。</p>
</blockquote>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057576550-e49e118f-2ece-4afa-9f6c-8cc4762a62e7.png#id=SlppG&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InputStreamReaderTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 1、得到文件的原始字节流（GBK的字节流形式）</span></span><br><span class="line">                <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">"io-app2/src/itheima06.txt"</span>);</span><br><span class="line">                <span class="comment">// 2、把原始的字节输入流按照指定的字符集编码转换成字符输入流</span></span><br><span class="line">                <span class="type">Reader</span> <span class="variable">isr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(is, <span class="string">"GBK"</span>);</span><br><span class="line">                <span class="comment">// 3、把字符输入流包装成缓冲字符输入流</span></span><br><span class="line">                <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(isr);</span><br><span class="line">                ){</span><br><span class="line">            String line;</span><br><span class="line">            <span class="keyword">while</span> ((line = br.readLine()) != <span class="literal">null</span>){</span><br><span class="line">                System.out.println(line);</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>执行完之后，你会发现没有乱码。</p>
<h3 id="3-2-OutputStreamWriter类"><a href="#3-2-OutputStreamWriter类" class="headerlink" title="3.2 OutputStreamWriter类"></a>3.2 OutputStreamWriter类</h3><p>接下来，我们先学习OutputStreamWriter类，你看这个类名也比较有意思，前面是OutputStream表示字节输出流，后面是Writer表示字符输出流，合在一起意思就是表示可以把OutputStream转换为Writer，最终OutputStreamWriter其实也是Writer的子类，所以也算是字符输出流。</p>
<p>OutputStreamReader也是不能单独使用的，它内部需要封装一个OutputStream的子类对象，再指定一个编码表，如果不指定编码表，默认会按照UTF-8形式进行转换。</p>
<blockquote>
<p>需求：我们可以先准备一个GBK格式的文件，使用下面代码往文件中写字符数据。</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OutputStreamWriterTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 指定写出去的字符编码。</span></span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 1、创建一个文件字节输出流</span></span><br><span class="line">                <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">"io-app2/src/itheima07out.txt"</span>);</span><br><span class="line">                <span class="comment">// 2、把原始的字节输出流，按照指定的字符集编码转换成字符输出转换流。</span></span><br><span class="line">                <span class="type">Writer</span> <span class="variable">osw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(os, <span class="string">"GBK"</span>);</span><br><span class="line">                <span class="comment">// 3、把字符输出流包装成缓冲字符输出流</span></span><br><span class="line">                <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(osw);</span><br><span class="line">                ){</span><br><span class="line">            bw.write(<span class="string">"我是中国人abc"</span>);</span><br><span class="line">            bw.write(<span class="string">"我爱你中国123"</span>);</span><br><span class="line"></span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="四、打印流"><a href="#四、打印流" class="headerlink" title="四、打印流"></a>四、打印流</h2><p>接下来，我们学习打印流，其实打印流我们从开学第一天就一直再使用，只是没有学到你感受不到而已。打印流可以实现更加方便，更加高效的写数据的方式。</p>
<h3 id="4-1-打印流基本使用"><a href="#4-1-打印流基本使用" class="headerlink" title="4.1 打印流基本使用"></a>4.1 打印流基本使用</h3><p>打印流，这里所说的打印其实就是写数据的意思，它和普通的write方法写数据还不太一样，一般会使用打印流特有的方法叫<code>print(数据)</code>或者<code>println(数据)</code>，它打印啥就输出啥。</p>
<p>打印流有两个，一个是字节打印流PrintStream，一个是字符打印流PrintWriter，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057576722-4e9286b6-1002-4548-9fe6-f25ddd649acf.png#id=LWXoR&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>PrintStream和PrintWriter的用法是一样的，所以这里就一块演示了。</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrintTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 1、创建一个打印流管道</span></span><br><span class="line"><span class="comment">//                PrintStream ps =</span></span><br><span class="line"><span class="comment">//                        new PrintStream("io-app2/src/itheima08.txt", Charset.forName("GBK"));</span></span><br><span class="line"><span class="comment">//                PrintStream ps =</span></span><br><span class="line"><span class="comment">//                        new PrintStream("io-app2/src/itheima08.txt");</span></span><br><span class="line">                <span class="type">PrintWriter</span> <span class="variable">ps</span> <span class="operator">=</span></span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">"io-app2/src/itheima08.txt"</span>, <span class="literal">true</span>));</span><br><span class="line">                ){</span><br><span class="line">                ps.print(<span class="number">97</span>);	<span class="comment">//文件中显示的就是:97</span></span><br><span class="line">                ps.print(<span class="string">'a'</span>); <span class="comment">//文件中显示的就是:a</span></span><br><span class="line">                ps.println(<span class="string">"我爱你中国abc"</span>);	<span class="comment">//文件中显示的就是:我爱你中国abc</span></span><br><span class="line">                ps.println(<span class="literal">true</span>);<span class="comment">//文件中显示的就是:true</span></span><br><span class="line">                ps.println(<span class="number">99.5</span>);<span class="comment">//文件中显示的就是99.5</span></span><br><span class="line"></span><br><span class="line">                ps.write(<span class="number">97</span>); <span class="comment">//文件中显示a，发现和前面println方法的区别了吗？</span></span><br><span class="line"></span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-2-重定向输出语句"><a href="#4-2-重定向输出语句" class="headerlink" title="4.2 重定向输出语句"></a>4.2 重定向输出语句</h3><p>其实我们开学第一课，就给同学们讲过<code>System.out.println()</code>这句话表示打印输出，但是至于为什么能够输出，其实我们一直不清楚。</p>
<p>以前是因为知识储备还不够，无法解释，到现在就可以给同学们揭晓谜底了，因为System里面有一个静态变量叫out，out的数据类型就是PrintStream，它就是一个打印流，而且这个打印流的默认输出目的地是控制台，所以我们调用<code>System.out.pirnln()</code>就可以往控制台打印输出任意类型的数据，而且打印啥就输出啥。</p>
<p>而且System还提供了一个方法，可以修改底层的打印流，这样我们就可以重定向打印语句的输出目的地了。我们玩一下, 直接上代码。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrintTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        System.out.println(<span class="string">"老骥伏枥"</span>);</span><br><span class="line">        System.out.println(<span class="string">"志在千里"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> ( <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="string">"io-app2/src/itheima09.txt"</span>); ){</span><br><span class="line">            <span class="comment">// 把系统默认的打印流对象改成自己设置的打印流</span></span><br><span class="line">            System.setOut(ps);</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"烈士暮年"</span>);	</span><br><span class="line">            System.out.println(<span class="string">"壮心不已"</span>);</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>此时打印语句，将往文件中打印数据，而不在控制台。</p>
<h2 id="五、数据流"><a href="#五、数据流" class="headerlink" title="五、数据流"></a>五、数据流</h2><p>同学们，接下我们再学习一种流，这种流在开发中偶尔也会用到。比如，我们想把数据和数据的类型一并写到文件中去，读取的时候也将数据和数据类型一并读出来。这就可以用到数据流，有两个DataInputStream和DataOutputStream.</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057576830-d0787b57-ca0a-40f8-841f-83f92a13e3c5.png#id=Jtz6p&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="5-1-DataOutputStream类"><a href="#5-1-DataOutputStream类" class="headerlink" title="5.1 DataOutputStream类"></a>5.1 DataOutputStream类</h3><p>我们先学习DataOutputStream类，它也是一种包装流，创建DataOutputStream对象时，底层需要依赖于一个原始的OutputStream流对象。然后调用它的wirteXxx方法，写的是特定类型的数据。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057576938-4e2d7917-5302-49ce-b6fd-42eea4238ba0.png#id=Qsyut&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>代码如下：往文件中写整数、小数、布尔类型数据、字符串数据</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DataOutputStreamTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 1、创建一个数据输出流包装低级的字节输出流</span></span><br><span class="line">                <span class="type">DataOutputStream</span> <span class="variable">dos</span> <span class="operator">=</span></span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">"io-app2/src/itheima10out.txt"</span>));</span><br><span class="line">                ){</span><br><span class="line">            dos.writeInt(<span class="number">97</span>);</span><br><span class="line">            dos.writeDouble(<span class="number">99.5</span>);</span><br><span class="line">            dos.writeBoolean(<span class="literal">true</span>);</span><br><span class="line">            dos.writeUTF(<span class="string">"黑马程序员666！"</span>);</span><br><span class="line"></span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="5-2-DataInputStream类"><a href="#5-2-DataInputStream类" class="headerlink" title="5.2 DataInputStream类"></a>5.2 DataInputStream类</h3><p>学习完DataOutputStream后，再学习DataIntputStream类，它也是一种包装流，创建DataInputStream对象时，底层需要依赖于一个原始的InputStream流对象。然后调用它的readXxx()方法就可以读取特定类型的数据。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057577037-59e0076b-9ad6-407b-b74e-db2daefdcdd8.png#id=mzfeg&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>代码如下：读取文件中特定类型的数据（整数、小数、字符串等）</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DataInputStreamTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span></span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">"io-app2/src/itheima10out.txt"</span>));</span><br><span class="line">                ){</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> dis.readInt();</span><br><span class="line">            System.out.println(i);</span><br><span class="line"></span><br><span class="line">            <span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> dis.readDouble();</span><br><span class="line">            System.out.println(d);</span><br><span class="line"></span><br><span class="line">            <span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> dis.readBoolean();</span><br><span class="line">            System.out.println(b);</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">            System.out.println(rs);</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="六、序列化流"><a href="#六、序列化流" class="headerlink" title="六、序列化流"></a>六、序列化流</h2><p>各位同学同学，还有最后一个流要学习，叫做序列化流。序列化流是干什么用的呢？ 我们知道字节流是以字节为单位来读写数据、字符流是按照字符为单位来读写数据、而对象流是以对象为单位来读写数据。也就是把对象当做一个整体，可以写一个对象到文件，也可以从文件中把对象读取出来。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057577140-f533a966-502b-4503-b4f3-c2eb66ba26a3.png#id=DYoTg&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>这里有一个新词 序列化，第一次听同学们可能还比较陌生，我来给同学们解释一下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">序列化：意思就是把对象写到文件或者网络中去。（简单记：写对象）</span><br><span class="line">反序列化：意思就是把对象从文件或者网络中读取出来。（简单记：读对象）</span><br></pre></td></tr></tbody></table></figure>

<h3 id="6-1-ObjectOutputStraem类"><a href="#6-1-ObjectOutputStraem类" class="headerlink" title="6.1 ObjectOutputStraem类"></a>6.1 ObjectOutputStraem类</h3><p>接下来，先学习ObjectOutputStream流，它也是一个包装流，不能单独使用，需要结合原始的字节输出流使用。</p>
<p>代码如下：将一个User对象写到文件中去</p>
<ul>
<li>第一步：先准备一个User类，必须让其实现Serializable接口。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意：对象如果需要序列化，必须实现序列化接口。</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> {</span><br><span class="line">    <span class="keyword">private</span> String loginName;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="comment">// transient 这个成员变量将不参与序列化。</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> String passWord;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String loginName, String userName, <span class="type">int</span> age, String passWord)</span> {</span><br><span class="line">        <span class="built_in">this</span>.loginName = loginName;</span><br><span class="line">        <span class="built_in">this</span>.userName = userName;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.passWord = passWord;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User{"</span> +</span><br><span class="line">                <span class="string">"loginName='"</span> + loginName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", userName='"</span> + userName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">", passWord='"</span> + passWord + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'}'</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>第二步：再创建ObjectOutputStream流对象，调用writeObject方法对象到文件。</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1ObjectOutputStream</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 2、创建一个对象字节输出流包装原始的字节 输出流。</span></span><br><span class="line">                <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span></span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">"io-app2/src/itheima11out.txt"</span>));</span><br><span class="line">                ){</span><br><span class="line">            <span class="comment">// 1、创建一个Java对象。</span></span><br><span class="line">            <span class="type">User</span> <span class="variable">u</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">"admin"</span>, <span class="string">"张三"</span>, <span class="number">32</span>, <span class="string">"666888xyz"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3、序列化对象到文件中去</span></span><br><span class="line">            oos.writeObject(u);</span><br><span class="line">            System.out.println(<span class="string">"序列化对象成功！！"</span>);</span><br><span class="line"></span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>注意：写到文件中的对象，是不能用记事本打开看的。因为对象本身就不是文本数据，打开是乱码</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057577258-74cbcff2-6deb-4cd7-996d-50fbbfc01367.png#averageHue=%23f4ddd6&amp;id=NKIXc&amp;originHeight=121&amp;originWidth=1205&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>怎样才能读懂文件中的对象是什么呢？这里必须用反序列化，自己写代码读。</p>
<h3 id="6-2-ObjectInputStream类"><a href="#6-2-ObjectInputStream类" class="headerlink" title="6.2 ObjectInputStream类"></a>6.2 ObjectInputStream类</h3><p>接下来，学习ObjectInputStream流，它也是一个包装流，不能单独使用，需要结合原始的字节输入流使用。</p>
<p>接着前面的案例，文件中已经有一个Student对象，现在要使用ObjectInputStream读取出来。称之为反序列化。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2ObjectInputStream</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">            <span class="comment">// 1、创建一个对象字节输入流管道，包装 低级的字节输入流与源文件接通</span></span><br><span class="line">            <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">"io-app2/src/itheima11out.txt"</span>));</span><br><span class="line">        ){</span><br><span class="line">            <span class="type">User</span> <span class="variable">u</span> <span class="operator">=</span> (User) ois.readObject();</span><br><span class="line">            System.out.println(u);</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="七、补充知识：IO框架"><a href="#七、补充知识：IO框架" class="headerlink" title="七、补充知识：IO框架"></a>七、补充知识：IO框架</h2><p>最后，再给同学们补充讲解一个知识，叫做IO框架。它有什么用呢？有同学经常问老师，我们只学习了IO流对文件复制，能不能复制文件夹呀？</p>
<p>当然是可以咯，但是如果让我们自己写复制文件夹的代码需要用到递归，还是比较麻烦的。为了简化对IO操作，<strong>由apache开源基金组织提供了一组有关IO流小框架，可以提高IO流的开发效率。</strong></p>
<p>这个框架的名字叫commons-io：其本质是别人写好的一些字节码文件（class文件），打包成了一个jar包。我们只需要把jar包引入到我们的项目中，就可以直接用了。</p>
<p>这里给同学们介绍一个jar包中提供的工具类叫FileUtils，它的部分功能如下，很方便，你一看名字就知道怎么用了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057577341-253bfb36-3e88-40a3-b39d-120faaf94357.png#averageHue=%23e6e5e5&amp;id=sbp48&amp;originHeight=778&amp;originWidth=1813&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>在写代码之前，先需要引入jar包，具体步骤如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>在模块的目录下，新建一个lib文件夹</span><br><span class="line"><span class="number">2.</span>把jar包复制粘贴到lib文件夹下</span><br><span class="line"><span class="number">3.</span>选择lib下的jar包，右键点击Add As Library，然后就可以用了。</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommonsIOTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">//1.复制文件</span></span><br><span class="line">        FileUtils.copyFile(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"io-app2\\src\\itheima01.txt"</span>), <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"io-app2/src/a.txt"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.复制文件夹</span></span><br><span class="line">        FileUtils.copyDirectory(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:\\resource\\私人珍藏"</span>), <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:\\resource\\私人珍藏3"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.删除文件夹</span></span><br><span class="line">        FileUtils.deleteDirectory(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">"D:\\resource\\私人珍藏3"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Java提供的原生的一行代码搞定很多事情</span></span><br><span class="line">         Files.copy(Path.of(<span class="string">"io-app2\\src\\itheima01.txt"</span>), Path.of(<span class="string">"io-app2\\src\\b.txt"</span>));</span><br><span class="line">        System.out.println(Files.readString(Path.of(<span class="string">"io-app2\\src\\itheima01.txt"</span>)));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day11-特殊文件、日志技术、多线程"><a href="#day11-特殊文件、日志技术、多线程" class="headerlink" title="day11-特殊文件、日志技术、多线程"></a>day11-特殊文件、日志技术、多线程</h1><h2 id="一、属性文件"><a href="#一、属性文件" class="headerlink" title="一、属性文件"></a>一、属性文件</h2><h3 id="1-1-特殊文件概述"><a href="#1-1-特殊文件概述" class="headerlink" title="1.1 特殊文件概述"></a>1.1 特殊文件概述</h3><p>同学们，前面我们学习了IO流，我们知道IO流是用来读、写文件中的数据。但是我们接触到的文件都是普通的文本文件，普通的文本文件里面的数据是没有任何格式规范的，用户可以随意编写，如下图所示。</p>
<p>像这种普通的文本文件，没有任何规律可言，不方便程序对文件中的数据信息处理。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057577470-4c41f7f6-eda3-4d2e-9d10-788bcac72a35.png#averageHue=%23e9e3d8&amp;id=WrwrT&amp;originHeight=466&amp;originWidth=1124&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>在以后的Java开发过程中还会遇到一些特殊的文本文件，这些文件是有一些格式要求的，方便程序对文件中的数据进行处理。</p>
<p>比如，后面我们会用到两种特殊的文本文件，一种是properties文件，还有一种是xml文件。如下图所示。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057577570-45152e27-b680-4054-a67a-5305a67702a8.png#averageHue=%23f6f1ef&amp;id=pyPGx&amp;originHeight=765&amp;originWidth=1366&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>后缀为.properties的文件，称之为属性文件，它可以很方便的存储一些类似于键值对的数据。经常当做软件的配置文件使用。</li>
<li>而xml文件能够表示更加复杂的数据关系，比如要表示多个用户的用户名、密码、家乡、性别等。在后面，也经常当做软件的配置文件使用。</li>
</ul>
<p>现在，学习特殊的文件主要学习什么呢？ 主要学习以下的三点</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057577691-55934a9c-0a97-4a6c-b0bd-05641487f039.png#averageHue=%23eddad5&amp;id=p1CUG&amp;originHeight=353&amp;originWidth=979&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-2-Properties属性文件"><a href="#1-2-Properties属性文件" class="headerlink" title="1.2 Properties属性文件"></a>1.2 Properties属性文件</h3><p>接下来，我们先学习Properties这种属性文件。首先我们要掌握属性文件的格式：</p>
<ol>
<li>属性文件后缀以<code>.properties</code>结尾</li>
<li>属性文件里面的每一行都是一个键值对，键和值中间用=隔开。比如: <code>admin=123456</code></li>
<li><code>#</code>表示这样是注释信息，是用来解释这一行配置是什么意思。</li>
<li>每一行末尾不要习惯性加分号，以及空格等字符；不然会把分号，空格会当做值的一部分。</li>
<li>键不能重复，值可以重复</li>
</ol>
<p>如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057577798-15d9089a-8979-4b48-93f3-b76ff3ef4874.png#averageHue=%23f2f1ee&amp;id=fct2d&amp;originHeight=546&amp;originWidth=1052&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，我们学习如何读取属性文件中的数据。这里需要给同学们，介绍一个来叫Properties.</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>Properties是什么？</span><br><span class="line">	Properties是Map接口下面的一个实现类，所以Properties也是一种双列集合，用来存储键值对。	  但是一般不会把它当做集合来使用。</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>Properties核心作用？</span><br><span class="line">	Properties类的对象，用来表示属性文件，可以用来读取属性文件中的键值对。</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>使用Properties读取属性文件中的键值对</strong>，需要用到的方法如下。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057577892-77ecae48-d300-42fa-9f8d-cc737e71eb38.png#averageHue=%23ece8e5&amp;id=WXVXd&amp;originHeight=648&amp;originWidth=1510&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>实用Properties读取属性文件的步骤如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、创建一个Properties的对象出来（键值对集合，空容器）</span><br><span class="line"><span class="number">2</span>、调用load(字符输入流/字节输入流)方法，开始加载属性文件中的键值对数据到properties对象中去</span><br><span class="line"><span class="number">3</span>、调用getProperty(键)方法，根据键取值</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：掌握使用Properties类读取属性文件中的键值对信息。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PropertiesTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、创建一个Properties的对象出来（键值对集合，空容器）</span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        System.out.println(properties);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、开始加载属性文件中的键值对数据到properties对象中去</span></span><br><span class="line">        properties.load(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">"properties-xml-log-app\\src\\users.properties"</span>));</span><br><span class="line">        System.out.println(properties);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、根据键取值</span></span><br><span class="line">        System.out.println(properties.getProperty(<span class="string">"赵敏"</span>));</span><br><span class="line">        System.out.println(properties.getProperty(<span class="string">"张无忌"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、遍历全部的键和值。</span></span><br><span class="line">        <span class="comment">//获取键的集合</span></span><br><span class="line">        Set&lt;String&gt; keys = properties.stringPropertyNames();</span><br><span class="line">        <span class="keyword">for</span> (String key : keys) {</span><br><span class="line">            <span class="comment">//再根据键获取值</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> properties.getProperty(key);</span><br><span class="line">            System.out.println(key + <span class="string">"----&gt;"</span> + value);</span><br><span class="line">        }</span><br><span class="line">		</span><br><span class="line">        properties.forEach((k, v) -&gt; {</span><br><span class="line">            System.out.println(k + <span class="string">"----&gt;"</span> + v);</span><br><span class="line">        });</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>使用Properties往属性文件中写键值对</strong>，需要用到的方法如下</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057577988-1ff0fdca-2f4e-4fd0-a7af-b37307353532.png#averageHue=%23e8e4e2&amp;id=NiV2T&amp;originHeight=346&amp;originWidth=1724&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>往Properties属性文件中写键值对的步骤如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、先准备一个.properties属性文件，按照格式写几个键值对</span><br><span class="line"><span class="number">1</span>、创建Properties对象出来，</span><br><span class="line"><span class="number">2</span>、调用setProperty存储一些键值对数据</span><br><span class="line"><span class="number">3</span>、调用store(字符输出流/字节输出流, 注释)，将Properties集合中的键和值写到文件中</span><br><span class="line">	注意：第二个参数是注释，必须得加；</span><br></pre></td></tr></tbody></table></figure>

<p>先准备一个<code>users.properties</code>属性文件，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057578093-a1d3d9d4-c3ad-4afb-92c0-a89fcdf8832b.png#averageHue=%23fdfbf6&amp;id=QycLW&amp;originHeight=250&amp;originWidth=948&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，编写代码读取上面的属性文件。代码如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PropertiesTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、创建Properties对象出来，先用它存储一些键值对数据</span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        properties.setProperty(<span class="string">"张无忌"</span>, <span class="string">"minmin"</span>);</span><br><span class="line">        properties.setProperty(<span class="string">"殷素素"</span>, <span class="string">"cuishan"</span>);</span><br><span class="line">        properties.setProperty(<span class="string">"张翠山"</span>, <span class="string">"susu"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、把properties对象中的键值对数据存入到属性文件中去</span></span><br><span class="line">        properties.store(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">"properties-xml-log-app/src/users2.properties"</span>)</span><br><span class="line">                         , <span class="string">"i saved many users!"</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行上面的代码，<code>user2.properties</code> 配置文件打开效果如下图所示。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057578176-043e11eb-8a3f-4a4b-8823-e6994be537dd.png#averageHue=%23c5dbd0&amp;id=fozHI&amp;originHeight=202&amp;originWidth=916&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="二、XML文件"><a href="#二、XML文件" class="headerlink" title="二、XML文件"></a>二、XML文件</h2><p>同学们，在上一节我们学习了properties属性文件。接下来我们再学习一种在开发中经常使用的文件，叫做xml文件。我们先来给同学们介绍一下，什么是xml文件，然后再来学习如何读取xml文件中的数据。</p>
<h3 id="2-1-XML文件概述"><a href="#2-1-XML文件概述" class="headerlink" title="2.1 XML文件概述"></a>2.1 XML文件概述</h3><p><strong>首先，我们来认识一下，什么是XML？</strong></p>
<p>XML是可扩展的标记语言，意思是它是由一些标签组成	的，而这些标签是自己定义的。本质上一种数据格式，可以用来表示复杂的数据关系。</p>
<p>XML文件有如下的特点：</p>
<ul>
<li>XML中的<code>&lt;标签名&gt;</code> 称为一个标签或者一个元素，一般是成对出现的。</li>
<li>XML中的标签名可以自己定义（可扩展），但是必须要正确的嵌套</li>
<li>XML中只能有一个根标签。</li>
<li>XML标准中可以有属性</li>
<li>XML必须第一行有一个文档声明，格式是固定的<code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</code></li>
<li>XML文件必须是以.xml为后缀结尾</li>
</ul>
<p>如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057578262-965bf2b6-6686-4a56-96fe-a1de368d1daf.png#averageHue=%23f7f7f6&amp;id=u8scf&amp;originHeight=633&amp;originWidth=782&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>接下，同学们可以跟着步骤新建一个XML文件，试试！</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057578353-a5630dd4-7eca-4ffc-b3f2-868de3772d14.png#averageHue=%23f3f0ef&amp;id=kCwum&amp;originHeight=574&amp;originWidth=1932&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span> ?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 注释：以上抬头声明必须放在第一行，必须有 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  根标签只能有一个 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">users</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">user</span> <span class="attr">id</span>=<span class="string">"1"</span> <span class="attr">desc</span>=<span class="string">"第一个用户"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>张无忌<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sex</span>&gt;</span>男<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">地址</span>&gt;</span>光明顶<span class="tag">&lt;/<span class="name">地址</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">password</span>&gt;</span>minmin<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">people</span>&gt;</span>很多人<span class="tag">&lt;/<span class="name">people</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">user</span> <span class="attr">id</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>敏敏<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sex</span>&gt;</span>女<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">地址</span>&gt;</span>光明顶<span class="tag">&lt;/<span class="name">地址</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">password</span>&gt;</span>wuji<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">users</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>上面XML文件中的数据格式是最为常见的，标签有属性、文本、还有合理的嵌套。XML文件中除了写以上的数据格式之外，还有一些特殊的字符不能直接写。</p>
<ul>
<li>像 <code>&lt;,&gt;,&amp;</code>等这些符号不能出现在标签的文本中，因为标签格式本身就有&lt;&gt;，会和标签格式冲突。<br>如果标签文本中有这些特殊字符，需要用一些占位符代替。 <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&amp;lt;  表示 &lt;</span><br><span class="line">&amp;gt;  表示 &gt;</span><br><span class="line">&amp;amp; 表示 &amp;</span><br><span class="line">&amp;apos; 表示 '</span><br><span class="line">&amp;quot; 表示 "</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">data</span>&gt;</span> 3 <span class="symbol">&amp;lt;</span> 2 <span class="symbol">&amp;amp;</span><span class="symbol">&amp;amp;</span> 5 <span class="symbol">&amp;gt;</span> 4 <span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>


<ul>
<li>如果在标签文本中，出现大量的特殊字符，不想使用特殊字符，此时可以用CDATA区，格式如下 <figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">data1</span>&gt;</span></span><br><span class="line">    &lt;![CDATA[</span><br><span class="line">   		3 &lt; 2 &amp;&amp; 5 &gt; 4</span><br><span class="line">    ]]&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">data1</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p><strong>最后，给同学们聊聊，XML在实际开发中有什么作用？</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057578444-f8cb9d29-1bd2-48ac-9abb-121792765c46.png#averageHue=%23f4f1ec&amp;id=KPbSE&amp;originHeight=972&amp;originWidth=1769&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>关于XML是什么，以及XML的格式，还有XML有什么作用，就先认识到这里。</p>
<h3 id="2-2-XML解析1"><a href="#2-2-XML解析1" class="headerlink" title="2.2 XML解析1"></a>2.2 XML解析1</h3><p>使用程序读取XML文件中的数据，称之为XML解析。这里并不需要我们自己写IO流代码去读取xml文件中的数据。其实有很多开源的，好用的XML解析框架，最知名的是DOM4J（第三方开发的）</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057578557-ca280f39-da3d-42d4-ac8f-34fad173f26e.png#averageHue=%23fbf1e8&amp;id=EAD09&amp;originHeight=638&amp;originWidth=1533&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>由于DOM4J是第三方提供的，所以需要把第三方提供的Jar包导入到自己的项目中来，才可以使用。具体步骤如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057578659-af89d68f-068c-4f04-a1dd-51f806027def.png#averageHue=%23f9f8f8&amp;id=PCGIC&amp;originHeight=769&amp;originWidth=1255&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>DOM4J解析XML文件的思想是：文档对象模型（意思是把整个XML文档、每一个标签、每一个属性都等都当做对象来看待）。Dowument对象表示真个XML文档、Element对象表示标签（元素）、Attribute对象表示属性、标签中的内容就是文本</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057578746-c7146fae-6525-494f-9aa0-92d7979fe334.png#averageHue=%23fcf8ef&amp;id=dn8qW&amp;originHeight=701&amp;originWidth=1562&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>DOM4J解析XML需要用到的方法如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057578848-96fbbb78-b9f6-4d5a-a307-7f91a085ebc7.png#averageHue=%23eaeae8&amp;id=RCNP6&amp;originHeight=613&amp;originWidth=1039&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>XML解析的过程，是从根元素开始，从外层往里层解析。 我们先把Document对象，和根元素获取出来</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dom4JTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、创建一个Dom4J框架提供的解析器对象</span></span><br><span class="line">        <span class="type">SAXReader</span> <span class="variable">saxReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SAXReader</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、使用saxReader对象把需要解析的XML文件读成一个Document对象。</span></span><br><span class="line">        <span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span></span><br><span class="line">                saxReader.read(<span class="string">"properties-xml-log-app\\src\\helloworld.xml"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、从文档对象中解析XML文件的全部数据了</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">root</span> <span class="operator">=</span> document.getRootElement();</span><br><span class="line">        System.out.println(root.getName());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057578944-62d1669e-6d65-400a-8b28-23909be9a213.png#averageHue=%23faf9f0&amp;id=bqVJX&amp;originHeight=676&amp;originWidth=1567&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-3-XML解析2"><a href="#2-3-XML解析2" class="headerlink" title="2.3 XML解析2"></a>2.3 XML解析2</h3><p>获取到XML文件的根元素之后，接下来，就可以用根元素在获取到它里面的子元素（包括子标签、表属性等）。需要用到的方法如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057579051-832a4173-bb64-475a-8d20-547490a1d62c.png#averageHue=%23e6e6e6&amp;id=Fbz1U&amp;originHeight=603&amp;originWidth=1464&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，把上面的方法先一个一个的演示一下。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dom4JTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、创建一个Dom4J框架提供的解析器对象</span></span><br><span class="line">        <span class="type">SAXReader</span> <span class="variable">saxReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SAXReader</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、使用saxReader对象把需要解析的XML文件读成一个Document对象。</span></span><br><span class="line">        <span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span></span><br><span class="line">                saxReader.read(<span class="string">"properties-xml-log-app\\src\\helloworld.xml"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、从文档对象中解析XML文件的全部数据了</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">root</span> <span class="operator">=</span> document.getRootElement();</span><br><span class="line">        System.out.println(root.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、获取根元素下的全部一级子元素。</span></span><br><span class="line">        <span class="comment">// List&lt;Element&gt; elements = root.elements();</span></span><br><span class="line">        List&lt;Element&gt; elements = root.elements(<span class="string">"user"</span>);</span><br><span class="line">        <span class="keyword">for</span> (Element element : elements) {</span><br><span class="line">            System.out.println(element.getName());</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、获取当前元素下的某个子元素。</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">people</span> <span class="operator">=</span> root.element(<span class="string">"people"</span>);</span><br><span class="line">        System.out.println(people.getText());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果下面有很多子元素user，默认获取第一个。</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">user</span> <span class="operator">=</span> root.element(<span class="string">"user"</span>);</span><br><span class="line">        System.out.println(user.elementText(<span class="string">"name"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、获取元素的属性信息呢？</span></span><br><span class="line">        System.out.println(user.attributeValue(<span class="string">"id"</span>));</span><br><span class="line">        <span class="type">Attribute</span> <span class="variable">id</span> <span class="operator">=</span> user.attribute(<span class="string">"id"</span>);</span><br><span class="line">        System.out.println(id.getName());</span><br><span class="line">        System.out.println(id.getValue());</span><br><span class="line"></span><br><span class="line">        List&lt;Attribute&gt; attributes = user.attributes();</span><br><span class="line">        <span class="keyword">for</span> (Attribute attribute : attributes) {</span><br><span class="line">            System.out.println(attribute.getName() + <span class="string">"="</span> + attribute.getValue());</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7、如何获取全部的文本内容:获取当前元素下的子元素文本值</span></span><br><span class="line">        System.out.println(user.elementText(<span class="string">"name"</span>));</span><br><span class="line">        System.out.println(user.elementText(<span class="string">"地址"</span>));</span><br><span class="line">        System.out.println(user.elementTextTrim(<span class="string">"地址"</span>)); <span class="comment">// 取出文本去除前后空格</span></span><br><span class="line">        System.out.println(user.elementText(<span class="string">"password"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">Element</span> <span class="variable">data</span> <span class="operator">=</span> user.element(<span class="string">"data"</span>);</span><br><span class="line">        System.out.println(data.getText());</span><br><span class="line">        System.out.println(data.getTextTrim()); <span class="comment">// 取出文本去除前后空格</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-4-XML文件写入"><a href="#2-4-XML文件写入" class="headerlink" title="2.4 XML文件写入"></a>2.4 XML文件写入</h3><p>在前面我们已经学习了XML解析，意思就是使用程序把XML文件中的数据读取出来。反过来能不能往XML文件中写入数据呢？ 答案是可以的。</p>
<p>DOM4J也提供了往XML文件中写标签的方法，但是用起来比较麻烦。这里不建议使用</p>
<p>我们自己使用StringBuilder按照标签的格式拼接，然后再使用BufferedWriter写到XML文件中去就可以了。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dom4JTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、使用一个StringBuilder对象来拼接XML格式的数据。</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        sb.append(<span class="string">"&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\r\n"</span>);</span><br><span class="line">        sb.append(<span class="string">"&lt;book&gt;\r\n"</span>);</span><br><span class="line">        sb.append(<span class="string">"\t&lt;name&gt;"</span>).append(<span class="string">"从入门到跑路"</span>).append(<span class="string">"&lt;/name&gt;\r\n"</span>);</span><br><span class="line">        sb.append(<span class="string">"\t&lt;author&gt;"</span>).append(<span class="string">"dlei"</span>).append(<span class="string">"&lt;/author&gt;\r\n"</span>);</span><br><span class="line">        sb.append(<span class="string">"\t&lt;price&gt;"</span>).append(<span class="number">999.99</span>).append(<span class="string">"&lt;/price&gt;\r\n"</span>);</span><br><span class="line">        sb.append(<span class="string">"&lt;/book&gt;"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">"properties-xml-log-app/src/book.xml"</span>));</span><br><span class="line">                ){</span><br><span class="line">            bw.write(sb.toString());</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-5-XML约束（了解）"><a href="#2-5-XML约束（了解）" class="headerlink" title="2.5 XML约束（了解）"></a>2.5 XML约束（了解）</h3><p>各位小伙伴，关于XML还有最后一个知识需要大家了解一下。这个知识叫做约束XML文件的编写，我讲这个知识的目的是因为同学们以后在开发过程中会遇到这个知识，但是这个代码不需要大家写，了解一下就可以了。</p>
<p><strong>首先，说一些什么是XML约束？</strong></p>
<p>XML约束指的是限制XML文件中的标签或者属性，只能按照规定的格式写。</p>
<p>比如我在项目中，想约束一个XML文件中的标签只能写&lt;书&gt;、&lt;书名&gt;、&lt;作者&gt;、&lt;售价&gt;这几个标签，如果写其他标签就报错。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057579154-f566d5ce-a600-46bd-88fd-8f1b5315658b.png#averageHue=%23fbfbfa&amp;id=MGH8z&amp;originHeight=667&amp;originWidth=1512&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>怎么才能达到上面的效果呢？有两种约束技术，一种是DTD约束、一种是Schame约束。</p>
<ul>
<li><p>DTD约束案例<br>如下图所示book.xml中引入了DTD约束文件，book.xml文件中的标签就受到DTD文件的约束<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057579251-b97787f9-af49-4d61-882e-6970c87e4b81.png#averageHue=%23fbfbfa&amp;id=F4ky8&amp;originHeight=632&amp;originWidth=1456&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="><br>DTD文件解释 </p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!ELEMENT 书架(书+)&gt;   表示根标签是&lt;书架&gt;，并且书架中有子标签&lt;书&gt;</span><br><span class="line">&lt;!ELEMENT 书(书名、作者、售价)&gt; 表示书是一个标签，且书中有子标签&lt;书名&gt;、&lt;作者&gt;、&lt;售价&gt;</span><br><span class="line">&lt;!ELEMENT 书名(#PCDATA)&gt;	表示&lt;书名&gt;是一个标签，且&lt;书名&gt;里面是普通文本</span><br><span class="line">&lt;!ELEMENT 作者(#PCDATA)&gt;	表示&lt;作者&gt;是一个标签，且&lt;作者&gt;里面是普通文本</span><br><span class="line">&lt;!ELEMENT 售价(#PCDATA)&gt;	表示&lt;售价&gt;是一个标签，且&lt;售价&gt;里面是普通文本</span><br></pre></td></tr></tbody></table></figure>

</li>
<li><p>Schame约束案例<br>如下图所示，左边的book2.xml文件就受到右边schame文件（.xsd结尾的文件）的约束。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057579380-6537dee2-4b6c-4376-a37d-587f66f8f11c.png#averageHue=%23fcfcfb&amp;id=JlNmy&amp;originHeight=1226&amp;originWidth=2483&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
</li>
</ul>
<h2 id="三、日志技术"><a href="#三、日志技术" class="headerlink" title="三、日志技术"></a>三、日志技术</h2><h3 id="3-1-日志概述"><a href="#3-1-日志概述" class="headerlink" title="3.1 日志概述"></a>3.1 日志概述</h3><p>好的同学们，接下来我们学习一个将来我们会用到的一个技术，叫做日志技术。首先同学们肯定想知道什么是日志？</p>
<p>想搞清楚什么是日志，其实可以通过下面几个问题来了解的。</p>
<ul>
<li>系统系统能记住某些数据被谁操作，比如被谁删除了？</li>
<li>想分析用户浏览系统的具体情况，比如挖掘用户的具体喜好？</li>
<li>当系统在开发中或者上线后出现了Bug，崩溃了，该通过什么去分析，定位Bug?</li>
</ul>
<p>而日志就可以帮我们解决以上的问题。所以日志就好比生活中的日记，日记可以记录生活中的点点滴滴；而程序中的日志，通常就是一个文件，里面记录了程序运行过程中产生的各种数据。</p>
<p>日志技术有如下好处</p>
<ol>
<li>日志可以将系统执行的信息，方便的记录到指定位置，可以是控制台、可以是文件、可以是数据库中。</li>
<li>日志可以随时以开关的形式控制启停，无需侵入到源代码中去修改。</li>
</ol>
<h3 id="3-2-日志的体系"><a href="#3-2-日志的体系" class="headerlink" title="3.2 日志的体系"></a>3.2 日志的体系</h3><p>在上一节给同学们介绍了，什么是日志，日志能干什么。接下来需要给同学们介绍一下有哪些日志技术，以及日志的体系。</p>
<p>大家注意了在行内，其实有很多日志框架给开发者使用。所谓日志框架就是由一些牛人或者第三方公司已经做好的实现代码，后来者就可以直接拿过去使用。</p>
<p>日志框架有很多种，比如有JUL（java.util.logging）、Log4j、logback等。但是这些日志框架如果使用的API方法都不一样的话，使用者的学习成本就很高。为了降低程序员的学习压力，行内提供了一套日志接口，然后所有的日志框架都按照日志接口的API来实现就可以了。</p>
<p>这样程序员只要会一套日志框架，那么其他的也就可以通过用，甚至可以在多套日志框架之间来回切换。比较常用的日志框架，和日志接口的关系如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057579482-857e871e-7a3e-4990-98ef-dff67a40fcc4.png#averageHue=%23f8f3f3&amp;id=ofSed&amp;originHeight=666&amp;originWidth=1513&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>这里推荐同学们使用Logback日志框架，也在行业中最为广泛使用的。</strong></p>
<p><strong>Logback日志分为哪几个模块</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057579585-79629e4c-91d6-429d-b064-35c75ad552f9.png#averageHue=%23f1e6e4&amp;id=xnz5i&amp;originHeight=566&amp;originWidth=1307&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="3-3-Logback快速入门"><a href="#3-3-Logback快速入门" class="headerlink" title="3.3 Logback快速入门"></a>3.3 Logback快速入门</h3><p>接下来，就带领同学们快速使用一下Logback日志框架，使用Logback记录几条日志信息到文件中去和将日志信息打印在控制台上。</p>
<p>由于Logback是第三方提供的技术，所以首先需要啊将Jar包引入到项目中，具体步骤如下</p>
<ol>
<li><p>在资料中找到<code>slftj-api.jar、logback-core.jar、logback-classes.jar</code> 这三个jar包，复制一下 </p>
</li>
<li><p>在当前模块下面新建一个lib文件夹，把刚刚复制的三个jar包都粘贴到此处 </p>
</li>
<li><p>从资料中找到<code>logback.xml</code>配置文件，将此文件复制粘贴到src目录下（必须是src目录） </p>
</li>
<li><p>然后就可以开始写代码了，在代码中创建一个日志记录日对象 </p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">LOGGER</span> <span class="operator">=</span> LoggerFactory.getLogger(<span class="string">"当前类名"</span>);</span><br></pre></td></tr></tbody></table></figure>

</li>
<li><p>开始记录日志，代码如下 </p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogBackTest</span> {</span><br><span class="line">    <span class="comment">// 创建一个Logger日志对象</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">LOGGER</span> <span class="operator">=</span> LoggerFactory.getLogger(<span class="string">"LogBackTest"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">//while (true) {</span></span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                LOGGER.info(<span class="string">"chu法方法开始执行~~~"</span>);</span><br><span class="line">                chu(<span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line">                LOGGER.info(<span class="string">"chu法方法执行成功~~~"</span>);</span><br><span class="line">            } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">                LOGGER.error(<span class="string">"chu法方法执行失败了，出现了bug~~~"</span>);</span><br><span class="line">            }</span><br><span class="line">        <span class="comment">//}</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">chu</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>{</span><br><span class="line">        LOGGER.debug(<span class="string">"参数a:"</span> + a);</span><br><span class="line">        LOGGER.debug(<span class="string">"参数b:"</span> + b);</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a / b;</span><br><span class="line">        LOGGER.info(<span class="string">"结果是："</span> + c);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<p>当我们运行程序时，就可以看到控制台记录的日志</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057579829-5055d875-c727-40d9-9032-a5f5b773b335.png#averageHue=%23f6f4f3&amp;id=HV7wi&amp;originHeight=283&amp;originWidth=1804&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>同时在文件中，也有一份这样的日志信息。文件在哪里内，从配置文件中去找</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057579957-1b63c3e2-5b9d-4fb6-87f8-15329bd03258.png#averageHue=%23fbfafa&amp;id=CwRUZ&amp;originHeight=897&amp;originWidth=2458&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>打开<code>D:/log/itheima-data.log</code>看一下文件中是否有记录日志吧！！</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057580153-e909395c-f090-454d-91e9-2cbfbc83c47f.png#averageHue=%23f7f6f4&amp;id=v2Goa&amp;originHeight=307&amp;originWidth=1618&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>关于Logback的快速入门我们就做完了。至于日志的配置文件中，其他的配置是什么含义我们下一节再继续学习。</p>
<h3 id="3-4-日志配置文件"><a href="#3-4-日志配置文件" class="headerlink" title="3.4 日志配置文件"></a>3.4 日志配置文件</h3><p>Logback提供了一个核心配置文件logback.xml，日志框架在记录日志时会读取配置文件中的配置信息，从而记录日志的形式。具体可以做哪些配置呢？</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 可以配置日志输出的位置是文件、还是控制台</span><br><span class="line"><span class="number">2.</span> 可以配置日志输出的格式</span><br><span class="line"><span class="number">3.</span> 还可以配置日志关闭和开启、以及哪些日志输出哪些日志不输出。</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><strong>如下图所示，控制日志往文件中输出，还是往控制台输出</strong></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057580262-71bd6b67-0e85-40ce-8ef2-a15e71891dd7.png#averageHue=%23fefefd&amp;id=aJ7qi&amp;originHeight=836&amp;originWidth=1594&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>如下图所示，控制打开和关闭日志</strong></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057580417-80ebb166-2711-49c1-87d5-de6458bc3bd5.png#averageHue=%23fdfdfd&amp;id=kqmm8&amp;originHeight=204&amp;originWidth=1253&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>如下图所示，控制日志的输出的格式</strong><br>日志格式是由一些特殊的符号组成，可以根据需要删减不想看到的部分。比如不想看到线程名那就不要[%thread]。但是不建议同学们更改这些格式，因为这些都是日志很基本的信息。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057580525-52ef838f-61bb-43bd-bb68-780dc53f9a98.png#averageHue=%23fcfcfb&amp;id=GGac0&amp;originHeight=454&amp;originWidth=1666&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="3-5-配置日志级别"><a href="#3-5-配置日志级别" class="headerlink" title="3.5 配置日志级别"></a>3.5 配置日志级别</h3><p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057580654-ff8a2092-8163-45dd-a9de-1d07199a9d34.png#averageHue=%23efeeee&amp;id=OWxzB&amp;originHeight=501&amp;originWidth=1308&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>在哪里配置日志级别呢？如下图所示</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057580786-c955e79f-56a7-4340-b5bf-14adef8c66c6.png#averageHue=%23fdfcf9&amp;id=BorjA&amp;originHeight=211&amp;originWidth=1120&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>Logback只输出大于或者等于核心配置文件配置的日志级别信息。小于配置级别的日志信息，不被记录。 <figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">配置的是trace，则trace、debug、info、warn、error级别的日志都被输出</span><br><span class="line">配置的是debug, 则debug、info、warn、error级别的日志被输出</span><br><span class="line">配置的是info,则info、warn、error级别的日志被输出</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<h2 id="三、多线程"><a href="#三、多线程" class="headerlink" title="三、多线程"></a>三、多线程</h2><p>同学们，接下来我们来学习一个全新而且非常重要的知识，叫做多线程。首先和同学们聊聊什么是线程？<strong>线程其实是程序中的一条执行路径。</strong></p>
<p>我们之前写过的程序，其实都是单线程程序，如下图代码，如果前面的for循环没有执行完，for循环下面的代码是不会执行的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057580892-e4097ec0-dbf8-42d8-8f96-0db041636508.png#averageHue=%23f8f5dc&amp;id=eCxE9&amp;originHeight=389&amp;originWidth=697&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>怎样的程序才是多线程程序呢？</strong> 如下图所示，12306网站就是支持多线程的，因为同时可以有很多人一起进入网站购票，而且每一个人互不影响。再比如百度网盘，可以同时下载或者上传多个文件。这些程序中其实就有多条执行路径，每一条执行执行路径就是一条线程，所以这样的程序就是多线程程序。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057581033-e36e5755-5490-4815-b421-8506a7a8a518.png#averageHue=%23e6e7e5&amp;id=ZlQIT&amp;originHeight=415&amp;originWidth=1728&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>认识了什么是多线程程序，那如何使用Java创建线程呢？ Java提供了几种创建线程的方式，下一节再一种一种的学习。</p>
<h3 id="4-1-线程创建方式1"><a href="#4-1-线程创建方式1" class="headerlink" title="4.1 线程创建方式1"></a>4.1 线程创建方式1</h3><p>Java为开发者提供了一个类叫做Thread，此类的对象用来表示线程。创建线程并执行线程的步骤如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>定义一个子类继承Thread类，并重写run方法</span><br><span class="line"><span class="number">2.</span>创建Thread的子类对象</span><br><span class="line"><span class="number">3.</span>调用start方法启动线程（启动线程后，会自动执行run方法中的代码）</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>{</span><br><span class="line">    <span class="comment">// 2、必须重写Thread类的run方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">// 描述线程的执行任务。</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">            System.out.println(<span class="string">"子线程MyThread输出："</span> + i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再定义一个测试类，在测试类中创建MyThread线程对象，并启动线程</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest1</span> {</span><br><span class="line">    <span class="comment">// main方法是由一条默认的主线程负责执行。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 3、创建MyThread线程类的对象代表一个线程</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        <span class="comment">// 4、启动线程（自动执行run方法的）</span></span><br><span class="line">        t.start(); </span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">            System.out.println(<span class="string">"主线程main输出："</span> + i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>打印结果如下图所示，我们会发现MyThread和main线程在相互抢夺CPU的执行权（<strong>注意：哪一个线程先执行，哪一个线程后执行，目前我们是无法控制的，每次输出结果都会不一样</strong>）</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057581202-4d79619e-e8a4-491c-a42d-df345bca111b.png#id=mcgoi&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>最后我们还需要注意一点</strong>：不能直接去调用run方法，如果直接调用run方法就不认为是一条线程启动了，而是把Thread当做一个普通对象，此时run方法中的执行的代码会成为主线程的一部分。此时执行结果是这样的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057581306-176db0dc-8324-4340-9231-112ba2400a0b.png#id=gdMym&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-2-线程创建方式2"><a href="#4-2-线程创建方式2" class="headerlink" title="4.2 线程创建方式2"></a>4.2 线程创建方式2</h3><p>接下来我们学习线程的第二种创建方式。Java为开发者提供了一个Runnable接口，该接口中只有一个run方法，意思就是通过Runnable接口的实现类对象专门来表示线程要执行的任务。具体步骤如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>先写一个Runnable接口的实现类，重写run方法(这里面就是线程要执行的代码)</span><br><span class="line"><span class="number">2.</span>再创建一个Runnable实现类的对象</span><br><span class="line"><span class="number">3.</span>创建一个Thread对象，把Runnable实现类的对象传递给Thread</span><br><span class="line"><span class="number">4.</span>调用Thread对象的start()方法启动线程（启动后会自动执行Runnable里面的run方法）</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下：先准备一个Runnable接口的实现类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1、定义一个任务类，实现Runnable接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>{</span><br><span class="line">    <span class="comment">// 2、重写runnable的run方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">// 线程要执行的任务。</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">            System.out.println(<span class="string">"子线程输出 ===》"</span> + i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再写一个测试类，在测试类中创建线程对象，并执行线程</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 3、创建任务对象。</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line">        <span class="comment">// 4、把任务对象交给一个线程对象处理。</span></span><br><span class="line">        <span class="comment">//  public Thread(Runnable target)</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(target).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">            System.out.println(<span class="string">"主线程main输出 ===》"</span> + i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行上面代码，结果如下图所示<strong>（注意：没有出现下面交替执行的效果，也是正常的）</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">主线程main输出 ===》<span class="number">1</span></span><br><span class="line">主线程main输出 ===》<span class="number">2</span></span><br><span class="line">主线程main输出 ===》<span class="number">3</span></span><br><span class="line">子线程输出 ===》<span class="number">1</span></span><br><span class="line">子线程输出 ===》<span class="number">2</span></span><br><span class="line">子线程输出 ===》<span class="number">3</span></span><br><span class="line">子线程输出 ===》<span class="number">4</span></span><br><span class="line">子线程输出 ===》<span class="number">5</span></span><br><span class="line">主线程main输出 ===》<span class="number">4</span></span><br><span class="line">主线程main输出 ===》<span class="number">5</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-3-线程创建方式2—匿名内部类"><a href="#4-3-线程创建方式2—匿名内部类" class="headerlink" title="4.3 线程创建方式2—匿名内部类"></a>4.3 线程创建方式2—匿名内部类</h3><p>同学们注意了，现在这种写法不是新知识。只是将前面第二种方式用匿名内部类改写一下。因为同学们在看别人写的代码时，有可能会看到这种写法。你知道是怎么回事就可以了。</p>
<p>刚刚我们学习的第二种线程的创建方式，需要写一个Runnable接口的实现类，然后再把Runnable实现类的对象传递给Thread对象。</p>
<p><strong>现在我不想写Runnable实现类，于是可以直接创建Runnable接口的匿名内部类对象，传递给Thread对象。</strong></p>
<p>代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest2_2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">// 1、直接创建Runnable接口的匿名内部类形式（任务对象）</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">                    System.out.println(<span class="string">"子线程1输出："</span> + i);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        };</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(target).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 简化形式1：</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">                    System.out.println(<span class="string">"子线程2输出："</span> + i);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 简化形式2：</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; {</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">                    System.out.println(<span class="string">"子线程3输出："</span> + i);</span><br><span class="line">                }</span><br><span class="line">        }).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">            System.out.println(<span class="string">"主线程main输出："</span> + i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-4-线程的创建方式3"><a href="#4-4-线程的创建方式3" class="headerlink" title="4.4 线程的创建方式3"></a>4.4 线程的创建方式3</h3><p>接下来，我们学习线程的第三种创建方式。已经有两种了为什么还有要第三种呢？ 这样，我们先分析一下前面两种都存在的一个问题。然后再引出第三种可以解决这个问题。</p>
<ul>
<li><p>假设线程执行完毕之后有一些数据需要返回，前面两种方式重写的run方法均没有返回结果。 </p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>{</span><br><span class="line">    ...线程执行的代码...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

</li>
<li><p>JDK5提供了Callable接口和FutureTask类来创建线程，它最大的优点就是有返回值。<br>在Callable接口中有一个call方法，重写call方法就是线程要执行的代码，它是有返回值的 </p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> T <span class="title function_">call</span><span class="params">()</span>{</span><br><span class="line">    ...线程执行的代码...</span><br><span class="line">    <span class="keyword">return</span> 结果;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p><strong>第三种创建线程的方式，步骤如下</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>先定义一个Callable接口的实现类，重写call方法</span><br><span class="line"><span class="number">2.</span>创建Callable实现类的对象</span><br><span class="line"><span class="number">3.</span>创建FutureTask类的对象，将Callable对象传递给FutureTask</span><br><span class="line"><span class="number">4.</span>创建Thread对象，将Future对象传递给Thread</span><br><span class="line"><span class="number">5.</span>调用Thread的start()方法启动线程(启动后会自动执行call方法)</span><br><span class="line">   等call()方法执行完之后，会自动将返回值结果封装到FutrueTask对象中</span><br><span class="line">   </span><br><span class="line"><span class="number">6.</span>调用FutrueTask对的get()方法获取返回结果</span><br></pre></td></tr></tbody></table></figure>

<p>代码如下：先准备一个Callable接口的实现类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1、让子类继承Thread线程类。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>{</span><br><span class="line">    <span class="comment">// 2、必须重写Thread类的run方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">// 描述线程的执行任务。</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">            System.out.println(<span class="string">"子线程MyThread输出："</span> + i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再定义一个测试类，在测试类中创建线程并启动线程，还要获取返回结果</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 3、创建一个Callable的对象</span></span><br><span class="line">        Callable&lt;String&gt; call = <span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">100</span>);</span><br><span class="line">        <span class="comment">// 4、把Callable的对象封装成一个FutureTask对象（任务对象）</span></span><br><span class="line">        <span class="comment">// 未来任务对象的作用？</span></span><br><span class="line">        <span class="comment">// 1、是一个任务对象，实现了Runnable对象.</span></span><br><span class="line">        <span class="comment">// 2、可以在线程执行完毕之后，用未来任务对象调用get方法获取线程执行完毕后的结果。</span></span><br><span class="line">        FutureTask&lt;String&gt; f1  = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(call);</span><br><span class="line">        <span class="comment">// 5、把任务对象交给一个Thread对象</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(f1).start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Callable&lt;String&gt; call2 = <span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">200</span>);</span><br><span class="line">        FutureTask&lt;String&gt; f2  = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(call2);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(f2).start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、获取线程执行完毕后返回的结果。</span></span><br><span class="line">        <span class="comment">// 注意：如果执行到这儿，假如上面的线程还没有执行完毕</span></span><br><span class="line">        <span class="comment">// 这里的代码会暂停，等待上面线程执行完毕后才会获取结果。</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> f1.get();</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs2</span> <span class="operator">=</span> f2.get();</span><br><span class="line">        System.out.println(rs2);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day10-多线程"><a href="#day10-多线程" class="headerlink" title="day10-多线程"></a>day10-多线程</h1><h2 id="一、多线程常用方法"><a href="#一、多线程常用方法" class="headerlink" title="一、多线程常用方法"></a>一、多线程常用方法</h2><p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057581483-7adb6487-2bea-4420-b40f-691047375e21.png#id=sUhjj&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面我们演示一下<code>getName()</code>、<code>setName(String name)</code>、<code>currentThread()</code>、<code>sleep(long time)</code>这些方法的使用效果。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyThread</span><span class="params">(String name)</span>{</span><br><span class="line">        <span class="built_in">super</span>(name); <span class="comment">//1.执行父类Thread(String name)构造器，为当前线程设置名字了</span></span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">//2.currentThread() 哪个线程执行它，它就会得到哪个线程对象。</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++) {</span><br><span class="line">            <span class="comment">//3.getName() 获取线程名称</span></span><br><span class="line">            System.out.println(t.getName() + <span class="string">"输出："</span> + i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再测试类中，创建线程对象，并启动线程</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest1</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        t1.setName(String name) <span class="comment">//设置线程名称;</span></span><br><span class="line">        t1.start();</span><br><span class="line">        System.out.println(t1.getName());  <span class="comment">//Thread-0</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>(<span class="string">"2号线程"</span>);</span><br><span class="line">        <span class="comment">// t2.setName("2号线程");</span></span><br><span class="line">        t2.start();</span><br><span class="line">        System.out.println(t2.getName()); <span class="comment">// Thread-1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 主线程对象的名字</span></span><br><span class="line">        <span class="comment">// 哪个线程执行它，它就会得到哪个线程对象。</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">m</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        m.setName(<span class="string">"最牛的线程"</span>);</span><br><span class="line">        System.out.println(m.getName()); <span class="comment">// main</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {</span><br><span class="line">            System.out.println(m.getName() + <span class="string">"线程输出："</span> + i);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>执行上面代码，效果如下图所示，我们发现每一条线程都有自己了名字了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057581703-4d965ddc-df28-490a-a99a-db2b3320d813.png#id=zszI0&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>最后再演示一下join这个方法是什么效果。</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// join方法作用：让当前调用这个方法的线程先执行完。</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>(<span class="string">"1号线程"</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t1.join();</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>(<span class="string">"2号线程"</span>);</span><br><span class="line">        t2.start();</span><br><span class="line">        t2.join();</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>(<span class="string">"3号线程"</span>);</span><br><span class="line">        t3.start();</span><br><span class="line">        t3.join();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>执行效果是1号线程先执行完，再执行2号线程；2号线程执行完，再执行3号线程；3号线程执行完就结束了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057581799-b053647b-16ec-401c-9dae-36f156dcad35.png#id=X7Isv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们再尝试，把join()方法去掉，再看执行效果。此时你会发现2号线程没有执行完1号线程就执行了<strong>（效果是多次运行才出现的，根据个人电脑而异，可能有同学半天也出现不了也是正常的）</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057581907-2848b3ee-45d9-4d00-bd35-63b32210bfdc.png#id=i368A&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="二、线程安全问题"><a href="#二、线程安全问题" class="headerlink" title="二、线程安全问题"></a>二、线程安全问题</h2><p>各位小伙伴，前面我们已经学习了如何创建线程，以及线程的常用方法。接下来，我们要学习一个在实际开发过程中，使用线程时最重要的一个问题，叫线程安全问题。</p>
<h3 id="2-1-线程安全问题概述"><a href="#2-1-线程安全问题概述" class="headerlink" title="2.1 线程安全问题概述"></a>2.1 线程安全问题概述</h3><ul>
<li><strong>首先，什么是线程安全问题呢？</strong></li>
</ul>
<p><strong>线程安全问题指的是，多个线程同时操作同一个共享资源的时候，可能会出现业务安全问题。</strong></p>
<p>下面通过一个取钱的案例给同学们演示一下。案例需求如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">场景：小明和小红是一对夫妻，他们有一个共享账户，余额是<span class="number">10</span>万元，小红和小明同时来取钱，并且<span class="number">2</span>人各自都在取钱<span class="number">10</span>万元，可能出现什么问题呢？</span><br></pre></td></tr></tbody></table></figure>

<p>如下图所示，小明和小红假设都是一个线程，本类每个线程都应该执行完三步操作，才算是完成的取钱的操作。但是真实执行过程可能是下面这样子的</p>
<pre><code>① 小红线程只执行了判断余额是否足够（条件为true），然后CPU的执行权就被小红线程抢走了。

② 小红线程也执行了判断了余额是否足够（条件也是true）, 然后CPU执行权又被小明线程抢走了。

③ 小明线程由于刚才已经判断余额是否足够了，直接执行第2步，吐出了10万元钱，此时共享账户月为0。然后CPU执行权又被小红线程抢走。

④ 小红线程由于刚刚也已经判断余额是否足够了，直接执行第2步，吐出了10万元钱，此时共享账户月为-10万。
</code></pre>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057582021-a3ac474f-5e2c-4cb0-8215-883dbf259bcf.png#id=olIVx&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>你会发现，在这个取钱案例中，两个人把共享账户的钱都取了10万，但问题是只有10万块钱啊！！！</strong></p>
<p>以上取钱案例中的问题，就是线程安全问题的一种体现。</p>
<h3 id="2-2-线程安全问题的代码演示"><a href="#2-2-线程安全问题的代码演示" class="headerlink" title="2.2 线程安全问题的代码演示"></a>2.2 线程安全问题的代码演示</h3><p>先定义一个共享的账户类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> {</span><br><span class="line">    <span class="keyword">private</span> String cardId; <span class="comment">// 卡号</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> money; <span class="comment">// 余额。</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">()</span> {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(String cardId, <span class="type">double</span> money)</span> {</span><br><span class="line">        <span class="built_in">this</span>.cardId = cardId;</span><br><span class="line">        <span class="built_in">this</span>.money = money;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 小明 小红同时过来的</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawMoney</span><span class="params">(<span class="type">double</span> money)</span> {</span><br><span class="line">        <span class="comment">// 先搞清楚是谁来取钱？</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">        <span class="comment">// 1、判断余额是否足够</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.money &gt;= money){</span><br><span class="line">            System.out.println(name + <span class="string">"来取钱"</span> + money + <span class="string">"成功！"</span>);</span><br><span class="line">            <span class="built_in">this</span>.money -= money;</span><br><span class="line">            System.out.println(name + <span class="string">"来取钱后，余额剩余："</span> + <span class="built_in">this</span>.money);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            System.out.println(name + <span class="string">"来取钱：余额不足~"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCardId</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> cardId;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCardId</span><span class="params">(String cardId)</span> {</span><br><span class="line">        <span class="built_in">this</span>.cardId = cardId;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getMoney</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMoney</span><span class="params">(<span class="type">double</span> money)</span> {</span><br><span class="line">        <span class="built_in">this</span>.money = money;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>在定义一个是取钱的线程类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DrawThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>{</span><br><span class="line">    <span class="keyword">private</span> Account acc;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DrawThread</span><span class="params">(Account acc, String name)</span>{</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.acc = acc;</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">// 取钱(小明，小红)</span></span><br><span class="line">        acc.drawMoney(<span class="number">100000</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最后，再写一个测试类，在测试类中创建两个线程对象</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">         <span class="comment">// 1、创建一个账户对象，代表两个人的共享账户。</span></span><br><span class="line">        <span class="type">Account</span> <span class="variable">acc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="string">"ICBC-110"</span>, <span class="number">100000</span>);</span><br><span class="line">        <span class="comment">// 2、创建两个线程，分别代表小明 小红，再去同一个账户对象中取钱10万。</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">DrawThread</span>(acc, <span class="string">"小明"</span>).start(); <span class="comment">// 小明</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">DrawThread</span>(acc, <span class="string">"小红"</span>).start(); <span class="comment">// 小红</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行程序，执行效果如下。你会发现两个人都取了10万块钱，余额为-10完了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057582220-f6645668-06f2-44a2-b0b6-1263b91a4d7a.png#id=exj5z&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-3-线程同步方案"><a href="#2-3-线程同步方案" class="headerlink" title="2.3 线程同步方案"></a>2.3 线程同步方案</h3><p>为了解决前面的线程安全问题，我们可以使用线程同步思想。同步最常见的方案就是加锁，<strong>意思是每次只允许一个线程加锁，加锁后才能进入访问，访问完毕后自动释放锁，然后其他线程才能再加锁进来。</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057582325-6dc7e49c-f6d1-47d8-9553-91cda7fb388b.png#id=xAw5D&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>等小红线程执行完了，把余额改为0，出去了就会释放锁。这时小明线程就可以加锁进来执行，如下图所示。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057582451-5e0b7614-80d6-493a-9bc6-e6324d76f89a.png#id=KCksF&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>采用加锁的方案，就可以解决前面两个线程都取10万块钱的问题。怎么加锁呢？Java提供了三种方案</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>同步代码块</span><br><span class="line"><span class="number">2.</span>同步方法</span><br><span class="line"><span class="number">3.</span>Lock锁</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-4-同步代码块"><a href="#2-4-同步代码块" class="headerlink" title="2.4 同步代码块"></a>2.4 同步代码块</h3><p>我们先来学习同步代码块。它的作用就是把访问共享数据的代码锁起来，以此保证线程安全。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//锁对象：必须是一个唯一的对象（同一个地址）</span></span><br><span class="line"><span class="keyword">synchronized</span>(锁对象){</span><br><span class="line">    <span class="comment">//...访问共享数据的代码...</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>使用同步代码块，来解决前面代码里面的线程安全问题。我们只需要修改DrawThread类中的代码即可。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 小明 小红线程同时过来的</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawMoney</span><span class="params">(<span class="type">double</span> money)</span> {</span><br><span class="line">    <span class="comment">// 先搞清楚是谁来取钱？</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">    <span class="comment">// 1、判断余额是否足够</span></span><br><span class="line">    <span class="comment">// this正好代表共享资源！</span></span><br><span class="line">    <span class="keyword">synchronized</span> (<span class="built_in">this</span>) {</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.money &gt;= money){</span><br><span class="line">            System.out.println(name + <span class="string">"来取钱"</span> + money + <span class="string">"成功！"</span>);</span><br><span class="line">            <span class="built_in">this</span>.money -= money;</span><br><span class="line">            System.out.println(name + <span class="string">"来取钱后，余额剩余："</span> + <span class="built_in">this</span>.money);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            System.out.println(name + <span class="string">"来取钱：余额不足~"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>此时再运行测试类，观察是否会出现不合理的情况。</p>
<p><strong>最后，再给同学们说一下锁对象如何选择的问题</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>建议把共享资源作为锁对象, 不要将随便无关的对象当做锁对象</span><br><span class="line"><span class="number">2.</span>对于实例方法，建议使用<span class="built_in">this</span>作为锁对象</span><br><span class="line"><span class="number">3.</span>对于静态方法，建议把类的字节码(类名.class)当做锁对象</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-5-同步方法"><a href="#2-5-同步方法" class="headerlink" title="2.5 同步方法"></a>2.5 同步方法</h3><p>接下来，学习同步方法解决线程安全问题。<strong>其实同步方法，就是把整个方法给锁住，一个线程调用这个方法，另一个线程调用的时候就执行不了，只有等上一个线程调用结束，下一个线程调用才能继续执行。</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 同步方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">drawMoney</span><span class="params">(<span class="type">double</span> money)</span> {</span><br><span class="line">    <span class="comment">// 先搞清楚是谁来取钱？</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">    <span class="comment">// 1、判断余额是否足够</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.money &gt;= money){</span><br><span class="line">        System.out.println(name + <span class="string">"来取钱"</span> + money + <span class="string">"成功！"</span>);</span><br><span class="line">        <span class="built_in">this</span>.money -= money;</span><br><span class="line">        System.out.println(name + <span class="string">"来取钱后，余额剩余："</span> + <span class="built_in">this</span>.money);</span><br><span class="line">    }<span class="keyword">else</span> {</span><br><span class="line">        System.out.println(name + <span class="string">"来取钱：余额不足~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>改完之后，再次运行测试类，观察是否会出现不合理的情况。</p>
<p><strong>接着，再问同学们一个问题，同步方法有没有锁对象？锁对象是谁？</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">同步方法也是有锁对象，只不过这个锁对象没有显示的写出来而已。</span><br><span class="line">	<span class="number">1.</span>对于实例方法，锁对象其实是<span class="built_in">this</span>（也就是方法的调用者）</span><br><span class="line">	<span class="number">2.</span>对于静态方法，锁对象时类的字节码对象（类名.class）</span><br></pre></td></tr></tbody></table></figure>

<p><strong>最终，总结一下同步代码块和同步方法有什么区别？</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>不存在哪个好与不好，只是一个锁住的范围大，一个范围小</span><br><span class="line"><span class="number">2.</span>同步方法是将方法中所有的代码锁住</span><br><span class="line"><span class="number">3.</span>同步代码块是将方法中的部分代码锁住</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-6-Lock锁"><a href="#2-6-Lock锁" class="headerlink" title="2.6 Lock锁"></a>2.6 Lock锁</h3><p>接下来，我们再来学习一种，线程安全问题的解决办法，叫做Lock锁。</p>
<p>Lock锁是JDK5版本专门提供的一种锁对象，通过这个锁对象的方法来达到加锁，和释放锁的目的，使用起来更加灵活。格式如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>首先在成员变量位子，需要创建一个Lock接口的实现类对象（这个对象就是锁对象）</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Lock</span> <span class="variable">lk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line"><span class="number">2.</span>在需要上锁的地方加入下面的代码</span><br><span class="line">	 lk.lock(); <span class="comment">// 加锁</span></span><br><span class="line">	 <span class="comment">//...中间是被锁住的代码...</span></span><br><span class="line">	 lk.unlock(); <span class="comment">// 解锁</span></span><br></pre></td></tr></tbody></table></figure>

<p>使用Lock锁改写前面DrawThread中取钱的方法，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建了一个锁对象</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Lock</span> <span class="variable">lk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawMoney</span><span class="params">(<span class="type">double</span> money)</span> {</span><br><span class="line">        <span class="comment">// 先搞清楚是谁来取钱？</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            lk.lock(); <span class="comment">// 加锁</span></span><br><span class="line">            <span class="comment">// 1、判断余额是否足够</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">this</span>.money &gt;= money){</span><br><span class="line">                System.out.println(name + <span class="string">"来取钱"</span> + money + <span class="string">"成功！"</span>);</span><br><span class="line">                <span class="built_in">this</span>.money -= money;</span><br><span class="line">                System.out.println(name + <span class="string">"来取钱后，余额剩余："</span> + <span class="built_in">this</span>.money);</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                System.out.println(name + <span class="string">"来取钱：余额不足~"</span>);</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        } <span class="keyword">finally</span> {</span><br><span class="line">            lk.unlock(); <span class="comment">// 解锁</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行程序结果，观察是否有线程安全问题。到此三种解决线程安全问题的办法我们就学习完了。</p>
<h2 id="三、线程通信（了解）"><a href="#三、线程通信（了解）" class="headerlink" title="三、线程通信（了解）"></a>三、线程通信（了解）</h2><p>接下来，我们学习一下线程通信。</p>
<p><strong>首先，什么是线程通信呢？</strong></p>
<ul>
<li>当多个线程共同操作共享资源时，线程间通过某种方式互相告知自己的状态，以相互协调，避免无效的资源挣抢。</li>
</ul>
<p><strong>线程通信的常见模式：是生产者与消费者模型</strong></p>
<ul>
<li>生产者线程负责生成数据</li>
<li>消费者线程负责消费生产者生成的数据</li>
<li>注意：生产者生产完数据后应该让自己等待，通知其他消费者消费；消费者消费完数据之后应该让自己等待，同时通知生产者生成。</li>
</ul>
<p>比如下面案例中，有3个厨师（生产者线程），两个顾客（消费者线程）。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057582562-3c931096-f098-4977-bf92-9b7f4e820479.png#id=DpS0r&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，我们先分析一下完成这个案例的思路</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>先确定在这个案例中，什么是共享数据？</span><br><span class="line">	答：这里案例中桌子是共享数据，因为厨师和顾客都需要对桌子上的包子进行操作。</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>再确定有那几条线程？哪个是生产者，哪个是消费者？</span><br><span class="line">	答：厨师是生产者线程，<span class="number">3</span>条生产者线程； </span><br><span class="line">	   顾客是消费者线程，<span class="number">2</span>条消费者线程</span><br><span class="line">	   </span><br><span class="line"><span class="number">3.</span>什么时候将哪一个线程设置为什么状态</span><br><span class="line">	生产者线程(厨师)放包子：</span><br><span class="line">		 <span class="number">1</span>)先判断是否有包子</span><br><span class="line">		 <span class="number">2</span>)没有包子时，厨师开始做包子, 做完之后把别人唤醒，然后让自己等待</span><br><span class="line">		 <span class="number">3</span>)有包子时，不做包子了，直接唤醒别人、然后让自己等待</span><br><span class="line">		 	</span><br><span class="line">	消费者线程(顾客)吃包子：</span><br><span class="line">		 <span class="number">1</span>)先判断是否有包子</span><br><span class="line">		 <span class="number">2</span>)有包子时，顾客开始吃包子, 吃完之后把别人唤醒，然后让自己等待</span><br><span class="line">		 <span class="number">3</span>)没有包子时，不吃包子了，直接唤醒别人、然后让自己等待</span><br></pre></td></tr></tbody></table></figure>

<p>按照上面分析的思路写代码。先写桌子类，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Desk</span> {</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 放1个包子的方法</span></span><br><span class="line">    <span class="comment">// 厨师1 厨师2 厨师3</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">            <span class="comment">// 判断是否有包子。</span></span><br><span class="line">            <span class="keyword">if</span>(list.size() == <span class="number">0</span>){</span><br><span class="line">                list.add(name + <span class="string">"做的肉包子"</span>);</span><br><span class="line">                System.out.println(name + <span class="string">"做了一个肉包子~~"</span>);</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 唤醒别人, 等待自己</span></span><br><span class="line">                <span class="built_in">this</span>.notifyAll();</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="comment">// 有包子了，不做了。</span></span><br><span class="line">                <span class="comment">// 唤醒别人, 等待自己</span></span><br><span class="line">                <span class="built_in">this</span>.notifyAll();</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 吃货1 吃货2</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">get</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">            <span class="keyword">if</span>(list.size() == <span class="number">1</span>){</span><br><span class="line">                <span class="comment">// 有包子，吃了</span></span><br><span class="line">                System.out.println(name  + <span class="string">"吃了："</span> + list.get(<span class="number">0</span>));</span><br><span class="line">                list.clear();</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                <span class="built_in">this</span>.notifyAll();</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            }<span class="keyword">else</span> {</span><br><span class="line">                <span class="comment">// 没有包子</span></span><br><span class="line">                <span class="built_in">this</span>.notifyAll();</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再写测试类，在测试类中，创建3个厨师线程对象，再创建2个顾客对象，并启动所有线程</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">//   需求：3个生产者线程，负责生产包子，每个线程每次只能生产1个包子放在桌子上</span></span><br><span class="line">        <span class="comment">//      2个消费者线程负责吃包子，每人每次只能从桌子上拿1个包子吃。</span></span><br><span class="line">        <span class="type">Desk</span> <span class="variable">desk</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Desk</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建3个生产者线程（3个厨师）</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; {</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">                desk.put();</span><br><span class="line">            }</span><br><span class="line">        }, <span class="string">"厨师1"</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; {</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">                desk.put();</span><br><span class="line">            }</span><br><span class="line">        }, <span class="string">"厨师2"</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; {</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">                desk.put();</span><br><span class="line">            }</span><br><span class="line">        }, <span class="string">"厨师3"</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建2个消费者线程（2个吃货）</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; {</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">                desk.get();</span><br><span class="line">            }</span><br><span class="line">        }, <span class="string">"吃货1"</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; {</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">                desk.get();</span><br><span class="line">            }</span><br><span class="line">        }, <span class="string">"吃货2"</span>).start();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>执行上面代码，运行结果如下：你会发现多个线程相互协调执行，避免无效的资源挣抢。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">厨师1做了一个肉包子~~</span><br><span class="line">吃货2吃了：厨师1做的肉包子</span><br><span class="line">厨师3做了一个肉包子~~</span><br><span class="line">吃货2吃了：厨师3做的肉包子</span><br><span class="line">厨师1做了一个肉包子~~</span><br><span class="line">吃货1吃了：厨师1做的肉包子</span><br><span class="line">厨师2做了一个肉包子~~</span><br><span class="line">吃货2吃了：厨师2做的肉包子</span><br><span class="line">厨师3做了一个肉包子~~</span><br><span class="line">吃货1吃了：厨师3做的肉包子</span><br></pre></td></tr></tbody></table></figure>

<h2 id="四、线程池"><a href="#四、线程池" class="headerlink" title="四、线程池"></a>四、线程池</h2><h3 id="4-1-线程池概述"><a href="#4-1-线程池概述" class="headerlink" title="4.1 线程池概述"></a>4.1 线程池概述</h3><p>各位小伙伴，接下来我们学习一下线程池技术。先认识一下什么是线程池技术？ 其实，<strong>线程池就是一个可以复用线程的技术</strong>。</p>
<p>要理解什么是线程复用技术，我们先得看一下不使用线程池会有什么问题，理解了这些问题之后，我们在解释线程复用同学们就好理解了。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">假设：用户每次发起一个请求给后台，后台就创建一个新的线程来处理，下次新的任务过来肯定也会创建新的线程，如果用户量非常大，创建的线程也讲越来越多。然而，创建线程是开销很大的，并且请求过多时，会严重影响系统性能。</span><br></pre></td></tr></tbody></table></figure>

<p>而使用线程池，就可以解决上面的问题。如下图所示，线程池内部会有一个容器，存储几个核心线程，假设有3个核心线程，这3个核心线程可以处理3个任务。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057582763-7d046fe8-379c-4e2d-9e19-e65f2e2344bf.png#id=JGTtD&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>但是任务总有被执行完的时候，假设第1个线程的任务执行完了，那么第1个线程就空闲下来了，有新的任务时，空闲下来的第1个线程可以去执行其他任务。依此内推，这3个线程可以不断的复用，也可以执行很多个任务。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057582917-9c21fa42-b476-4155-b1b3-3d846d927d55.png#id=ZPx5J&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>所以，线程池就是一个线程复用技术，它可以提高线程的利用率。</strong></p>
<h3 id="4-2-创建线程池"><a href="#4-2-创建线程池" class="headerlink" title="4.2 创建线程池"></a>4.2 创建线程池</h3><p>在JDK5版本中提供了代表线程池的接口ExecutorService，而这个接口下有一个实现类叫ThreadPoolExecutor类，使用ThreadPoolExecutor类就可以用来创建线程池对象。</p>
<p>下面是它的构造器，参数比较多，不要怕，干就完了_。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057583074-72edfbd8-4ad8-47cd-8735-8c204c8f107b.png#id=PcSm4&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，用这7个参数的构造器来创建线程池的对象。代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ExecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(</span><br><span class="line">    <span class="number">3</span>,	<span class="comment">//核心线程数有3个</span></span><br><span class="line">    <span class="number">5</span>,  <span class="comment">//最大线程数有5个。   临时线程数=最大线程数-核心线程数=5-3=2</span></span><br><span class="line">    <span class="number">8</span>,	<span class="comment">//临时线程存活的时间8秒。 意思是临时线程8秒没有任务执行，就会被销毁掉。</span></span><br><span class="line">    TimeUnit.SECONDS,<span class="comment">//时间单位（秒）</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">4</span>), <span class="comment">//任务阻塞队列，没有来得及执行的任务在，任务队列中等待</span></span><br><span class="line">    Executors.defaultThreadFactory(), <span class="comment">//用于创建线程的工厂对象</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.CallerRunsPolicy() <span class="comment">//拒绝策略</span></span><br><span class="line">);</span><br></pre></td></tr></tbody></table></figure>

<p>关于线程池，我们需要注意下面的两个问题</p>
<ul>
<li><p>临时线程什么时候创建？ </p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">新任务提交时，发现核心线程都在忙、任务队列满了、并且还可以创建临时线程，此时会创建临时线程。</span><br></pre></td></tr></tbody></table></figure>

</li>
<li><p>什么时候开始拒绝新的任务？ </p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">核心线程和临时线程都在忙、任务队列也满了、新任务过来时才会开始拒绝任务。</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<h3 id="4-3-线程池执行Runnable任务"><a href="#4-3-线程池执行Runnable任务" class="headerlink" title="4.3 线程池执行Runnable任务"></a>4.3 线程池执行Runnable任务</h3><p>创建好线程池之后，接下来我们就可以使用线程池执行任务了。线程池执行的任务可以有两种，一种是Runnable任务；一种是callable任务。下面的execute方法可以用来执行Runnable任务。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057583245-efe00734-e491-4edb-8b9d-7da7c17cf956.png#id=PPGRU&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>先准备一个线程任务类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">// 任务是干啥的？</span></span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">" ==&gt; 输出666~~"</span>);</span><br><span class="line">        <span class="comment">//为了模拟线程一直在执行，这里睡久一点</span></span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            Thread.sleep(Integer.MAX_VALUE);</span><br><span class="line">        } <span class="keyword">catch</span> (InterruptedException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>下面是执行Runnable任务的代码，注意阅读注释，对照着前面的7个参数理解。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ExecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(</span><br><span class="line">    <span class="number">3</span>,	<span class="comment">//核心线程数有3个</span></span><br><span class="line">    <span class="number">5</span>,  <span class="comment">//最大线程数有5个。   临时线程数=最大线程数-核心线程数=5-3=2</span></span><br><span class="line">    <span class="number">8</span>,	<span class="comment">//临时线程存活的时间8秒。 意思是临时线程8秒没有任务执行，就会被销毁掉。</span></span><br><span class="line">    TimeUnit.SECONDS,<span class="comment">//时间单位（秒）</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">4</span>), <span class="comment">//任务阻塞队列，没有来得及执行的任务在，任务队列中等待</span></span><br><span class="line">    Executors.defaultThreadFactory(), <span class="comment">//用于创建线程的工厂对象</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.CallerRunsPolicy() <span class="comment">//拒绝策略</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line">pool.execute(target); <span class="comment">// 线程池会自动创建一个新线程，自动处理这个任务，自动执行的！</span></span><br><span class="line">pool.execute(target); <span class="comment">// 线程池会自动创建一个新线程，自动处理这个任务，自动执行的！</span></span><br><span class="line">pool.execute(target); <span class="comment">// 线程池会自动创建一个新线程，自动处理这个任务，自动执行的！</span></span><br><span class="line"><span class="comment">//下面4个任务在任务队列里排队</span></span><br><span class="line">pool.execute(target);</span><br><span class="line">pool.execute(target);</span><br><span class="line">pool.execute(target);</span><br><span class="line">pool.execute(target);</span><br><span class="line"></span><br><span class="line"><span class="comment">//下面2个任务，会被临时线程的创建时机了</span></span><br><span class="line">pool.execute(target);</span><br><span class="line">pool.execute(target);</span><br><span class="line"><span class="comment">// 到了新任务的拒绝时机了！</span></span><br><span class="line">pool.execute(target);</span><br></pre></td></tr></tbody></table></figure>

<p>执行上面的代码，结果输出如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057583362-198c122d-b038-4d84-93fa-d7901eca9182.png#id=HwYhr&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-4-线程池执行Callable任务"><a href="#4-4-线程池执行Callable任务" class="headerlink" title="4.4 线程池执行Callable任务"></a>4.4 线程池执行Callable任务</h3><p>接下来，我们学习使用线程池执行Callable任务。callable任务相对于Runnable任务来说，就是多了一个返回值。</p>
<p>执行Callable任务需要用到下面的submit方法</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057583472-fd1e0293-8bd9-4f3d-8d3c-27dfa9567108.png#id=ohVWf&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>先准备一个Callable线程任务</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyCallable</span> <span class="keyword">implements</span> <span class="title class_">Callable</span>&lt;String&gt; {</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyCallable</span><span class="params">(<span class="type">int</span> n)</span> {</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、重写call方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 描述线程的任务，返回线程执行返回后的结果。</span></span><br><span class="line">        <span class="comment">// 需求：求1-n的和返回。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) {</span><br><span class="line">            sum += i;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> Thread.currentThread().getName() + <span class="string">"求出了1-"</span> + n + <span class="string">"的和是："</span> + sum;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再准备一个测试类，在测试类中创建线程池，并执行callable任务。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadPoolTest2</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、通过ThreadPoolExecutor创建一个线程池对象。</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(</span><br><span class="line">            <span class="number">3</span>,</span><br><span class="line">            <span class="number">5</span>,</span><br><span class="line">            <span class="number">8</span>,</span><br><span class="line">            TimeUnit.SECONDS, </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">4</span>),</span><br><span class="line">            Executors.defaultThreadFactory(),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.CallerRunsPolicy());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、使用线程处理Callable任务。</span></span><br><span class="line">        Future&lt;String&gt; f1 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">100</span>));</span><br><span class="line">        Future&lt;String&gt; f2 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">200</span>));</span><br><span class="line">        Future&lt;String&gt; f3 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">300</span>));</span><br><span class="line">        Future&lt;String&gt; f4 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">400</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、执行完Callable任务后，需要获取返回结果。</span></span><br><span class="line">        System.out.println(f1.get());</span><br><span class="line">        System.out.println(f2.get());</span><br><span class="line">        System.out.println(f3.get());</span><br><span class="line">        System.out.println(f4.get());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>执行后，结果如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057583612-537bc048-1f6b-4a90-8b48-13b84434d223.png#id=od2bI&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-5-线程池工具类（Executors）"><a href="#4-5-线程池工具类（Executors）" class="headerlink" title="4.5 线程池工具类（Executors）"></a>4.5 线程池工具类（Executors）</h3><p>有同学可能会觉得前面创建线程池的代码参数太多、记不住，有没有快捷的创建线程池的方法呢？有的。Java为开发者提供了一个创建线程池的工具类，叫做Executors，它提供了方法可以创建各种不能特点的线程池。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057583756-ce4b7811-8b52-4d05-95c2-5676a5eadc36.png#id=TIAgo&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，我们演示一下创建固定线程数量的线程池。这几个方法用得不多，所以这里不做过多演示，同学们了解一下就行了。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadPoolTest3</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、通过Executors创建一个线程池对象。</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">17</span>);</span><br><span class="line">        <span class="comment">// 老师：核心线程数量到底配置多少呢？？？</span></span><br><span class="line">        <span class="comment">// 计算密集型的任务：核心线程数量 = CPU的核数 + 1</span></span><br><span class="line">        <span class="comment">// IO密集型的任务：核心线程数量 = CPU核数 * 2</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、使用线程处理Callable任务。</span></span><br><span class="line">        Future&lt;String&gt; f1 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">100</span>));</span><br><span class="line">        Future&lt;String&gt; f2 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">200</span>));</span><br><span class="line">        Future&lt;String&gt; f3 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">300</span>));</span><br><span class="line">        Future&lt;String&gt; f4 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">400</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(f1.get());</span><br><span class="line">        System.out.println(f2.get());</span><br><span class="line">        System.out.println(f3.get());</span><br><span class="line">        System.out.println(f4.get());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>Executors创建线程池这么好用，为什么不推荐同学们使用呢？原因在这里：看下图，这是《阿里巴巴Java开发手册》提供的强制规范要求。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057583880-10a21aea-8fd0-401b-bce0-55c444434c7b.png#id=YjFT6&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="五、补充知识"><a href="#五、补充知识" class="headerlink" title="五、补充知识"></a>五、补充知识</h2><p>最后，我们再补充几个概念性的知识点，同学们知道这些概念什么意思就可以了。</p>
<h3 id="5-1-并发和并行"><a href="#5-1-并发和并行" class="headerlink" title="5.1 并发和并行"></a>5.1 并发和并行</h3><p>先学习第一个补充知识点，并发和并行。在讲解并发和并行的含义之前，我们先来了解一下什么是进程、线程？</p>
<ul>
<li>正常运行的程序（软件）就是一个独立的进程</li>
<li>线程是属于进程，一个进程中包含多个线程</li>
<li>进程中的线程其实并发和并行同时存在（继续往下看）</li>
</ul>
<p>我们可以打开系统的任务管理器看看（快捷键：Ctrl+Shfit+Esc），自己的电脑上目前有哪些进程。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057583993-2e54e948-c72e-4f28-9e28-7ce0eb65626c.png#id=qltbO&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>知道了什么是进程和线程之后，接着我们再来学习并发和并行的含义。</p>
<p><strong>首先，来学习一下什么是并发？</strong></p>
<p>进程中的线程由CPU负责调度执行，但是CPU同时处理线程的数量是优先的，为了保证全部线程都能执行到，CPU采用轮询机制为系统的每个线程服务，由于CPU切换的速度很快，给我们的感觉这些线程在同时执行，这就是并发。（简单记：并发就是多条线程交替执行）</p>
<p><strong>接下，再来学习一下什么是并行？</strong></p>
<p>并行指的是，多个线程同时被CPU调度执行。如下图所示，多个CPU核心在执行多条线程</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057584143-6739a267-1a1b-451b-8189-8ebfb9ff6286.png#id=t1xAN&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p><strong>最后一个问题，多线程到底是并发还是并行呢？</strong></p>
<p>其实多个线程在我们的电脑上执行，并发和并行是同时存在的。</p>
<h3 id="5-2-线程的生命周期"><a href="#5-2-线程的生命周期" class="headerlink" title="5.2 线程的生命周期"></a>5.2 线程的生命周期</h3><p>接下来，我们学习最后一个有关线程的知识点，叫做线程的生命周期。所谓生命周期就是线程从生到死的过程中间有哪些状态，以及这些状态之间是怎么切换的。</p>
<p>为了让大家同好的理解线程的生命周期，先用人的生命周期举个例子，人从生到死有下面的几个过程。在人的生命周期过程中，各种状态之间可能会有切换，线程也是一样的。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057584280-79d54b01-0e70-424f-8df5-18991066b0e2.png#id=fsSMK&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来就来学习线程的生命周期。在Thread类中有一个嵌套的枚举类叫Thread.Status，这里面定义了线程的6中状态。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057584429-e8e482a8-962e-4ab5-8c1a-3c84095ea8db.png#id=Idq8a&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NEW: 新建状态，线程还没有启动</span><br><span class="line">RUNNABLE: 可以运行状态，线程调用了start()方法后处于这个状态</span><br><span class="line">BLOCKED: 锁阻塞状态，没有获取到锁处于这个状态</span><br><span class="line">WAITING: 无限等待状态，线程执行时被调用了wait方法处于这个状态</span><br><span class="line">TIMED_WAITING: 计时等待状态，线程执行时被调用了sleep(毫秒)或者wait(毫秒)方法处于这个状态</span><br><span class="line">TERMINATED: 终止状态, 线程执行完毕或者遇到异常时，处于这个状态。</span><br></pre></td></tr></tbody></table></figure>

<p>这几种状态之间切换关系如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057584549-a7c9c08e-82be-4567-b9c7-7d423394e411.png#id=Ah4TC&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h1 id="day13-网络编程"><a href="#day13-网络编程" class="headerlink" title="day13-网络编程"></a>day13-网络编程</h1><h2 id="一、网络编程概述"><a href="#一、网络编程概述" class="headerlink" title="一、网络编程概述"></a>一、网络编程概述</h2><p>同学们，今天我们学习的课程内容叫网络编程。意思就是编写的应用程序可以与网络上其他设备中的应用程序进行数据交互。</p>
<p>网络编程有什么用呢？这个就不言而喻了，比如我们经常用的微信收发消息就需要用到网络通信的技术、在比如我们打开浏览器可以浏览各种网络、视频等也需要用到网络编程的技术。</p>
<p>我们知道什么是网络编程、也知道网络编程能干什么后了，那Java给我们提供了哪些网络编程的解决方案呢？</p>
<p>Java提供的网络编程的解决方案都是在java.net包下。在正式学习Java网络编程技术之前，我们还需要学习一些网络通信的前置知识理论知识，只有这些前置知识做基础，我们学习网络编程代码编写才起来才能继续下去。</p>
<p>首先和同学们聊聊网络通信的基本架构。通信的基本架构主要有两种形式：一种是CS架构（Client 客户端/Server服务端）、一种是BS架构（Brower 浏览器/Server服务端）。</p>
<ul>
<li><strong>CS架构的特点：</strong>CS架构需要用户在自己的电脑或者手机上安装客户端软件，然后由客户端软件通过网络连接服务器程序，由服务器把数据发给客户端，客户端就可以在页面上看到各种数据了。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057584692-49f48e71-d116-4137-a581-2f0c69c2dbd1.png#id=KUogv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>BS架构的特点：</strong>BS架构不需要开发客户端软件，用户只需要通过浏览器输入网址就可以直接从服务器获取数据，并由服务器将数据返回给浏览器，用户在页面上就可以看到各种数据了。<br><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057584805-e3d21e85-3fd0-488e-b53b-3fe49ef522cf.png#id=QojHh&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></li>
</ul>
<p>这两种结构不管是CS、还是BS都是需要用到网络编程的相关技术。我们学习Java的程序员，以后从事的工作方向主要还是BS架构的。</p>
<h2 id="二、网络编程三要素"><a href="#二、网络编程三要素" class="headerlink" title="二、网络编程三要素"></a>二、网络编程三要素</h2><p>各位小伙伴，我们前面已经知道什么是网络编程了。接下来我们还需要学习一些网络编程的基本概念，才能去编写网络编程的应用程序。</p>
<p>有哪三要素呢？分别是IP地址、端口号、通信协议</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057584925-73906e52-d285-4c08-b1b7-2f01f35c9baf.png#id=tr0SS&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ol>
<li>IP地址：表示设备在网络中的地址，是网络中设备的唯一标识 </li>
<li>端口号：应用程序在设备中唯一的标识 </li>
<li>协议：连接和数据在网络中传输的规则。</li>
</ol>
<p>如下图所示：假设现在要从一台电脑中的微信上，发一句“你愁啥？”到其他电脑的微信上，流程如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>先通过ip地址找到对方的电脑</span><br><span class="line"><span class="number">2.</span>再通过端口号找到对方的电脑上的应用程序</span><br><span class="line"><span class="number">3.</span>按照双方约定好的规则发送、接收数据</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057585023-c9a80c27-de71-49e7-b367-6cfab9f6d39a.png#id=t3FdE&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-1-IP地址"><a href="#2-1-IP地址" class="headerlink" title="2.1 IP地址"></a>2.1 IP地址</h3><p>接下来，我们详细介绍一下IP地址。<strong>IP（Ineternet Protocol）全称互联网协议地址，是分配给网络设备的唯一表示。</strong>IP地址分为：IPV4地址、IPV6地址</p>
<p>IPV4地址由32个比特位（4个字节）组成，如果下图所示，但是由于采用二进制太不容易阅读了，于是就将每8位看成一组，把每一组用十进制表示（叫做点分十进制表示法）。所以就有了我们经常看到的IP地址形式，如：192.168.1.66</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057585150-bcd1a6ac-ba02-42b9-847f-178be10b864b.png#id=RTFgX&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如果想查看本机的IP地址，可以在命令行窗口，输入<code>ipconfig</code>命令查看，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057585248-cec14a2e-3c06-416e-b45f-820d1cfa37b9.png#id=KPlFN&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>经过不断的发展，现在越来越多的设备需要联网，IPV4地址已经不够用了，所以扩展出来了IPV6地址。</p>
<p>IPV6采用128位二进制数据来表示（16个字节），号称可以为地球上的每一粒沙子编一个IP地址，</p>
<p>IPV6比较长，为了方便阅读，每16位编成一组，每组采用十六进制数据表示，然后用冒号隔开（称为冒分十六进制表示法），如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057585385-9f902f2e-8d78-4231-9a4a-b8401e0d0470.png#id=ocxQr&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们在命令行窗口输入<code>ipconfig</code>命令，同样可以看到ipv6地址，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057585512-1ebd80a2-5947-4aae-9843-70132441b786.png#id=SVZk8&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>现在的网络设备，一般IPV4和IPV6地址都是支持的。</p>
<hr>
<p>聊完什么是IP地址和IP地址分类之后，接下来再给大家介绍一下和IP地址相关的一个东西，叫做域名。</p>
<p>我们在浏览器上访问某一个网站是，就需要在浏览器的地址栏输入网址，这个网址的专业说法叫做域名。比如：传智播客的域名是<code>http://www.itcast.cn</code>。</p>
<p>域名和IP其实是一一对应的，由运营商来管理域名和IP的对应关系。我们在浏览器上敲一个域名时，首先由运营商的域名解析服务，把域名转换为ip地址，再通过IP地址去访问对应的服务器设备。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057585649-bdf228d3-31e8-4b0a-b80e-82d2af6b9f2c.png#id=YpaKZ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>关于IP地址，还有一个特殊的地址需要我们记住一下。就是我们在学习阶段进行测试时，经常会自己给自己消息，需要用到一个本地回送地址：<code>127.0.0.1</code></p>
<p>最后给同学们介绍，两个和IP地址相关的命令</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ipconfig: 查看本机的ip地址</span><br><span class="line">pring 域名/ip  检测当前电脑与指定的ip是否连通</span><br></pre></td></tr></tbody></table></figure>

<p>ping命令出现以下的提示，说明网络是通过的</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057585776-47874012-b02e-4cab-ad4f-f2b252d024c2.png#id=aHzEn&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-2-InetAddress类"><a href="#2-2-InetAddress类" class="headerlink" title="2.2 InetAddress类"></a>2.2 InetAddress类</h3><p>各位小伙伴，在上一节课我们学习了网络编程的三要素之一，IP地址。按照面向对象的设计思想，Java中也有一个类用来表IP地址，这个类是InetAddress类。我们在开发网络通信程序的时候，可能有时候会获取本机的IP地址，以及测试与其他地址是否连通，这个时候就可以使用InetAddress类来完成。下面学习几个InetAddress的方法。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057585893-c37753ce-ed0a-45b2-bc17-90edaebd5464.png#id=YiFc0&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>演示上面几个方法的效果</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InetAddressTest</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、获取本机IP地址对象的</span></span><br><span class="line">        <span class="type">InetAddress</span> <span class="variable">ip1</span> <span class="operator">=</span> InetAddress.getLocalHost();</span><br><span class="line">        System.out.println(ip1.getHostName());</span><br><span class="line">        System.out.println(ip1.getHostAddress());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、获取指定IP或者域名的IP地址对象。</span></span><br><span class="line">        <span class="type">InetAddress</span> <span class="variable">ip2</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">"www.baidu.com"</span>);</span><br><span class="line">        System.out.println(ip2.getHostName());</span><br><span class="line">        System.out.println(ip2.getHostAddress());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ping www.baidu.com</span></span><br><span class="line">        System.out.println(ip2.isReachable(<span class="number">6000</span>));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="2-3-端口号"><a href="#2-3-端口号" class="headerlink" title="2.3 端口号"></a>2.3 端口号</h3><p>端口号：指的是计算机设备上运行的应用程序的标识，被规定为一个16位的二进制数据，范围（0~65535）</p>
<p>端口号分为一下几类（了解一下）</p>
<ul>
<li>周知端口：0~1023，被预先定义的知名应用程序占用（如：HTTP占用80，FTP占用21）</li>
<li>注册端口：1024~49151，分配给用户经常或者某些应用程序</li>
<li>动态端口：49152~65536，之所以称为动态端口，是因为它一般不固定分配给某进程，而是动态分配的。</li>
</ul>
<p>需要我们注意的是，同一个计算机设备中，不能出现两个应用程序，用同一个端口号</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057586023-986835e4-7283-476e-bf23-5c1dda2ea98d.png#id=K36z6&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="2-4-协议"><a href="#2-4-协议" class="headerlink" title="2.4 协议"></a>2.4 协议</h3><p>各位同学，前面我们已经学习了IP地址和端口号，但是想要完成数据通信还需要有通信协议。</p>
<p><strong>网络上通信的设备，事先规定的连接规则，以及传输数据的规则被称为网络通信协议。</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057586143-784031af-b842-44cf-a29c-0408d0f97630.png#id=h8t1s&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>为了让世界上各种上网设备能够互联互通，肯定需要有一个组织出来，指定一个规则，大家都遵守这个规则，才能进行数据通信。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057586268-26760e57-94da-4a73-a3a5-4f6a0602715f.png#id=t2vxv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>只要按照OSI网络参考模型制造的设备，就可以在国际互联网上互联互通。其中传输层有两个协议，是我们今天会接触到的（UDP协议、TCP协议）</p>
<ul>
<li><strong>UDP协议特点</strong></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057586378-927c4047-d9c0-4386-addb-5c6515d37158.png#id=kAGdk&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>TPC协议特点</strong></li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057586493-0262a077-8348-4ad1-a51f-19531431dc28.png#id=rOTqX&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>三次握手如下图所示<strong>：目的是确认通信双方，手法消息都是正常没问题的</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057586625-fb4075b3-b9d3-4297-a347-92199134cd3d.png#id=SvHcO&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>四次挥手如下图所示：<strong>目的是确保双方数据的收发已经完成，没有数据丢失</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057586727-65d3f874-13d6-4667-85d2-909d3e34d7f8.png#id=E16S2&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="三、UDP通信代码（入门案例）"><a href="#三、UDP通信代码（入门案例）" class="headerlink" title="三、UDP通信代码（入门案例）"></a>三、UDP通信代码（入门案例）</h2><p>有了网络编程的三要素基础知识之后，我们就可以开始学习编写网络通信的程序了。首先学习基于UDP协议通信的代码编写。</p>
<p>UDP是面向无连接的、不需要确认双方是否存在，所以它是不可靠的协议。Java提供了一个类叫DatagramSocket来完成基于UDP协议的收发数据。使用DatagramSocket收发数据时，数据要以数据包的形式体现，一个数据包限制在64KB以内</p>
<p>具体流程如下图所示：假设我们把DatagramSocket看做是街道两天的人，现在左边的人要扔一盘韭菜到右边，这里的韭菜就是数据，但是数据需要用一个盘子装起来，这里的盘子就是DatagramPacket数据包的意思。通信双方都需要有DatagramSocket(扔、接韭菜人)，还需要有DatagramPacket(装韭菜的盘子)</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057586838-1d905398-ad80-4648-a0ab-3906700136ad.png#id=HAr4M&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面我们看一个案例，需要有两个程序，一个表示客户端程序，一个表示服务端程序。</p>
<p>需求：客户端程序发一个字符串数据给服务端，服务端程序接收数据并打印。</p>
<h3 id="3-1-客户端程序"><a href="#3-1-客户端程序" class="headerlink" title="3.1 客户端程序"></a>3.1 客户端程序</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：完成UDP通信快速入门：实现1发1收。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、创建客户端对象（发韭菜出去的人）</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">7777</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、创建数据包对象封装要发出去的数据（创建一个韭菜盘子）</span></span><br><span class="line">       <span class="comment">/* public DatagramPacket(byte buf[], int length,</span></span><br><span class="line"><span class="comment">             InetAddress address, int port)</span></span><br><span class="line"><span class="comment">               参数一：封装要发出去的数据。</span></span><br><span class="line"><span class="comment">               参数二：发送出去的数据大小（字节个数）</span></span><br><span class="line"><span class="comment">               参数三：服务端的IP地址（找到服务端主机）</span></span><br><span class="line"><span class="comment">               参数四：服务端程序的端口。</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="string">"我是快乐的客户端，我爱你abc"</span>.getBytes();</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, bytes.length</span><br><span class="line">                , InetAddress.getLocalHost(),  <span class="number">6666</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、开始正式发送这个数据包的数据出去了</span></span><br><span class="line">        socket.send(packet);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"客户端数据发送完毕~~~"</span>);</span><br><span class="line">        socket.close(); <span class="comment">// 释放资源！</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-2-服务端程序"><a href="#3-2-服务端程序" class="headerlink" title="3.2 服务端程序"></a>3.2 服务端程序</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        System.out.println(<span class="string">"----服务端启动----"</span>);</span><br><span class="line">        <span class="comment">// 1、创建一个服务端对象（创建一个接韭菜的人） 注册端口</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">6666</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、创建一个数据包对象，用于接收数据的（创建一个韭菜盘子）</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">64</span>]; <span class="comment">// 64KB.</span></span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(buffer, buffer.length);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、开始正式使用数据包来接收客户端发来的数据</span></span><br><span class="line">        socket.receive(packet);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、从字节数组中，把接收到的数据直接打印出来</span></span><br><span class="line">        <span class="comment">// 接收多少就倒出多少</span></span><br><span class="line">        <span class="comment">// 获取本次数据包接收了多少数据。</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> packet.getLength();</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(buffer, <span class="number">0</span> , len);</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        System.out.println(packet.getAddress().getHostAddress());</span><br><span class="line">        System.out.println(packet.getPort());</span><br><span class="line"></span><br><span class="line">        socket.close(); <span class="comment">// 释放资源</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="四、UDP通信代码（多发多收）"><a href="#四、UDP通信代码（多发多收）" class="headerlink" title="四、UDP通信代码（多发多收）"></a>四、UDP通信代码（多发多收）</h2><p>刚才的案例，我们只能客户端发一次，服务端接收一次就结束了。下面我们想把这个代码改进一下，</p>
<p>需求：实现客户端不断的发数据，而服务端能不断的接收数据，客户端发送exit时客户端程序退出。</p>
<h3 id="4-1-客户端程序"><a href="#4-1-客户端程序" class="headerlink" title="4.1 客户端程序"></a>4.1 客户端程序</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：完成UDP通信快速入门：实现客户端反复的发。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、创建客户端对象（发韭菜出去的人）</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、创建数据包对象封装要发出去的数据（创建一个韭菜盘子）</span></span><br><span class="line">       <span class="comment">/* public DatagramPacket(byte buf[], int length,</span></span><br><span class="line"><span class="comment">             InetAddress address, int port)</span></span><br><span class="line"><span class="comment">               参数一：封装要发出去的数据。</span></span><br><span class="line"><span class="comment">               参数二：发送出去的数据大小（字节个数）</span></span><br><span class="line"><span class="comment">               参数三：服务端的IP地址（找到服务端主机）</span></span><br><span class="line"><span class="comment">               参数四：服务端程序的端口。</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            System.out.println(<span class="string">"请说："</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 一旦发现用户输入的exit命令，就退出客户端</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="string">"exit"</span>.equals(msg)){</span><br><span class="line">                System.out.println(<span class="string">"欢迎下次光临！退出成功！"</span>);</span><br><span class="line">                socket.close(); <span class="comment">// 释放资源</span></span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// 跳出死循环</span></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="type">byte</span>[] bytes = msg.getBytes();</span><br><span class="line">            <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, bytes.length</span><br><span class="line">                    , InetAddress.getLocalHost(),  <span class="number">6666</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3、开始正式发送这个数据包的数据出去了</span></span><br><span class="line">            socket.send(packet);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-2-服务端程序"><a href="#4-2-服务端程序" class="headerlink" title="4.2 服务端程序"></a>4.2 服务端程序</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：完成UDP通信快速入门-服务端反复的收</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        System.out.println(<span class="string">"----服务端启动----"</span>);</span><br><span class="line">        <span class="comment">// 1、创建一个服务端对象（创建一个接韭菜的人） 注册端口</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">6666</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、创建一个数据包对象，用于接收数据的（创建一个韭菜盘子）</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">64</span>]; <span class="comment">// 64KB.</span></span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(buffer, buffer.length);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            <span class="comment">// 3、开始正式使用数据包来接收客户端发来的数据</span></span><br><span class="line">            socket.receive(packet);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4、从字节数组中，把接收到的数据直接打印出来</span></span><br><span class="line">            <span class="comment">// 接收多少就倒出多少</span></span><br><span class="line">            <span class="comment">// 获取本次数据包接收了多少数据。</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> packet.getLength();</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(buffer, <span class="number">0</span> , len);</span><br><span class="line">            System.out.println(rs);</span><br><span class="line"></span><br><span class="line">            System.out.println(packet.getAddress().getHostAddress());</span><br><span class="line">            System.out.println(packet.getPort());</span><br><span class="line">            System.out.println(<span class="string">"--------------------------------------"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="五、TCP通信（一发一收）"><a href="#五、TCP通信（一发一收）" class="headerlink" title="五、TCP通信（一发一收）"></a>五、TCP通信（一发一收）</h2><p>学习完UDP通信的代码编写之后，接下来我们学习TCP通信的代码如何编写。Java提供了一个java.net.Socket类来完成TCP通信。</p>
<p>我们先讲一下Socket完成TCP通信的流程，再讲代码怎么编写就很好理解了。如下图所示</p>
<ol>
<li>当创建Socket对象时，就会在客户端和服务端创建一个数据通信的管道，在客户端和服务端两边都会有一个Socket对象来访问这个通信管道。</li>
<li>现在假设客户端要发送一个“在一起”给服务端，客户端这边先需要通过Socket对象获取到一个字节输出流，通过字节输出流写数据到服务端</li>
<li>然后服务端这边通过Socket对象可以获取字节输入流，通过字节输入流就可以读取客户端写过来的数据，并对数据进行处理。</li>
<li>服务端处理完数据之后，假设需要把“没感觉”发给客户端端，那么服务端这边再通过Socket获取到一个字节输出流，将数据写给客户端</li>
<li>客户端这边再获取输入流，通过字节输入流来读取服务端写过来的数据。</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057586941-7cda7e8a-c54d-4db8-be59-91c7b4f1c585.png#id=oXiyq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="5-1-TCP客户端"><a href="#5-1-TCP客户端" class="headerlink" title="5.1 TCP客户端"></a>5.1 TCP客户端</h3><p>下面我们写一个客户端，用来往服务端发数据。由于原始的字节流不是很好用，这里根据我的经验，我原始的OutputStream包装为DataOutputStream是比较好用的。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  目标：完成TCP通信快速入门-客户端开发：实现1发1收。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、创建Socket对象，并同时请求与服务端程序的连接。</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">"127.0.0.1"</span>, <span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、从socket通信管道中得到一个字节输出流，用来发数据给服务端程序。</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、把低级的字节输出流包装成数据输出流</span></span><br><span class="line">        <span class="type">DataOutputStream</span> <span class="variable">dos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(os);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、开始写数据出去了</span></span><br><span class="line">        dos.writeUTF(<span class="string">"在一起，好吗？"</span>);</span><br><span class="line">        dos.close();</span><br><span class="line"></span><br><span class="line">        socket.close(); <span class="comment">// 释放连接资源</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="5-2-TCP服务端"><a href="#5-2-TCP服务端" class="headerlink" title="5.2 TCP服务端"></a>5.2 TCP服务端</h3><p>上面我们只是写了TCP客户端，还没有服务端，接下来我们把服务端写一下。这里的服务端用来接收客户端发过来的数据。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  目标：完成TCP通信快速入门-服务端开发：实现1发1收。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        System.out.println(<span class="string">"-----服务端启动成功-------"</span>);</span><br><span class="line">        <span class="comment">// 1、创建ServerSocket的对象，同时为服务端注册端口。</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、使用serverSocket对象，调用一个accept方法，等待客户端的连接请求</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、从socket通信管道中得到一个字节输入流。</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、把原始的字节输入流包装成数据输入流</span></span><br><span class="line">        <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(is);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5、使用数据输入流读取客户端发送过来的消息</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">        System.out.println(rs);</span><br><span class="line">        <span class="comment">// 其实我们也可以获取客户端的IP地址</span></span><br><span class="line">        System.out.println(socket.getRemoteSocketAddress());</span><br><span class="line"></span><br><span class="line">        dis.close();</span><br><span class="line">        socket.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="六、TCP通信（多发多收）"><a href="#六、TCP通信（多发多收）" class="headerlink" title="六、TCP通信（多发多收）"></a>六、TCP通信（多发多收）</h2><p>到目前为止，我们已经完成了客户端发送消息、服务端接收消息，但是客户端只能发一次，服务端只能接收一次。现在我想要客户端能过一直发消息，服务端能够一直接收消息。</p>
<p>下面我们把客户端代码改写一下，采用键盘录入的方式发消息，为了让客户端能够一直发，我们只需要将发送消息的代码套一层循环就可以了，当用户输入exit时，客户端退出循环并结束客户端。</p>
<h3 id="6-1-TCP客户端"><a href="#6-1-TCP客户端" class="headerlink" title="6.1 TCP客户端"></a>6.1 TCP客户端</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  目标：完成TCP通信快速入门-客户端开发：实现客户端可以反复的发消息出去</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// 1、创建Socket对象，并同时请求与服务端程序的连接。</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">"127.0.0.1"</span>, <span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、从socket通信管道中得到一个字节输出流，用来发数据给服务端程序。</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、把低级的字节输出流包装成数据输出流</span></span><br><span class="line">        <span class="type">DataOutputStream</span> <span class="variable">dos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(os);</span><br><span class="line"></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            System.out.println(<span class="string">"请说："</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 一旦用户输入了exit，就退出客户端程序</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="string">"exit"</span>.equals(msg)){</span><br><span class="line">                System.out.println(<span class="string">"欢迎您下次光临！退出成功！"</span>);</span><br><span class="line">                dos.close();</span><br><span class="line">                socket.close();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4、开始写数据出去了</span></span><br><span class="line">            dos.writeUTF(msg);</span><br><span class="line">            dos.flush();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="6-2-TCP服务端"><a href="#6-2-TCP服务端" class="headerlink" title="6.2 TCP服务端"></a>6.2 TCP服务端</h3><p>为了让服务端能够一直接收客户端发过来的消息，服务端代码也得改写一下。我们只需要将读取数据的代码加一个循环就可以了。</p>
<p>但是需要我们注意的时，如果客户端Socket退出之后，就表示连接客户端与服务端的数据通道被关闭了，这时服务端就会出现异常。服务端可以通过出异常来判断客户端下线了，所以可以用try…catch把读取客户端数据的代码套一起来，catch捕获到异常后，打印客户端下线。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  目标：完成TCP通信快速入门-服务端开发：实现服务端反复发消息</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        System.out.println(<span class="string">"-----服务端启动成功-------"</span>);</span><br><span class="line">        <span class="comment">// 1、创建ServerSocket的对象，同时为服务端注册端口。</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、使用serverSocket对象，调用一个accept方法，等待客户端的连接请求</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、从socket通信管道中得到一个字节输入流。</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、把原始的字节输入流包装成数据输入流</span></span><br><span class="line">        <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(is);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                <span class="comment">// 5、使用数据输入流读取客户端发送过来的消息</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">                System.out.println(rs);</span><br><span class="line">            } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">                System.out.println(socket.getRemoteSocketAddress() + <span class="string">"离线了！"</span>);</span><br><span class="line">                dis.close();</span><br><span class="line">                socket.close();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="七、TCP通信（多线程改进）"><a href="#七、TCP通信（多线程改进）" class="headerlink" title="七、TCP通信（多线程改进）"></a>七、TCP通信（多线程改进）</h2><p>上一个案例中我们写的服务端程序只能和一个客户端通信，如果有多个客户端连接服务端，此时服务端是不支持的。</p>
<p>为了让服务端能够支持多个客户端通信，就需要用到多线程技术。具体的实现思路如下图所示：每当有一个客户端连接服务端，在服务端这边就为Socket开启一条线程取执行读取数据的操作，来多少个客户端，就有多少条线程。按照这样的设计，服务端就可以支持多个客户端连接了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057587063-d2f881c3-f31e-4501-9818-2b975bdf9519.png#id=h2Jeq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>按照上面的思路，改写服务端代码。</p>
<h3 id="7-1-多线程改进"><a href="#7-1-多线程改进" class="headerlink" title="7.1 多线程改进"></a>7.1 多线程改进</h3><p>首先，我们需要写一个服务端的读取数据的线程类，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerReaderThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>{</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServerReaderThread</span><span class="params">(Socket socket)</span>{</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">            <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(is);</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>){</span><br><span class="line">                <span class="keyword">try</span> {</span><br><span class="line">                    <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">                    System.out.println(msg);</span><br><span class="line"></span><br><span class="line">                } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">                    System.out.println(<span class="string">"有人下线了："</span> + socket.getRemoteSocketAddress());</span><br><span class="line">                    dis.close();</span><br><span class="line">                    socket.close();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，再改写服务端的主程序代码，如下：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  目标：完成TCP通信快速入门-服务端开发：要求实现与多个客户端同时通信。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        System.out.println(<span class="string">"-----服务端启动成功-------"</span>);</span><br><span class="line">        <span class="comment">// 1、创建ServerSocket的对象，同时为服务端注册端口。</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            <span class="comment">// 2、使用serverSocket对象，调用一个accept方法，等待客户端的连接请求</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"有人上线了："</span> + socket.getRemoteSocketAddress());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3、把这个客户端对应的socket通信管道，交给一个独立的线程负责处理。</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">ServerReaderThread</span>(socket).start();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="7-2-案例拓展（群聊）"><a href="#7-2-案例拓展（群聊）" class="headerlink" title="7.2 案例拓展（群聊）"></a>7.2 案例拓展（群聊）</h3><p>接着前面的案例，下面我们案例再次拓展一下，这个并不需要同学们必须掌握，主要是为了锻炼同学们的编程能力、和编程思维。</p>
<p>我们想把刚才的案例，改进成全能够实现群聊的效果，就是一个客户端发的消息，其他的每一个客户端都可以收到。</p>
<p>刚才我们写的多个客户端可以往服务端发现消息，但是客户端和客户端是不能直接通信的。想要试下全群聊的效果，我们还是必须要有服务端在中间做中转。 具体实现方案如下图所示：</p>
<p>我们可以在服务端创建一个存储Socket的集合，每当一个客户端连接服务端，就可以把客户端Socket存储起来；当一个客户端给服务端发消息时，再遍历集合通过每个Socket将消息再转发给其他客户端。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057587170-34dcb1df-7ee1-4ebc-ae5a-48bd7be473b6.png#id=EZkMG&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面我们改造服务端代码，由于服务端读取数据是在线程类中完成的，所以我们改<code>SerReaderThread</code>类就可以了。服务端的主程序不用改。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerReaderThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>{</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServerReaderThread</span><span class="params">(Socket socket)</span>{</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">            <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(is);</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>){</span><br><span class="line">                <span class="keyword">try</span> {</span><br><span class="line">                    <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">                    System.out.println(msg);</span><br><span class="line">                    <span class="comment">// 把这个消息分发给全部客户端进行接收。</span></span><br><span class="line">                    sendMsgToAll(msg);</span><br><span class="line">                } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">                    System.out.println(<span class="string">"有人下线了："</span> + socket.getRemoteSocketAddress());</span><br><span class="line">                    Server.onLineSockets.remove(socket);</span><br><span class="line">                    dis.close();</span><br><span class="line">                    socket.close();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">sendMsgToAll</span><span class="params">(String msg)</span> <span class="keyword">throws</span> IOException {</span><br><span class="line">        <span class="comment">// 发送给全部在线的socket管道接收。</span></span><br><span class="line">        <span class="keyword">for</span> (Socket onLineSocket : Server.onLineSockets) {</span><br><span class="line">            <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> onLineSocket.getOutputStream();</span><br><span class="line">            <span class="type">DataOutputStream</span> <span class="variable">dos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(os);</span><br><span class="line">            dos.writeUTF(msg);</span><br><span class="line">            dos.flush();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="八、BS架构程序（简易版）"><a href="#八、BS架构程序（简易版）" class="headerlink" title="八、BS架构程序（简易版）"></a>八、BS架构程序（简易版）</h2><p>前面我们所写的代码都是基于CS架构的。我们说网络编程还可以编写BS架构的程序，为了让同学们体验一下BS架构通信，这里我们写一个简易版的程序。仅仅只是体验下一，后期我们会详细学习BS架构的程序如何编写。</p>
<p>BS架构程序的实现原理，如下图所示：不需要开发客户端程序，此时浏览器就相当于是客户端，此时我们只需要写服务端程序就可以了。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057587328-37071b30-6535-4a86-acc6-24d6a10c552d.png#id=h91NZ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>在BS结构的程序中，浏览器和服务器通信是基于HTTP协议来完成的，浏览器给客户端发送数据需要按照HTTP协议规定好的数据格式发给服务端，服务端返回数据时也需要按照HTTP协议规定好的数据给是发给浏览器，只有这两双方才能完成一次数据交互。</p>
<p>客户端程序不需要我们编写（浏览器就是），所以我们只需要写服务端就可以了。</p>
<p>服务端给客户端响应数据的数据格式（HTTP协议规定数据格式）如下图所示：左图是数据格式，右图是示例。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057587491-2113361a-6af3-4b81-963b-f70d473c2b89.png#id=UGy8S&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，我们写一个服务端程序按照右图示例的样子，给浏览器返回数据。<strong>注意：数据是由多行组成的，必须按照规定的格式来写。</strong></p>
<h3 id="8-1-服务端程序"><a href="#8-1-服务端程序" class="headerlink" title="8.1 服务端程序"></a>8.1 服务端程序</h3><p>先写一个线程类，用于按照HTTP协议的格式返回数据</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerReaderThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>{</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServerReaderThread</span><span class="params">(Socket socket)</span>{</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">//  立即响应一个网页内容：“黑马程序员”给浏览器展示。</span></span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">            <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(os);</span><br><span class="line">            ps.println(<span class="string">"HTTP/1.1 200 OK"</span>);</span><br><span class="line">            ps.println(<span class="string">"Content-Type:text/html;charset=UTF-8"</span>);</span><br><span class="line">            ps.println(); <span class="comment">// 必须换行</span></span><br><span class="line">            ps.println(<span class="string">"&lt;div style='color:red;font-size:120px;text-align:center'&gt;黑马程序员666&lt;div&gt;"</span>);</span><br><span class="line">            ps.close();</span><br><span class="line">            socket.close();</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再写服务端的主程序</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  目标：完成TCP通信快速入门-服务端开发：要求实现与多个客户端同时通信。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        System.out.println(<span class="string">"-----服务端启动成功-------"</span>);</span><br><span class="line">        <span class="comment">// 1、创建ServerSocket的对象，同时为服务端注册端口。</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8080</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            <span class="comment">// 2、使用serverSocket对象，调用一个accept方法，等待客户端的连接请求</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">"有人上线了："</span> + socket.getRemoteSocketAddress());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3、把这个客户端对应的socket通信管道，交给一个独立的线程负责处理。</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">ServerReaderThread</span>(socket).start();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="8-2-服务端主程序用线程池改进"><a href="#8-2-服务端主程序用线程池改进" class="headerlink" title="8.2 服务端主程序用线程池改进"></a>8.2 服务端主程序用线程池改进</h3><p>为了避免服务端创建太多的线程，可以把服务端用线程池改进，提高服务端的性能。</p>
<p>先写一个给浏览器响应数据的线程任务</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerReaderRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>{</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServerReaderRunnable</span><span class="params">(Socket socket)</span>{</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> {</span><br><span class="line">        <span class="comment">//  立即响应一个网页内容：“黑马程序员”给浏览器展示。</span></span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">            <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(os);</span><br><span class="line">            ps.println(<span class="string">"HTTP/1.1 200 OK"</span>);</span><br><span class="line">            ps.println(<span class="string">"Content-Type:text/html;charset=UTF-8"</span>);</span><br><span class="line">            ps.println(); <span class="comment">// 必须换行</span></span><br><span class="line">            ps.println(<span class="string">"&lt;div style='color:red;font-size:120px;text-align:center'&gt;黑马程序员666&lt;div&gt;"</span>);</span><br><span class="line">            ps.close();</span><br><span class="line">            socket.close();</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>再改写服务端的主程序，使用ThreadPoolExecutor创建一个线程池，每次接收到一个Socket就往线程池中提交任务就行。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        System.out.println(<span class="string">"-----服务端启动成功-------"</span>);</span><br><span class="line">        <span class="comment">// 1、创建ServerSocket的对象，同时为服务端注册端口。</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8080</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建出一个线程池，负责处理通信管道的任务。</span></span><br><span class="line">        <span class="type">ThreadPoolExecutor</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(<span class="number">16</span> * <span class="number">2</span>, <span class="number">16</span> * <span class="number">2</span>, <span class="number">0</span>, TimeUnit.SECONDS,</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">8</span>) , Executors.defaultThreadFactory(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.AbortPolicy());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">            <span class="comment">// 2、使用serverSocket对象，调用一个accept方法，等待客户端的连接请求</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3、把这个客户端对应的socket通信管道，交给一个独立的线程负责处理。</span></span><br><span class="line">            pool.execute(<span class="keyword">new</span> <span class="title class_">ServerReaderRunnable</span>(socket));</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="day14-单元测试、反射"><a href="#day14-单元测试、反射" class="headerlink" title="day14-单元测试、反射"></a>day14-单元测试、反射</h1><p>恭喜同学们，Java主要的知识我们其实已经学习得差不多了。今天同学们再把单元测试、反射、注解、动态代理学习完。Java的基础知识就算全齐活了。</p>
<p>首先，我们进入单元测试的学习。</p>
<h2 id="一、单元测试"><a href="#一、单元测试" class="headerlink" title="一、单元测试"></a>一、单元测试</h2><h3 id="1-1-单元测试快速入门"><a href="#1-1-单元测试快速入门" class="headerlink" title="1.1 单元测试快速入门"></a>1.1 单元测试快速入门</h3><p>所谓单元测试，就是针对最小的功能单元，编写测试代码对其进行正确性测试。</p>
<p>我们想想，咱们之前是怎么进行测试的呢？</p>
<p>比如说我们写了一个学生管理系统，有添加学生、修改学生、删除学生、查询学生等这些功能。要对这些功能这几个功能进行测试，我们是在main方法中编写代码来测试的。</p>
<p>但是在main方法中写测试代码有如下的几个问题，如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057587594-f1cff716-7b25-4635-a5bb-617701525010.png#id=V5Vc7&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>为了测试更加方便，有一些第三方的公司或者组织提供了很好用的测试框架，给开发者使用。这里给同学们介绍一种Junit测试框架。</p>
<p>Junit是第三方公司开源出来的，用于对代码进行单元测试的工具（IDEA已经集成了junit框架）。相比于在main方法中测试有如下几个优点。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057587738-5b1b960a-7d8e-4e7a-934f-c85783087828.png#id=IJOx6&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<hr>
<p>我们知道单元测试是什么之后，接下来带领同学们使用一下。由于Junit是第三方提供的，所以我们需要把jar包导入到我们的项目中，才能使用，具体步骤如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057587860-65f551a6-cb8a-4577-b8fd-28e021aa8ba6.png#id=S0rYB&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，我们就按照上面的步骤，来使用一下.</p>
<p>先准备一个类，假设写了一个StringUtil工具类，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringUtil</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printNumber</span><span class="params">(String name)</span>{</span><br><span class="line">        System.out.println(<span class="string">"名字长度："</span>+name.length());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，写一个测试类，测试StringUtil工具类中的方法能否正常使用。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringUtilTest</span>{</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testPrintNumber</span><span class="params">()</span>{</span><br><span class="line">        StringUtil.printNumber(<span class="string">"admin"</span>);</span><br><span class="line">        StringUtil.printNumber(<span class="literal">null</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>写完代码之后，我们会发现测试方法左边，会有一个绿色的三角形按钮。点击这个按钮，就可以运行测试方法。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057587995-46677f35-320d-49e5-aebc-9062db087bf0.png#id=kaDS9&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-2-单元测试断言"><a href="#1-2-单元测试断言" class="headerlink" title="1.2 单元测试断言"></a>1.2 单元测试断言</h3><p>接下来，我们学习一个单元测试的断言机制。<strong>所谓断言：意思是程序员可以预测程序的运行结果，检查程序的运行结果是否与预期一致。</strong></p>
<p>我们在StringUtil类中新增一个测试方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getMaxIndex</span><span class="params">(String data)</span>{</span><br><span class="line">    <span class="keyword">if</span>(data == <span class="literal">null</span>){</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> data.length();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，我们在StringUtilTest类中写一个测试方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringUtilTest</span>{</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetMaxIndex</span><span class="params">()</span>{</span><br><span class="line">       <span class="type">int</span> <span class="variable">index1</span> <span class="operator">=</span> StringUtil.getMaxIndex(<span class="literal">null</span>);</span><br><span class="line">       System.out.println(index1);</span><br><span class="line">        </span><br><span class="line">       <span class="type">int</span> <span class="variable">index2</span> <span class="operator">=</span> StringUtil.getMaxIndex(<span class="string">"admin"</span>);</span><br><span class="line">       System.out.println(index2);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//断言机制：预测index2的结果</span></span><br><span class="line">        Assert.assertEquals(<span class="string">"方法内部有Bug"</span>,<span class="number">4</span>,index2);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行测试方法，结果如下图所示，表示我们预期值与实际值不一致</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057588111-1a0f57ed-f82d-494f-8e16-7a0878c08cdf.png#id=qHnqY&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-3-Junit框架的常用注解"><a href="#1-3-Junit框架的常用注解" class="headerlink" title="1.3 Junit框架的常用注解"></a>1.3 Junit框架的常用注解</h3><p>同学们，刚才我们以及学习了@Test注解，可以用来标记一个方法为测试方法，测试才能启动执行。</p>
<p>除了@Test注解，还有一些其他的注解，我们要知道其他注解标记的方法什么时候执行，以及其他注解在什么场景下可以使用。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057588215-e0f7b203-e0a2-49c0-9d4e-1165afa6220b.png#id=Nkpcp&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来，我们演示一下其他注解的使用。我们在StringUtilTest测试类中，再新增几个测试方法。代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringUtilTest</span>{</span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"--&gt; test1 Before 执行了"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@BeforeClass</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test11</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"--&gt; test11 BeforeClass 执行了"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"--&gt; test2 After 执行了"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@AfterCalss</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test22</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"--&gt; test22 AfterCalss 执行了"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>执行上面的测试类，结果如下图所示，观察执行结果特点如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>被<span class="meta">@BeforeClass</span>标记的方法,执行在所有方法之前</span><br><span class="line"><span class="number">2.</span>被<span class="meta">@AfterCalss</span>标记的方法，执行在所有方法之后</span><br><span class="line"><span class="number">3.</span>被<span class="meta">@Before</span>标记的方法，执行在每一个<span class="meta">@Test</span>方法之前</span><br><span class="line"><span class="number">4.</span>被<span class="meta">@After</span>标记的方法，执行在每一个<span class="meta">@Test</span>方法之后</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057588337-824d7b13-8173-4fa3-9282-c8c44e5cf92c.png#id=YHWZM&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们现在已经知道每一个注解的作用了，那他们有什么用呢？应用场景在哪里?</p>
<p>我们来看一个例子，假设我想在每个测试方法中使用Socket对象，并且用完之后，需要把Socket关闭。代码就可以按照下面的结构来设计</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringUtilTest</span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Socket socket;</span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"--&gt; test1 Before 执行了"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@BeforeClass</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test11</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"--&gt; test11 BeforeClass 执行了"</span>);</span><br><span class="line">        <span class="comment">//初始化Socket对象</span></span><br><span class="line">        socket = <span class="keyword">new</span> <span class="title class_">Socket</span>();</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"--&gt; test2 After 执行了"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@AfterCalss</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test22</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"--&gt; test22 AfterCalss 执行了"</span>);</span><br><span class="line">         <span class="comment">//关闭Socket</span></span><br><span class="line">        socket.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最后，我们再补充一点。前面的注解是基于Junit4版本的，再Junit5版本中对注解作了更新，但是作用是一样的。所以这里就不做演示了</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057588441-8bcbeaaa-dd87-4401-91cf-23908cda8b2b.png#id=PIXhm&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h2 id="二、反射"><a href="#二、反射" class="headerlink" title="二、反射"></a>二、反射</h2><p>各位小伙伴，接下来我们要学习反射技术。在学习反射之前，有几个点需要给同学们提前交代一下，接下来我们学习的反射、动态代理、注解等知识点，在以后开发中极少用到，这些技术都是以后学习框架、或者做框架的底层源码。给同学们讲这些技术的目的，是为了以后我们理解框架、或者自己开发框架给别人用作铺垫的。同时由于这些技术非常抽象，所以按照国际惯例，我们都会采用先带着大家充分的认识它们，然后再了解其作用和应用场景。</p>
<p>接下来，我们就需要带着同学们认识一下什么是反射。其实API文档中对反射有详细的说明，我们去了解一下。在java.lang.reflect包中对反射的解释如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057588560-7108bd0e-6520-4db4-ba1a-c40b162bfa42.png#id=qHuQ3&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>翻译成人话就是：<strong>反射技术，指的是加载类的字节码到内存，并以编程的方法解刨出类中的各个成分（成员变量、方法、构造器等）。</strong></p>
<p>反射有啥用呢？其实反射是用来写框架用的，但是现阶段同学们对框架还没有太多感觉。为了方便理解，我给同学们看一个我们见过的例子：平时我们用IDEA开发程序时，用对象调用方法，IDEA会有代码提示，idea会将这个对象能调用的方法都给你列举出来，供你选择，如果下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057588707-7fff4781-efc9-4a74-995b-ba8978644948.png#id=J8ZSE&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>问题是IDEA怎么知道这个对象有这些方法可以调用呢? 原因是对象能调用的方法全都来自于类，IDEA通过反射技术就可以获取到类中有哪些方法，并且把方法的名称以提示框的形式显示出来，所以你能看到这些提示了。</p>
<p>那记事本写代码为什么没有提示呢? 因为技术本软件没有利用反射技术开发这种代码提示的功能，哈哈！！</p>
<p>好了，认识了反射是什么之后，接下来我还想给同学们介绍一下反射具体学什么？</p>
<p>因为反射获取的是类的信息，那么反射的第一步首先获取到类才行。由于Java的设计原则是万物皆对象，获取到的类其实也是以对象的形式体现的，<strong>叫字节码对象</strong>，用Class类来表示。获取到字节码对象之后，再通过字节码对象就可以获取到类的组成成分了，这些组成成分其实也是对象，其中<strong>每一个成员变量用Field类的对象来表示</strong>、<strong>每一个成员方法用Method类的对象来表示</strong>，<strong>每一个构造器用Constructor类的对象来表示</strong>。</p>
<p>如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057588831-c794d4a8-b4e0-43c3-988a-e5cd290c057e.png#id=xKS57&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-1-获取类的字节码"><a href="#1-1-获取类的字节码" class="headerlink" title="1.1 获取类的字节码"></a>1.1 获取类的字节码</h3><p>反射的第一步：是将字节码加载到内存，我们需要获取到的字节码对象。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057588952-2aac21f0-134c-4500-9533-0047ac210b81.png#id=mxsuO&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>比如有一个Student类，获取Student类的字节码代码有三种写法。不管用哪一种方式，获取到的字节码对象其实是同一个。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1Class</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c1</span> <span class="operator">=</span> Student.class;</span><br><span class="line">        System.out.println(c1.getName()); <span class="comment">//获取全类名</span></span><br><span class="line">        System.out.println(c1.getSimpleName()); <span class="comment">//获取简单类名</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">Class</span> <span class="variable">c2</span> <span class="operator">=</span> Class.forName(<span class="string">"com.itheima.d2_reflect.Student"</span>);</span><br><span class="line">        System.out.println(c1 == c2); <span class="comment">//true</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c3</span> <span class="operator">=</span> s.getClass();</span><br><span class="line">        System.out.println(c2 == c3); <span class="comment">//true</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-2-获取类的构造器"><a href="#1-2-获取类的构造器" class="headerlink" title="1.2 获取类的构造器"></a>1.2 获取类的构造器</h3><p>同学们，上一节我们已经可以获取到类的字节码对象了。接下来，我们学习一下通过字节码对象获取构造器，并使用构造器创建对象。</p>
<p>获取构造器，需要用到Class类提供的几个方法，如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057589057-7ad15306-98ce-410f-8bd4-7958b245fc2e.png#id=memaB&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>想要快速记住这个方法的区别，给同学们说一下这些方法的命名规律，按照规律来记就很方便了。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">get:获取</span><br><span class="line">Declared: 有这个单词表示可以获取任意一个，没有这个单词表示只能获取一个<span class="keyword">public</span>修饰的</span><br><span class="line">Constructor: 构造方法的意思</span><br><span class="line">后缀s: 表示可以获取多个，没有后缀s只能获取一个</span><br></pre></td></tr></tbody></table></figure>

<p>话不多少，上代码。假设现在有一个Cat类，里面有几个构造方法，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Cat</span><span class="params">()</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Cat</span><span class="params">(String name, <span class="type">int</span> age)</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><ol>
<li>接下来，我们写一个测试方法，来测试获取类中所有的构造器</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2Constructor</span>(){</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetConstructors</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">//1、反射第一步：必须先得到这个类的Class对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Cat.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2、获取类的全部构造器</span></span><br><span class="line">        Constructor[] constructors = c.getDeclaredConstructors();</span><br><span class="line">        <span class="comment">//3、遍历数组中的每一个构造器对象。</span></span><br><span class="line">        <span class="keyword">for</span>(Constructor constructor: constructors){</span><br><span class="line">            System.out.println(constructor.getName()+<span class="string">"---&gt; 参数个数："</span>+constructor.getParameterCount());</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行测试方法打印结果如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057589162-5bbf9eac-6c5e-4926-ab1b-fa188f561a32.png#id=sLuQm&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><ol start="2">
<li>刚才演示的是获取Cat类中所有的构造器，接下来，我们演示单个构造器试一试</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2Constructor</span>(){</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetConstructor</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">//1、反射第一步：必须先得到这个类的Class对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Cat.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2、获取类public修饰的空参数构造器</span></span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">constructor1</span> <span class="operator">=</span> c.getConstructor();</span><br><span class="line">        System.out.println(constructor1.getName()+<span class="string">"---&gt; 参数个数："</span>+constructor1.getParameterCount());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3、获取private修饰的有两个参数的构造器，第一个参数String类型，第二个参数int类型</span></span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">constructor2</span> <span class="operator">=</span> </span><br><span class="line">            c.getDeclaredConstructor(String.class,<span class="type">int</span>.class);</span><br><span class="line">        </span><br><span class="line">        System.out.println(constructor2.getName()+<span class="string">"---&gt; 参数个数："</span>+constructor1.getParameterCount());</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>打印结果如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057589270-afac2567-25e4-45e9-921f-a17259f8ace3.png#id=glzhq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-3-反射获取构造器的作用"><a href="#1-3-反射获取构造器的作用" class="headerlink" title="1.3 反射获取构造器的作用"></a>1.3 反射获取构造器的作用</h3><p>同学们，刚才上一节我们已经获取到了Cat类中的构造器。获取到构造器后，有什么作用呢？</p>
<p>其实构造器的作用：<strong>初始化对象并返回</strong>。</p>
<p>这里我们需要用到如下的两个方法，注意：这两个方法时属于Constructor的，需要用Constructor对象来调用。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057589386-a0211381-ae85-434e-a87f-1b943b400962.png#id=hWIUs&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如下图所示，constructor1和constructor2分别表示Cat类中的两个构造器。现在我要把这两个构造器执行起来</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057589541-c2af35c1-bc7c-4d40-87b6-0a9b4d8d7e5c.png#id=O5095&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>由于构造器是private修饰的，先需要调用<code>setAccessible(true)</code> 表示禁止检查访问控制，然后再调用<code>newInstance(实参列表)</code> 就可以执行构造器，完成对象的初始化了。</p>
<p>代码如下：为了看到构造器真的执行， 故意在两个构造器中分别加了两个打印语句</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057589795-fc39699b-1888-4b8f-8814-3c76217e7de7.png#id=yegnq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>代码的执行结果如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057590180-78ef1021-afac-4b21-8f84-7c963661b411.png#id=vplUX&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-4-反射获取成员变量-使用"><a href="#1-4-反射获取成员变量-使用" class="headerlink" title="1.4 反射获取成员变量&amp;使用"></a>1.4 反射获取成员变量&amp;使用</h3><p>同学们，上一节我们已经学习了获取类的构造方法并使用。接下来，我们再学习获取类的成员变量，并使用。</p>
<p>其实套路是一样的，在Class类中提供了获取成员变量的方法，如下图所示。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057590305-a1677ed8-7118-4ba9-9d04-3e03154f269e.png#id=e0J22&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>这些方法的记忆规则，如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">get:获取</span><br><span class="line">Declared: 有这个单词表示可以获取任意一个，没有这个单词表示只能获取一个<span class="keyword">public</span>修饰的</span><br><span class="line">Field: 成员变量的意思</span><br><span class="line">后缀s: 表示可以获取多个，没有后缀s只能获取一个</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>假设有一个Cat类它有若干个成员变量，用Class类提供 的方法将成员变量的对象获取出来。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057590409-397636a5-0dea-4286-88f9-aae2d69e24a3.png#id=BcmWN&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>执行完上面的代码之后，我们可以看到控制台上打印输出了，每一个成员变量的名称和它的类型。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057590568-dbf8c9dd-4e29-408c-8d1e-01bf7eafdda2.png#id=FM3aP&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>获取到成员变量的对象之后该如何使用呢？</li>
</ul>
<p>在Filed类中提供给给成员变量赋值和获取值的方法，如下图所示。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057590681-736e3315-98f3-49dc-aaae-0c47aed545e1.png#id=rHYoO&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>再次强调一下设置值、获取值的方法时Filed类的需要用Filed类的对象来调用，而且不管是设置值、还是获取值，都需要依赖于该变量所属的对象。代码如下</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057590785-331920b5-b23a-499d-b676-f9f9595d9a47.png#id=NdWNt&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>执行代码，控制台会有如下的打印</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057590929-243ffb9f-3b29-4f50-b874-882126f1232a.png#id=igzzs&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-5-反射获取成员方法"><a href="#1-5-反射获取成员方法" class="headerlink" title="1.5 反射获取成员方法"></a>1.5 反射获取成员方法</h3><p>各位同学，上面几节我们已经学习了反射获取构造方法、反射获取成员变量，还剩下最后一个就是反射获取成员方法并使用了。</p>
<p>在Java中反射包中，每一个成员方法用Method对象来表示，通过Class类提供的方法可以获取类中的成员方法对象。如下下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057591034-68942460-7256-4d64-8abd-818b15845572.png#id=Fhcd0&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来我们还是用代码演示一下：假设有一个Cat类，在Cat类中红有若干个成员方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Cat</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"空参数构造方法执行了"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Cat</span><span class="params">(String name, <span class="type">int</span> age)</span>{</span><br><span class="line">        System.out.println(<span class="string">"有参数构造方法执行了"</span>);</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"(&gt;^ω^&lt;)喵跑得贼快~~"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"(&gt;^ω^&lt;)喵爱吃猫粮~"</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">eat</span><span class="params">(String name)</span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"(&gt;^ω^&lt;)喵爱吃:"</span>+name;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span>{</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span>{</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span>{</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">    }</span><br><span class="line">     <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span>{</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，通过反射获取Cat类中所有的成员方法，每一个成员方法都是一个Method对象</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3Method</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//1、反射第一步：先获取到Class对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Cat.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2、获取类中的全部成员方法</span></span><br><span class="line">        Method[] methods = c.getDecalaredMethods();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3、遍历这个数组中的每一个方法对象</span></span><br><span class="line">        <span class="keyword">for</span>(Method method : methods){</span><br><span class="line">            System.out.println(method.getName()+<span class="string">"--&gt;"</span>+method.getParameterCount()+<span class="string">"--&gt;"</span>+method.getReturnType());</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>执行上面的代码，运行结果如下图所示：<strong>打印输出每一个成员方法的名称、参数格式、返回值类型</strong></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057591240-863f201a-b422-4d02-94f2-4de5587ec0f2.png#id=jJ1qI&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>也能获取单个指定的成员方法，如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057591349-5bb8e8ee-9029-419d-9932-c22e9f284a89.png#id=vuseh&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<hr>
<p><strong>获取到成员方法之后，有什么作用呢？</strong></p>
<p>在Method类中提供了方法，可以将方法自己执行起来。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057591504-0c5934f1-b0dd-4d48-961c-30147f574331.png#id=t8VrN&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>下面我们演示一下，把<code>run()</code>方法和<code>eat(String name)</code>方法执行起来。看分割线之下的代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3Method</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="comment">//1、反射第一步：先获取到Class对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Cat.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2、获取类中的全部成员方法</span></span><br><span class="line">        Method[] methods = c.getDecalaredMethods();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3、遍历这个数组中的每一个方法对象</span></span><br><span class="line">        <span class="keyword">for</span>(Method method : methods){</span><br><span class="line">            System.out.println(method.getName()+<span class="string">"--&gt;"</span>+method.getParameterCount()+<span class="string">"--&gt;"</span>+method.getReturnType());</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">"-----------------------"</span>);</span><br><span class="line">        <span class="comment">//4、获取private修饰的run方法，得到Method对象</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">run</span> <span class="operator">=</span> c.getDecalaredMethod(<span class="string">"run"</span>);</span><br><span class="line">        <span class="comment">//执行run方法,在执行前需要取消权限检查</span></span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        run.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">rs1</span> <span class="operator">=</span> run.invoke(cat);</span><br><span class="line">        System.out.println(rs1)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//5、获取private 修饰的eat(String name)方法，得到Method对象</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">eat</span> <span class="operator">=</span> c.getDeclaredMethod(<span class="string">"eat"</span>,String.class);</span><br><span class="line">        eat.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">rs2</span> <span class="operator">=</span> eat.invoke(cat,<span class="string">"鱼儿"</span>);</span><br><span class="line">        System.out.println(rs2)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>打印结果如下图所示：run()方法执行后打印<code>猫跑得贼快~~</code>，返回<code>null</code>； eat()方法执行完，直接返回<code>猫最爱吃:鱼儿</code></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057591608-17ad787c-a092-42da-8cf8-66daa618caaf.png#id=yrUhf&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="1-6-反射的应用"><a href="#1-6-反射的应用" class="headerlink" title="1.6 反射的应用"></a>1.6 反射的应用</h3><p>各位小伙伴，按照前面我们学习反射的套路，我们已经充分认识了什么是反射，以及反射的核心作用是用来获取类的各个组成部分并执行他们。但是由于同学们的经验有限，对于反射的具体应用场景还是很难感受到的（这个目前没有太好的办法，只能慢慢积累，等经验积累到一定程度，就会豁然开朗了）。</p>
<p>我们一直说反射使用来写框架的，接下来，我们就写一个简易的框架，简单窥探一下反射的应用。反射其实是非常强大的，这个案例也仅仅值小试牛刀。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057591710-385ac2ec-191d-42d7-bae9-700cd808cf31.png#id=BUJOQ&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>需求是让我们写一个框架，能够将任意一个对象的属性名和属性值写到文件中去。不管这个对象有多少个属性，也不管这个对象的属性名是否相同。</p>
<p>分析一下该怎么做</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>先写好两个类，一个Student类和Teacher类</span><br><span class="line"><span class="number">2.</span>写一个ObjectFrame类代表框本架</span><br><span class="line">	在ObjectFrame类中定义一个saveObject(Object obj)方法，用于将任意对象存到文件中去</span><br><span class="line">	参数：Object obj: 就表示要存入文件中的对象</span><br><span class="line">	</span><br><span class="line"><span class="number">3.</span>编写方法内部的代码，往文件中存储对象的属性名和属性值</span><br><span class="line">	<span class="number">1</span>)参数obj对象中有哪些属性，属性名是什么实现值是什么，中有对象自己最清楚。</span><br><span class="line">	<span class="number">2</span>)接着就通过反射获取类的成员变量信息了（变量名、变量值）</span><br><span class="line">	<span class="number">3</span>)把变量名和变量值写到文件中去</span><br></pre></td></tr></tbody></table></figure>

<p>写一个ObjectFrame表示自己设计的框架，代码如下图所示</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObjectFrame</span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">saveObject</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> Exception{</span><br><span class="line">        <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">"模块名\\src\\data.txt"</span>,<span class="literal">true</span>));</span><br><span class="line">        <span class="comment">//1)参数obj对象中有哪些属性，属性名是什么实现值是什么，中有对象自己最清楚。</span></span><br><span class="line">		<span class="comment">//2)接着就通过反射获取类的成员变量信息了（变量名、变量值）</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> obj.getClass(); <span class="comment">//获取字节码</span></span><br><span class="line">        ps.println(<span class="string">"---------"</span>+class.getSimpleName()+<span class="string">"---------"</span>);</span><br><span class="line">        </span><br><span class="line">        Field[] fields = c.getDeclaredFields(); <span class="comment">//获取所有成员变量</span></span><br><span class="line">		<span class="comment">//3)把变量名和变量值写到文件中去</span></span><br><span class="line">        <span class="keyword">for</span>(Field field : fields){</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> field.getName();</span><br><span class="line">            <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> field.get(obj)+<span class="string">""</span>;</span><br><span class="line">            ps.println(name);</span><br><span class="line">        }</span><br><span class="line">        ps.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>使用自己设计的框架，往文件中写入Student对象的信息和Teacher对象的信息。</p>
<p>先准备好Student类和Teacher类</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">char</span> sex;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line">    <span class="keyword">private</span> String hobby;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> salary;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>创建一个测试类，在测试中类创建一个Student对象，创建一个Teacher对象，用ObjectFrame的方法把这两个对象所有的属性名和属性值写到文件中去。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test5Frame</span>{</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> <span class="keyword">throws</span> Exception{</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"黑马吴彦祖"</span>,<span class="number">45</span>, <span class="string">'男'</span>, <span class="number">185.3</span>, <span class="string">"篮球，冰球，阅读"</span>);</span><br><span class="line">        <span class="type">Teacher</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="string">"播妞"</span>,<span class="number">999.9</span>);</span><br><span class="line">        </span><br><span class="line">        ObjectFrame.save(s1);</span><br><span class="line">        ObjectFrame.save(s2);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>打开data.txt文件，内容如下图所示，就说明我们这个框架的功能已经实现了</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057591836-204b5070-9d9a-46db-9fe2-ceb381dc33c5.png#id=So0qP&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>好了，同学们，恭喜大家！学习到这里，反射技术已经学习完毕了。</p>
<hr>
<h2 id="三、注解"><a href="#三、注解" class="headerlink" title="三、注解"></a>三、注解</h2><h3 id="3-1-认识注解-定义注解"><a href="#3-1-认识注解-定义注解" class="headerlink" title="3.1 认识注解&amp;定义注解"></a>3.1 认识注解&amp;定义注解</h3><p>各位小伙伴，接下来我们学习注解。注解和反射一样，都是用来做框架的，我们这里学习注解的目的其实是为了以后学习框架或者做框架做铺垫的。</p>
<p>那注解该怎么学呢？和反射的学习套路一样，我们先充分的认识注解，掌握注解的定义和使用格式，然后再学习它的应用场景。</p>
<blockquote>
<p><strong>先来认识一下什么是注解？</strong></p>
</blockquote>
<p><strong>Java注解是代码中的特殊标记，比如@Override、@Test等，作用是：让其他程序根据注解信息决定怎么执行该程序。</strong></p>
<p>比如：Junit框架的@Test注解可以用在方法上，用来标记这个方法是测试方法，被@Test标记的方法能够被Junit框架执行。</p>
<p>再比如：@Override注解可以用在方法上，用来标记这个方法是重写方法，被@Override注解标记的方法能够被IDEA识别进行语法检查。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057591941-b79c9470-1859-4659-b2d7-62feb8169721.png#id=U4WfX&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li><strong>注解不光可以用在方法上，还可以用在类上、变量上、构造器上等位置。</strong></li>
</ul>
<p>上面我们说的@Test注解、@Overide注解是别人定义好给我们用的，将来如果需要自己去开发框架，就需要我们自己定义注解。</p>
<blockquote>
<p><strong>接着我们学习自定义注解</strong></p>
</blockquote>
<p>自定义注解的格式如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057592060-ae6df142-10ef-4b52-8574-8ce4ae911c6c.png#id=KBlQe&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>比如：现在我们自定义一个MyTest注解</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest{</span><br><span class="line">    String <span class="title function_">aaa</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">bbb</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">true</span>;	<span class="comment">//default true 表示默认值为true,使用时可以不赋值。</span></span><br><span class="line">    String[] ccc();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>定义好MyTest注解之后，我们可以使用MyTest注解在类上、方法上等位置做标记。注意使用注解时需要加@符号，如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MyTest1(aaa="牛魔王",ccc={"HTML","Java"})</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationTest1</span>{</span><br><span class="line">    <span class="meta">@MyTest(aaa="铁扇公主",bbb=false, ccc={"Python","前端","Java"})</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>注意：注解的属性名如何是value的话，并且只有value没有默认值，使用注解时value名称可以省略。比如现在重新定义一个MyTest2注解</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest2{</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>; <span class="comment">//特殊属性</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">age</span><span class="params">()</span> <span class="keyword">default</span> <span class="number">10</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>定义好MyTest2注解后，再将@MyTest2标记在类上，此时value属性名可以省略，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MyTest2("孙悟空")</span> <span class="comment">//等价于 @MyTest2(value="孙悟空")</span></span><br><span class="line"><span class="meta">@MyTest1(aaa="牛魔王",ccc={"HTML","Java"})</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationTest1</span>{</span><br><span class="line">    <span class="meta">@MyTest(aaa="铁扇公主",bbb=false, ccc={"Python","前端","Java"})</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>到这里关于定义注解的格式、以及使用注解的格式就学习完了。</p>
<blockquote>
<p><strong>注解本质是什么呢？</strong></p>
</blockquote>
<p>想要搞清楚注解本质是什么东西，我们可以把注解的字节码进行反编译，使用XJad工具进行反编译。经过对MyTest1注解字节码反编译我们会发现：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>MyTest1注解本质上是接口，每一个注解接口都继承子Annotation接口</span><br><span class="line"><span class="number">2.</span>MyTest1注解中的属性本质上是抽象方法</span><br><span class="line"><span class="number">3.</span><span class="meta">@MyTest1</span>实际上是作为MyTest接口的实现类对象</span><br><span class="line"><span class="number">4.</span><span class="meta">@MyTest1(aaa="孙悟空",bbb=false,ccc={"Python","前端","Java"})</span>里面的属性值，可以通过调用aaa()、bbb()、ccc()方法获取到。 【别着急，继续往下看，再解析注解时会用到】</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057592175-1c6f4afe-a4f7-4167-b051-4d091e020315.png#id=jI4P8&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="3-2-元注解"><a href="#3-2-元注解" class="headerlink" title="3.2 元注解"></a>3.2 元注解</h3><p>各位小伙伴，刚才我们已经认识了注解以及注解的基本使用。接下来我们还需要学习几种特殊的注解，叫做元注解。</p>
<blockquote>
<p><strong>什么是元注解？</strong></p>
</blockquote>
<p><strong>元注解是修饰注解的注解</strong>。这句话虽然有一点饶，但是非常准确。我们看一个例子</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057592299-f6b0e987-0e39-4182-8ff4-5c08adcbf121.png#id=nLJVR&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来分别看一下@Target注解和@Retention注解有什么作用，如下图所示</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>是用来声明注解只能用在那些位置，比如：类上、方法上、成员变量上等</span><br><span class="line"><span class="meta">@Retetion</span>是用来声明注解保留周期，比如：源代码时期、字节码时期、运行时期</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057592407-f17a9176-2f82-46f8-95fe-fff18b6b2757.png#id=dquyj&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<ul>
<li>@Target元注解的使用：比如定义一个MyTest3注解，并添加@Target注解用来声明MyTest3的使用位置</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span>	<span class="comment">//声明@MyTest3注解只能用在类上</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest3{</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>接下来，我们把@MyTest3用来类上观察是否有错，再把@MyTest3用在方法上、变量上再观察是否有错</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057592520-025709d2-d217-4057-9a87-fedf68920a02.png#id=KUroo&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>如果我们定义MyTest3注解时，使用@Target注解属性值写成下面样子</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明@MyTest3注解只能用在类上和方法上</span></span><br><span class="line"><span class="meta">@Target({ElementType.TYPE,ElementType.METHOD})</span>	</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest3{</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>此时再观察，@MyTest用在类上、方法上、变量上是否有错</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057592650-74752f26-1a18-419b-b520-ff900bede16d.png#id=NPczq&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>到这里@Target元注解的使用就演示完毕了。</p>
<ul>
<li>@Retetion元注解的使用：定义MyTest3注解时，给MyTest3注解添加@Retetion注解来声明MyTest3注解保留的时期</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retetion</span>是用来声明注解保留周期，比如：源代码时期、字节码时期、运行时期</span><br><span class="line">	<span class="meta">@Retetion(RetetionPloicy.SOURCE)</span>: 注解保留到源代码时期、字节码中就没有了</span><br><span class="line">	<span class="meta">@Retetion(RetetionPloicy.CLASS)</span>: 注解保留到字节码中、运行时注解就没有了</span><br><span class="line">	<span class="meta">@Retetion(RetetionPloicy.RUNTIME)</span>：注解保留到运行时期</span><br><span class="line">	【自己写代码时，比较常用的是保留到运行时期】</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明@MyTest3注解只能用在类上和方法上</span></span><br><span class="line"><span class="meta">@Target({ElementType.TYPE,ElementType.METHOD})</span>	</span><br><span class="line"><span class="comment">//控制使用了@MyTest3注解的代码中，@MyTest3保留到运行时期</span></span><br><span class="line"><span class="meta">@Retetion(RetetionPloicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest3{</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-3-解析注解"><a href="#3-3-解析注解" class="headerlink" title="3.3 解析注解"></a>3.3 解析注解</h3><p>各位小伙伴，通过前面的学习我们能够自己定义注解，也能够把自己定义的注解标记在类上或者方法上等位置，但是总感觉有点别扭，给类、方法、变量等加上注解后，我们也没有干什么呀！！！</p>
<p>接下来，我们就要做点什么。我们可以通过反射技术把类上、方法上、变量上的注解对象获取出来，然后通过调用方法就可以获取注解上的属性值了。<strong>我们把获取类上、方法上、变量上等位置注解及注解属性值的过程称为解析注解。</strong></p>
<p>解析注解套路如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>如果注解在类上，先获取类的字节码对象，再获取类上的注解</span><br><span class="line"><span class="number">2.</span>如果注解在方法上，先获取方法对象，再获取方法上的注解</span><br><span class="line"><span class="number">3.</span>如果注解在成员变量上，先获取成员变量对象，再获取变量上的注解</span><br><span class="line">总之：注解在谁身上，就先获取谁，再用谁获取谁身上的注解</span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057592780-46c1c411-8bdd-49b1-8eb1-9753fa76368a.png#id=rTjkP&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>解析来看一个案例，来演示解析注解的代码编写</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057592873-59902598-b807-4422-af02-f46622dbb7a5.png#id=yZmcz&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>按照需求要求一步一步完成</p>
<p>① 先定义一个MyTest4注解</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明@MyTest4注解只能用在类上和方法上</span></span><br><span class="line"><span class="meta">@Target({ElementType.TYPE,ElementType.METHOD})</span>	</span><br><span class="line"><span class="comment">//控制使用了@MyTest4注解的代码中，@MyTest4保留到运行时期</span></span><br><span class="line"><span class="meta">@Retetion(RetetionPloicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest4{</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">double</span> <span class="title function_">aaa</span><span class="params">()</span> <span class="keyword">default</span> <span class="number">100</span>;</span><br><span class="line">    String[] bbb();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>② 定义有一个类Demo</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MyTest4(value="蜘蛛侠",aaa=99.9, bbb={"至尊宝","黑马"})</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span>{</span><br><span class="line">    <span class="meta">@MyTest4(value="孙悟空",aaa=199.9, bbb={"紫霞","牛夫人"})</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>③ 写一个测试类AnnotationTest3解析Demo类上的MyTest4注解</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationTest3</span>{</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">parseClass</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">//1.先获取Class对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Demo.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.解析Demo类上的注解</span></span><br><span class="line">        <span class="keyword">if</span>(c.isAnnotationPresent(MyTest4.class)){</span><br><span class="line">            <span class="comment">//获取类上的MyTest4注解</span></span><br><span class="line">            <span class="type">MyTest4</span> <span class="variable">myTest4</span> <span class="operator">=</span> (MyTest4)c.getDeclaredAnnotation(MyTest4.class);</span><br><span class="line">            <span class="comment">//获取MyTests4注解的属性值</span></span><br><span class="line">            System.out.println(myTest4.value());</span><br><span class="line">            System.out.println(myTest4.aaa());</span><br><span class="line">            System.out.println(myTest4.bbb());</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">parseMethods</span><span class="params">()</span>{</span><br><span class="line">        <span class="comment">//1.先获取Class对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Demo.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.解析Demo类中test1方法上的注解MyTest4注解</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">m</span> <span class="operator">=</span> c.getDeclaredMethod(<span class="string">"test1"</span>);</span><br><span class="line">        <span class="keyword">if</span>(m.isAnnotationPresent(MyTest4.class)){</span><br><span class="line">            <span class="comment">//获取方法上的MyTest4注解</span></span><br><span class="line">            <span class="type">MyTest4</span> <span class="variable">myTest4</span> <span class="operator">=</span> (MyTest4)m.getDeclaredAnnotation(MyTest4.class);</span><br><span class="line">            <span class="comment">//获取MyTests4注解的属性值</span></span><br><span class="line">            System.out.println(myTest4.value());</span><br><span class="line">            System.out.println(myTest4.aaa());</span><br><span class="line">            System.out.println(myTest4.bbb());</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-4-注解的应用场景"><a href="#3-4-注解的应用场景" class="headerlink" title="3.4 注解的应用场景"></a>3.4 注解的应用场景</h3><p>各位同学，关于注解的定义、使用、解析注解就已经学习完了。接下来，我们再学习一下注解的应用场景，注解是用来写框架的，比如现在我们要模拟Junit写一个测试框架，要求有@MyTest注解的方法可以被框架执行，没有@MyTest注解的方法不能被框架执行。</p>
<p>第一步：先定义一个MyTest注解</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span>	</span><br><span class="line"><span class="meta">@Retetion(RetetionPloicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest{</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>第二步：写一个测试类AnnotationTest4，在类中定义几个被@MyTest注解标记的方法</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationTest4</span>{</span><br><span class="line">    <span class="meta">@MyTest</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"=====test1===="</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@MyTest</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"=====test2===="</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(<span class="string">"=====test2===="</span>);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>{</span><br><span class="line">        <span class="type">AnnotationTest4</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationTest4</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.先获取Class对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> AnnotationTest4.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.解析AnnotationTest4类中所有的方法对象</span></span><br><span class="line">        Method[] methods = c.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span>(Method m: methods){</span><br><span class="line">            <span class="comment">//3.判断方法上是否有MyTest注解，有就执行该方法</span></span><br><span class="line">            <span class="keyword">if</span>(m.isAnnotationPresent(MyTest.class)){</span><br><span class="line">            	m.invoke(a);</span><br><span class="line">        	}</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>恭喜小伙伴们，学习到这里，关于注解的使用就学会了(<em>▽</em>)</p>
<h2 id="四、动态代理"><a href="#四、动态代理" class="headerlink" title="四、动态代理"></a>四、动态代理</h2><h3 id="4-1-动态代理介绍、准备功能"><a href="#4-1-动态代理介绍、准备功能" class="headerlink" title="4.1 动态代理介绍、准备功能"></a>4.1 动态代理介绍、准备功能</h3><p>各位同学，这节课我们学习一个Java的高级技术叫做动态代理。首先我们认识一下代理长什么样？我们以大明星“杨超越”例。</p>
<p>假设现在有一个大明星叫杨超越，它有唱歌和跳舞的本领，作为大明星是要用唱歌和跳舞来赚钱的，但是每次做节目，唱歌的时候要准备话筒、收钱，再唱歌；跳舞的时候也要准备场地、收钱、再唱歌。杨超越越觉得我擅长的做的事情是唱歌，和跳舞，但是每次唱歌和跳舞之前或者之后都要做一些繁琐的事情，有点烦。于是杨超越就找个一个经济公司，请了一个代理人，代理杨超越处理这些事情，如果有人想请杨超越演出，直接找代理人就可以了。如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057592970-c19255f8-d342-4105-a6da-9350ec7a86ee.png#id=LPItV&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>我们说杨超越的代理是中介公司派的，那中介公司怎么知道，要派一个有唱歌和跳舞功能的代理呢？</p>
<p>解决这个问题，Java使用的是接口，杨超越想找代理，在Java中需要杨超越实现了一个接口，接口中规定要唱歌和跳舞的方法。Java就可以通过这个接口为杨超越生成一个代理对象，只要接口中有的方法代理对象也会有。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057593110-4ed4d39d-03d5-4adb-ba19-7be158e106a0.png#id=Kbnfv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>接下来我们就先把有唱歌和跳舞功能的接口，和实现接口的大明星类定义出来。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057593277-8fe9d4c8-c8fa-46df-a652-9f7a0d705b91.png#id=HyKsI&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<h3 id="4-2-生成动态代理对象"><a href="#4-2-生成动态代理对象" class="headerlink" title="4.2 生成动态代理对象"></a>4.2 生成动态代理对象</h3><p>下面我们写一个为BigStar生成动态代理对象的工具类。这里需要用Java为开发者提供的一个生成代理对象的类叫Proxy类。</p>
<p>通过Proxy类的newInstance(…)方法可以为实现了同一接口的类生成代理对象。 调用方法时需要传递三个参数，该方法的参数解释可以查阅API文档，如下。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057593385-1372f169-24ef-4cbd-8869-3ff159f4fa14.png#id=ZGFBX&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProxyUtil</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Star <span class="title function_">createProxy</span><span class="params">(BigStar bigStar)</span>{</span><br><span class="line">       <span class="comment">/* newProxyInstance(ClassLoader loader,</span></span><br><span class="line"><span class="comment">                Class&lt;?&gt;[] interfaces,</span></span><br><span class="line"><span class="comment">                InvocationHandler h)</span></span><br><span class="line"><span class="comment">                参数1：用于指定一个类加载器</span></span><br><span class="line"><span class="comment">                参数2：指定生成的代理长什么样子，也就是有哪些方法</span></span><br><span class="line"><span class="comment">                参数3：用来指定生成的代理对象要干什么事情</span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">        <span class="comment">// Star starProxy = ProxyUtil.createProxy(s);</span></span><br><span class="line">        <span class="comment">// starProxy.sing("好日子") starProxy.dance()</span></span><br><span class="line">        <span class="type">Star</span> <span class="variable">starProxy</span> <span class="operator">=</span> (Star) Proxy.newProxyInstance(ProxyUtil.class.getClassLoader(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Class</span>[]{Star.class}, <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() {</span><br><span class="line">                    <span class="meta">@Override</span> <span class="comment">// 回调方法</span></span><br><span class="line">                    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable {</span><br><span class="line">                        <span class="comment">// 代理对象要做的事情，会在这里写代码</span></span><br><span class="line">                        <span class="keyword">if</span>(method.getName().equals(<span class="string">"sing"</span>)){</span><br><span class="line">                            System.out.println(<span class="string">"准备话筒，收钱20万"</span>);</span><br><span class="line">                        }<span class="keyword">else</span> <span class="keyword">if</span>(method.getName().equals(<span class="string">"dance"</span>)){</span><br><span class="line">                            System.out.println(<span class="string">"准备场地，收钱1000万"</span>);</span><br><span class="line">                        }</span><br><span class="line">                        <span class="keyword">return</span> method.invoke(bigStar, args);</span><br><span class="line">                    }</span><br><span class="line">                });</span><br><span class="line">        <span class="keyword">return</span> starProxy;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>调用我们写好的ProxyUtil工具类，为BigStar对象生成代理对象</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">BigStar</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigStar</span>(<span class="string">"杨超越"</span>);</span><br><span class="line">        <span class="type">Star</span> <span class="variable">starProxy</span> <span class="operator">=</span> ProxyUtil.createProxy(s);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> starProxy.sing(<span class="string">"好日子"</span>);</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        starProxy.dance();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>运行测试类，结果如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057593499-cc0a50a3-cda9-4b68-ae07-dbc0c69c46ed.png#id=Ta6Jx&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>恭喜同学们，当你把上面的案例写出来，并且理解，那么动态代理的基本使用就学会了。</p>
<h3 id="4-3-动态代理应用"><a href="#4-3-动态代理应用" class="headerlink" title="4.3 动态代理应用"></a>4.3 动态代理应用</h3><p>学习完动态代理的基本使用之后，接下来我们再做一个应用案例。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057593617-3dce079a-8254-4a9c-98ab-77c0611befdb.png#id=WPhbk&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>现有如下代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  用户业务接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> {</span><br><span class="line">    <span class="comment">// 登录功能</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String loginName,String passWord)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="comment">// 删除用户</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">deleteUsers</span><span class="params">()</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="comment">// 查询用户，返回数组的形式。</span></span><br><span class="line">    String[] selectUsers() <span class="keyword">throws</span> Exception;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>下面有一个UserService接口的实现类，下面每一个方法中都有计算方法运行时间的代码。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用户业务实现类（面向接口编程）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String loginName, String passWord)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="type">long</span> <span class="variable">time1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">"admin"</span>.equals(loginName) &amp;&amp; <span class="string">"123456"</span>.equals(passWord)){</span><br><span class="line">            System.out.println(<span class="string">"您登录成功，欢迎光临本系统~"</span>);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            System.out.println(<span class="string">"您登录失败，用户名或密码错误~"</span>);</span><br><span class="line">        }</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="type">long</span> <span class="variable">time2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"login方法耗时："</span>+(time2-time1));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteUsers</span><span class="params">()</span> <span class="keyword">throws</span> Exception{</span><br><span class="line">        <span class="type">long</span> <span class="variable">time1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"成功删除了1万个用户~"</span>);</span><br><span class="line">        Thread.sleep(<span class="number">1500</span>);</span><br><span class="line">        <span class="type">long</span> <span class="variable">time2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"deleteUsers方法耗时："</span>+(time2-time1));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] selectUsers() <span class="keyword">throws</span> Exception{</span><br><span class="line">		<span class="type">long</span> <span class="variable">time1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"查询出了3个用户"</span>);</span><br><span class="line">        String[] names = {<span class="string">"张全蛋"</span>, <span class="string">"李二狗"</span>, <span class="string">"牛爱花"</span>};</span><br><span class="line">        Thread.sleep(<span class="number">500</span>);</span><br><span class="line">		<span class="type">long</span> <span class="variable">time2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"selectUsers方法耗时："</span>+(time2-time1));</span><br><span class="line">        <span class="keyword">return</span> names;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>观察上面代码发现有什么问题吗？</p>
<p>我们会发现每一个方法中计算耗时的代码都是重复的，我们可是学习了动态代理的高级程序员，怎么能忍受在每个方法中写重复代码呢！况且这些重复的代码并不属于UserSerivce的主要业务代码。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057593749-66b9e35b-62d2-40e2-92bb-6b208e999e6d.png#id=Jr7Kv&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>所以接下来我们打算，把计算每一个方法的耗时操作，交给代理对象来做。</p>
<p>先在UserService类中把计算耗时的代码删除，代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用户业务实现类（面向接口编程）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String loginName, String passWord)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">"admin"</span>.equals(loginName) &amp;&amp; <span class="string">"123456"</span>.equals(passWord)){</span><br><span class="line">            System.out.println(<span class="string">"您登录成功，欢迎光临本系统~"</span>);</span><br><span class="line">        }<span class="keyword">else</span> {</span><br><span class="line">            System.out.println(<span class="string">"您登录失败，用户名或密码错误~"</span>);</span><br><span class="line">        }</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteUsers</span><span class="params">()</span> <span class="keyword">throws</span> Exception{</span><br><span class="line">        System.out.println(<span class="string">"成功删除了1万个用户~"</span>);</span><br><span class="line">        Thread.sleep(<span class="number">1500</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] selectUsers() <span class="keyword">throws</span> Exception{</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"查询出了3个用户"</span>);</span><br><span class="line">        String[] names = {<span class="string">"张全蛋"</span>, <span class="string">"李二狗"</span>, <span class="string">"牛爱花"</span>};</span><br><span class="line">        Thread.sleep(<span class="number">500</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> names;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>然后为UserService生成一个动态代理对象，在动态代理中调用目标方法，在调用目标方法之前和之后记录毫秒值，并计算方法运行的时间。代码如下</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProxyUtil</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> UserService <span class="title function_">createProxy</span><span class="params">(UserService userService)</span>{</span><br><span class="line">        <span class="type">UserService</span> <span class="variable">userServiceProxy</span></span><br><span class="line">            <span class="operator">=</span> (UserService) Proxy.newProxyInstance(</span><br><span class="line">            ProxyUtil.class.getClassLoader(),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Class</span>[]{UserService.class}, </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() {</span><br><span class="line">                                                                            			<span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(                                                                             Object proxy, </span></span><br><span class="line"><span class="params">                              Method method, </span></span><br><span class="line"><span class="params">                                  Object[] args)</span> <span class="keyword">throws</span> Throwable {                             <span class="keyword">if</span>(</span><br><span class="line">                    method.getName().equals(<span class="string">"login"</span>) ||                                             method.getName().equals(<span class="string">"deleteUsers"</span>)||</span><br><span class="line">                    method.getName().equals(<span class="string">"selectUsers"</span>)){</span><br><span class="line">                    <span class="comment">//方法运行前记录毫秒值         </span></span><br><span class="line">                    <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">                    <span class="comment">//执行方法</span></span><br><span class="line">                    <span class="type">Object</span> <span class="variable">rs</span> <span class="operator">=</span> method.invoke(userService, args);</span><br><span class="line">                    <span class="comment">//执行方法后记录毫秒值</span></span><br><span class="line">                    <span class="type">long</span> <span class="variable">endTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">                    System.out.println(method.getName() + <span class="string">"方法执行耗时："</span> + (endTime - startTime)/ <span class="number">1000.0</span> + <span class="string">"s"</span>);</span><br><span class="line">                    <span class="keyword">return</span> rs;</span><br><span class="line">               }<span class="keyword">else</span> {</span><br><span class="line">                    <span class="type">Object</span> <span class="variable">rs</span> <span class="operator">=</span> method.invoke(userService, args);</span><br><span class="line">                    <span class="keyword">return</span> rs;                                                                }</span><br><span class="line">           }                                                                 });</span><br><span class="line">        <span class="comment">//返回代理对象</span></span><br><span class="line">        <span class="keyword">return</span> userServiceProxy;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>在测试类中为UserService创建代理对象</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 目标：使用动态代理解决实际问题，并掌握使用代理的好处。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception{</span><br><span class="line">        <span class="comment">// 1、创建用户业务对象。</span></span><br><span class="line">        <span class="type">UserService</span> <span class="variable">userService</span> <span class="operator">=</span> ProxyUtil.createProxy(<span class="keyword">new</span> <span class="title class_">UserServiceImpl</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、调用用户业务的功能。</span></span><br><span class="line">        userService.login(<span class="string">"admin"</span>, <span class="string">"123456"</span>);</span><br><span class="line">        System.out.println(<span class="string">"----------------------------------"</span>);</span><br><span class="line"></span><br><span class="line">        userService.deleteUsers();</span><br><span class="line">        System.out.println(<span class="string">"----------------------------------"</span>);</span><br><span class="line"></span><br><span class="line">        String[] names = userService.selectUsers();</span><br><span class="line">        System.out.println(<span class="string">"查询到的用户是："</span> + Arrays.toString(names));</span><br><span class="line">        System.out.println(<span class="string">"----------------------------------"</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>执行结果如下图所示</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057593875-ad1fb899-e76c-4ccb-88fa-db5e7c66daaa.png#id=QAXoa&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>动态代理对象的执行流程如下图所示，每次用代理对象调用方法时，都会执行InvocationHandler中的invoke方法。</p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/png/38909854/1710057593981-7f3941fd-67bf-44d1-9494-ed410515a296.png#id=NtRNT&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title="></p>
<p>恭喜同学们，动态代理我们已经学习完了。到此整个JavaSE的课程也学习完了。</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Saber</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://leistia.github.io/categories/develop/%E5%90%8E%E7%AB%AF/%E9%BB%91%E9%A9%ACjava%E6%95%99%E7%A8%8B.html">http://leistia.github.io/categories/develop/%E5%90%8E%E7%AB%AF/%E9%BB%91%E9%A9%ACjava%E6%95%99%E7%A8%8B.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Saber</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/">
                                    <span class="chip bg-color"></span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/categories/develop/%E5%90%8E%E7%AB%AF/%E9%BB%91%E9%A9%ACjava%E6%95%99%E7%A8%8B.html">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="IO流详解">
                        
                        <span class="card-title">IO流详解</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-09-16
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/" class="post-category">
                                    
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/">
                        <span class="chip bg-color"></span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                本篇&nbsp;<i class="far fa-dot-circle"></i>
            </div>
            <div class="card">
                <a href="/categories/develop/%E5%90%8E%E7%AB%AF/%E9%BB%91%E9%A9%ACjava%E6%95%99%E7%A8%8B.html">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="IO流详解">
                        
                        <span class="card-title">IO流详解</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-09-16
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/" class="post-category">
                                    
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/">
                        <span class="chip bg-color"></span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 嘟噜嘟~<br />'
            + '文章作者: Saber<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '随便借鉴好吧(我就是缝合怪)';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



 <!-- 天气插件 -->
 <div id="ww_700f0fa94d372" v='1.3' loc='id' a='{"t":"responsive","lang":"zh-Hant","sl_lpl":1,"ids":[],"font":"Arial","sl_ics":"one_a","sl_sot":"celsius","cl_bkg":"#0097A7","cl_font":"#FFFFFF","cl_cloud":"#FFFFFF","cl_persp":"#FFFFFF","cl_sun":"#FFC107","cl_moon":"#FFC107","cl_thund":"#FF5722","cl_odd":"#0000000a"}'><a href="https://weatherwidget.org/" id="ww_700f0fa94d372_u" target="_blank">Html weather widget</a></div><script async src="https://app2.weatherwidget.org/js/?id=ww_700f0fa94d372"></script>
    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2024</span>
            
            <span id="year">2024</span>
            <a href="/about" target="_blank">Saber</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">8</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            

            
                <div class="translate-style">
                    繁/简：<a id="translateLink" href="javascript:translatePage();">繁体
                    </a>
                </div>
                <script type="text/javascript" src="/js/tw_cn.js"></script>
                    <script type="text/javascript">
                    var defaultEncoding = 2; //网站编写字体是否繁体，1-繁体，2-简体
                    var translateDelay = 0; //延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0
                    var cookieDomain = "https://1han.wiki/"; //Cookie地址, 一定要设定, 通常为你的网址
                    var msgToTraditionalChinese = "繁体"; //此处可以更改为你想要显示的文字
                    var msgToSimplifiedChinese = "简体"; //同上，但两处均不建议更改
                    var translateButtonId = "translateLink"; //默认互换id
                    translateInitilization();
                 </script>
                

        
                
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/Leistia" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1705551409@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1705551409" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1705551409" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>



    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

  <!-- ------------------------------------------------------ -->
    
        <script type="text/javascript">
            //只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/js/sakura.js"><\/script>');
            }
        </script>
    
    
    
        <script type="text/javascript">
        //只在桌面版网页启用特效
        var windowWidth = $(window).width();
        if (windowWidth > 768) {
            document.write('<script type="text/javascript" src="/js/wenzi.js"><\/script>');
        }
        </script>
    
    <!-- 添加鼠标点击烟花爆炸效果 -->
    
        <canvas class="fireworks" style="position: fixed; left: 0; top: 0; z-index: 1; pointer-events: none;" ></canvas>
        <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
        <script type="text/javascript" src="/js/fireworks.js"></script>
    

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hibiki.model.json"},"display":{"position":"left","width":150,"height":350,"hOffset":50,"vOffset":-5},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"log":false});</script></body>

</html>
